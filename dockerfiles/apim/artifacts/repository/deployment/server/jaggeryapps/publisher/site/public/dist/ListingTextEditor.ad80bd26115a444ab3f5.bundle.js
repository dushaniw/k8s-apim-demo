(this.webpackJsonp=this.webpackJsonp||[]).push([[1],{1902:function(e,t,a){"use strict";a.r(t),function(e){var r,n=a(0),o=a.n(n),i=a(16),s=a(25),c=a(110),u=a(20),l=a.n(u),p=a(62),d=a(1342),m=a(4115),f=a(1470),b=a(71),g=a(4136),h=a(4130),y=a(288),E=a(1903),v=a(3908),S=a(3909),C=a.n(S),O=a(546),A=a(629),T=a(553),x=a(552),j=a(78),w=a(4129);function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},H={appBar:{position:"relative"},flex:{flex:1},popupHeader:{display:"flex",flexDirection:"row",alignItems:"center"},splitWrapper:{padding:0},docName:{alignItems:"center",display:"flex"},button:{height:30,marginLeft:30}};function L(e){return o.a.createElement(g.a,N({direction:"up"},e))}function P(e){var t=this,a=e.intl,r=(e.apiType,e.showAtOnce),i=e.history,c=e.docId,u=Object(n.useContext)(x.c),l=u.api,p=u.isAPIProduct,g=D(Object(n.useState)(r),2),S=g[0],I=g[1],N=D(Object(n.useState)(E.EditorState.createEmpty()),2),M=N[0],H=N[1],P=D(Object(n.useState)(!1),2),R=P[0],k=P[1],G=function(){if(S||U(),S&&r){var e="/".concat(p?"api-products":"apis","/").concat(l.id,"/documents");i.push(e)}I(!S)},U=function(){(p?new A.a:new O.a).getInlineContentOfDocument(l.id,c).then((function(e){var t=Object(E.convertFromHTML)(e.text),a=E.ContentState.createFromBlockArray(t.contentBlocks,t.entityMap);H(E.EditorState.createWithContent(a))})).catch((function(e){404===e.status&&t.setState({apiNotFound:!0})}))},q=e.classes;return o.a.createElement("div",null,o.a.createElement(d.a,{onClick:G,disabled:Object(j.b)(["apim:api_create","apim:api_publish"],l)||l.isRevision},o.a.createElement(h.a,null,"description"),o.a.createElement(s.a,{id:"Apis.Details.Documents.TextEditor.edit.content",defaultMessage:[{type:0,value:"Edit Content"}]})),o.a.createElement(m.a,{fullScreen:!0,open:S,onClose:G,TransitionComponent:L},o.a.createElement(y.a,{square:!0,className:q.popupHeader},o.a.createElement(f.a,{color:"inherit",onClick:G,"aria-label":"Close"},o.a.createElement(h.a,null,"close")),o.a.createElement(b.a,{variant:"h4",className:q.docName},o.a.createElement(s.a,{id:"Apis.Details.Documents.TextEditor.edit.content.of",defaultMessage:[{type:0,value:"Edit Content of"}]})," ",'"',e.docName,'"'),o.a.createElement(d.a,{className:q.button,variant:"contained",disabled:R,color:"primary",onClick:function(){var e=p?new A.a:new O.a;k(!0);var t=C()(Object(E.convertToRaw)(M.getCurrentContent()));e.addInlineContentToDocument(l.id,c,"INLINE",t).then((function(e){T.a.info("".concat(e.obj.name," ").concat(a.formatMessage({id:"Apis.Details.Documents.TextEditor.update.success.message",defaultMessage:[{type:0,value:"updated successfully."}]}))),G(),k(!1)})).catch((function(e){T.a.error("".concat(e," ").concat(a.formatMessage({id:"Apis.Details.Documents.TextEditor.update.error.message",defaultMessage:[{type:0,value:"update failed."}]}))),k(!1)}))}},o.a.createElement(s.a,{id:"Apis.Details.Documents.TextEditor.update.content.button",defaultMessage:[{type:0,value:"Update Content"}]}),R&&o.a.createElement(w.a,{size:24})),o.a.createElement(d.a,{className:q.button,onClick:G},o.a.createElement(s.a,{id:"Apis.Details.Documents.TextEditor.cancel.button",defaultMessage:[{type:0,value:"Cancel"}]}))),o.a.createElement("div",{className:q.splitWrapper},o.a.createElement(v.Editor,{editorState:M,wrapperClassName:"draftjs-wrapper",editorClassName:"draftjs-editor",onEditorStateChange:function(e){H(e)}}))))}M(P,"useContext{{ api, isAPIProduct }}\nuseState{[open, setOpen](showAtOnce)}\nuseState{[editorState, setEditorState](EditorState.createEmpty())}\nuseState{[isUpdating, setIsUpdating](false)}"),P.propTypes={classes:l.a.shape({}).isRequired,docId:l.a.string.isRequired,apiType:l.a.oneOf([O.a.CONSTS.API,O.a.CONSTS.APIProduct]).isRequired,intl:l.a.shape({}).isRequired,showAtOnce:l.a.bool.isRequired,api:l.a.shape({id:l.a.string,apiType:l.a.oneOf([O.a.CONSTS.API,O.a.CONSTS.APIProduct])}).isRequired};var R,k,G=Object(c.c)(Object(i.withRouter)(Object(p.a)(H)(P)));t.default=G,(R="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(R.register(H,"styles","/Users/user/testing/gartner/carbon-apimgt-9.0.174/features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/Documents/TextEditor.jsx"),R.register(L,"Transition","/Users/user/testing/gartner/carbon-apimgt-9.0.174/features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/Documents/TextEditor.jsx"),R.register(P,"TextEditor","/Users/user/testing/gartner/carbon-apimgt-9.0.174/features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/Documents/TextEditor.jsx"),R.register(G,"default","/Users/user/testing/gartner/carbon-apimgt-9.0.174/features/apimgt/org.wso2.carbon.apimgt.publisher.feature/src/main/resources/publisher/source/src/app/components/Apis/Details/Documents/TextEditor.jsx")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)}.call(this,a(33)(e))}}]);
//# sourceMappingURL=ListingTextEditor.ad80bd26115a444ab3f5.bundle.js.map