(this.webpackJsonp=this.webpackJsonp||[]).push([[13],{1655:function(e,t,a){"use strict";var n=a(1),r=a.n(n),l=a(69),i=a.n(l),s=a(1098),o=a(1695),c=a(4658),m=a(1744),p=a(1645),d=a.n(p),u=a(1654),g=a.n(u),f=a(1274),E=a.n(f),b=a(317),y=a(318),h=a(1121);a(1109);function v(e){const{classes:t,doc:a,apiId:l,fullScreen:i,intl:s,dontShowName:p}=e,{api:u}=Object(n.useContext)(h.a),[f,v]=Object(n.useState)(""),[w,O]=Object(n.useState)(!1),T=new y.a;Object(n.useEffect)(()=>{if("MARKDOWN"!==a.sourceType&&"INLINE"!==a.sourceType||T.getInlineContentOfDocument(l,a.documentId).then(e=>{let{text:t}=e;Object.keys(u).forEach(e=>{const a=new RegExp("___"+e+"___","g");t=t.replace(a,u[e])}),v(t)}).catch(e=>{}),"FILE"===a.sourceType){T.getFileForDocument(l,a.documentId).then(()=>{O(!0)}).catch(()=>{O(!1)})}},[e.doc]);return r.a.createElement(r.a.Fragment,null,!i&&r.a.createElement("div",{className:t.docBadge},a.type),!p&&a.summary&&r.a.createElement(o.a,{variant:"body1",className:t.docSummary},a.summary),"MARKDOWN"===a.sourceType&&r.a.createElement(d.a,{plugins:[g.a],escapeHtml:!0},f),"INLINE"===a.sourceType&&r.a.createElement(E.a,{html:f}),"URL"===a.sourceType&&r.a.createElement("a",{className:t.displayURL,href:a.sourceUrl,target:"_blank",rel:"noopener noreferrer"},a.sourceUrl,r.a.createElement(c.a,{className:t.displayURLLink},"open_in_new")),"FILE"===a.sourceType&&r.a.createElement(m.a,{variant:"contained",color:"default",className:t.button,disabled:!w,onClick:()=>{T.getFileForDocument(l,a.documentId).then(e=>{(e=>{let t="";const a=e.headers["content-disposition"];if(a&&-1!==a.indexOf("attachment")){const e=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(a);null!=e&&e[1]&&(t=e[1].replace(/['"]/g,""))}const n=e.headers["content-type"],r=new Blob([e.data],{type:n});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(r,t);else{const e=window.URL||window.webkitURL,a=e.createObjectURL(r);if(t){const e=document.createElement("a");void 0===e.download?window.location=a:(e.href=a,e.download=t,document.body.appendChild(e),e.click())}else window.location=a;setTimeout(()=>{e.revokeObjectURL(a)},100)}})(e)}).catch(e=>{0})}},r.a.createElement(b.a,{id:"Apis.Details.Documents.View.btn.download",defaultMessage:"Download"}),r.a.createElement(c.a,null,"arrow_downward")),"FILE"===a.sourceType&&!w&&r.a.createElement(o.a,{className:t.fileAvailability},r.a.createElement(b.a,{id:"Apis.Details.Documents.View.file.availability",defaultMessage:"No file available"})))}v.defaultProps={dontShowName:!1},v.propTypes={classes:i.a.shape({}).isRequired,doc:i.a.shape({}).isRequired,apiId:i.a.string.isRequired,intl:i.a.shape({formatMessage:i.a.func}).isRequired,fullScreen:i.a.bool.isRequired,dontShowName:i.a.bool},t.a=Object(b.d)(Object(s.a)(e=>({root:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},docTitle:{fontWeight:100,fontSize:50,color:e.palette.grey[500]},docBadge:{padding:e.spacing(1),background:e.palette.primary.main,position:"absolute",top:0,marginTop:-22,color:e.palette.getContrastText(e.palette.primary.main)},button:{padding:e.spacing(2),marginTop:e.spacing(2)},displayURL:{padding:e.spacing(2),marginTop:e.spacing(2),background:e.palette.grey[200],color:e.palette.getContrastText(e.palette.grey[200]),display:"flex"},displayURLLink:{paddingLeft:e.spacing(2)},docSummary:{marginTop:e.spacing(2),color:e.palette.text.primary},fileAvailability:{marginTop:e.spacing(1),marginLeft:e.spacing(.8)}}))(v))},4433:function(e,t,a){"use strict";var n=a(1100);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(1)),l=(0,n(a(1102)).default)(r.default.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}),"Code");t.default=l},4434:function(e,t,a){"use strict";var n=a(1100);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(1)),l=(0,n(a(1102)).default)(r.default.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"}),"MailOutline");t.default=l},4438:function(e,t,a){"use strict";var n=a(1100);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(1)),l=(0,n(a(1102)).default)(r.default.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-4.65 4.65c-.2.2-.51.2-.71 0L7 13h3V9h4v4h3z"}),"CloudDownloadRounded");t.default=l},4439:function(e,t,a){"use strict";var n=a(1100);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(1)),l=(0,n(a(1102)).default)(r.default.createElement("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"Launch");t.default=l},4699:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(317),i=a(502),s=a(4670),o=a(1737),c=a(1139),m=a(1708),p=a(4668),d=a(1246),u=a(1516),g=a(2066),f=a(1695),E=a(4439),b=a.n(E),y=a(2229),h=a(1771),v=a(1773),w=a(1774),O=a(4690),T=a(1776),S=a(1775),M=a(2230),k=a(1645),D=a.n(k),x=a(1654),A=a.n(x),N=a(1121),I=a(1666),R=a(1285),L=a(1786),P=a(21),j=a(2065),C=a(4433),B=a.n(C),U=a(1167),F=a.n(U),_=a(1712),z=a(4658);function G(){return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}const W=Object(o.a)(e=>({paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},codeIcon:{cursor:"pointer",color:e.palette.getContrastText(e.custom.infoBar.background)},code:{background:"#efefef",color:"cc0000",border:"solid 1px #ccc",padding:e.spacing(1)},iconStyle:{position:"absolute",top:60,right:30}}));var V=Object(l.d)((function(e){const{intl:t}=e,a=W(),[n]=r.a.useState(G),[i,s]=r.a.useState(!1),[o,c]=r.a.useState(!1),m=new URL(window.location);m.searchParams.set("widget",!0);const p='<iframe width="450" height="120" src="'+m+'" frameBorder="0" allowFullScreen title="Embed API" />';return r.a.createElement("div",null,r.a.createElement(B.a,{className:a.codeIcon,onClick:()=>{s(!0)}}),r.a.createElement(j.a,{open:i,onClose:()=>{s(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.a.createElement("div",{style:n,className:a.paper},r.a.createElement("h2",{id:"simple-modal-title"},r.a.createElement(l.a,{id:"Apis.Details.Social.EmbedCode",defaultMessage:"Embed"})),r.a.createElement("div",{className:a.code},r.a.createElement("code",null,p)),r.a.createElement(_.a,{title:o?t.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):t.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),placement:"right",className:a.iconStyle},r.a.createElement(F.a,{text:p,onCopy:()=>{c(!0),setTimeout(()=>c(!1),2e3)}},r.a.createElement(z.a,{color:"secondary"},"file_copy"))))))})),q=a(4434),H=a.n(q);const K=Object(o.a)(e=>({socialLink:{display:"inline-block","& img":{width:32,marginRight:e.spacing(1)}},oneFlex:{flex:1},socialLinkWrapper:{marginTop:16,display:"flex",alignItems:"center",paddingRight:e.spacing(2),"& > div":{display:"inline-block"}},divider:{display:"inline-block",borderRight:"solid 1px #ccc",marginLeft:e.spacing(1),marginRight:e.spacing(1),height:30},codeIcon:{cursor:"pointer",color:e.palette.getContrastText(e.custom.infoBar.background)}}));var $=Object(l.d)((function(){const e=K(),{api:t}=Object(n.useContext)(N.a),{name:a}=t,l=encodeURI(window.location),i=Object(c.a)(),[s,o]=[t.additionalProperties.find(e=>"slack_url"===e.name),t.additionalProperties.find(e=>"github_repo"===e.name)],{custom:{social:{showSharing:{active:m,showFacebook:p,showReddit:d,showTwitter:u,showEmbed:g,showEmail:f}}}}=i;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.oneFlex}),r.a.createElement("div",{className:e.socialLinkWrapper},s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{className:e.socialLink,id:"Slack",href:s.value,target:"_blank",rel:"noopener noreferrer",title:"Slack"},r.a.createElement("img",{src:P.app.context+"/site/public/images/social/slack.png",alt:"Slack"}))),o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{className:e.socialLink,id:"github",href:o.value,target:"_blank",rel:"noopener noreferrer",title:"GitHub"},r.a.createElement("img",{src:P.app.context+"/site/public/images/social/github.jpg",alt:"GitHub"}))),m&&(s||o)&&r.a.createElement("div",{className:e.divider}),m&&p&&r.a.createElement("a",{className:e.socialLink,id:"facebook",href:"http://www.facebook.com/sharer.php?u="+l,target:"_blank",rel:"noopener noreferrer",title:"Facebook"},r.a.createElement("img",{src:P.app.context+"/site/public/images/social/facebook.png",alt:"Facebook"})),m&&u&&r.a.createElement("a",{className:e.socialLink,id:"Twitter",href:`http://twitter.com/share?url=${l}&text=${a}`,target:"_blank",rel:"noopener noreferrer",title:"Twitter"},r.a.createElement("img",{src:P.app.context+"/site/public/images/social/twitter.png",alt:"Twitter"})),m&&d&&r.a.createElement("a",{className:e.socialLink,id:"Reddit",href:`http://www.reddit.com/submit?url=${l}&title=${a}`,target:"_blank",rel:"noopener noreferrer",title:"Reddit"},r.a.createElement("img",{src:P.app.context+"/site/public/images/social/reddit.png",alt:"Reddit"})),m&&g&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.divider}),r.a.createElement(V,null)),m&&f&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.divider}),r.a.createElement("a",{href:`mailto:?Subject=${a}&body=Link+:+${l}"`,className:e.codeIcon},r.a.createElement(H.a,null)))))})),Y=a(1165),J=a(34),X=a(1109),Q=a(183),Z=a(318),ee=a(1655),te=a(1698),ae=a(1713),ne=a(1710),re=a(2064),le=a(4617),ie=a(69),se=a.n(ie),oe=a(1744),ce=a(324),me=a(4661),pe=a(4662),de=a(4657),ue=a(1172),ge=a(77),fe=a(4704),Ee=a(4644);function be(e){const{completed:t,errors:a,inProgress:n,children:i,completedMessage:s,inProgressMessage:o}=e;let c,m=i;if(t?(c="success",s&&(m=s)):n?(c="info",o&&(m=o)):c="waiting",a)if(c="error",a.response){const{body:e}=a.response;m=r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,"[",e.code,"]")," ",":",e.description)}else m=r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{id:"Apis.Listing.TaskState.generic.error.prefix",defaultMessage:"Error while"})," ",o);return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(fe.a,{icon:n?r.a.createElement(Ee.a,{size:20,thickness:2}):null,variant:a?"standard":"plain",severity:c},m)))}function ye(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function he(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(a),!0).forEach((function(t){ve(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ye(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ve(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const we=Object(o.a)(()=>({tryoutLabel:{whiteSpace:"nowrap"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},statusBox:{outline:"none"},asyncButton:{minWidth:115}})),Oe="CREATED",Te="REJECTED",Se=new Z.a,Me={subscribe:{inProgress:!0,completed:!1,errors:!1},prepare:{inProgress:!1,completed:!1,errors:!1},generate:{inProgress:!1,completed:!1,errors:!1}},ke=(e,t)=>{const{name:a,status:n}=t;return"reset"===a?Me:he(he({},e),{},{[a]:he(he({},e[a]),n)})};function De(){const e=J.a.getUser(),{api:t,subscribedApplications:a,applicationsAvailable:i,updateSubscriptionData:s}=Object(n.useContext)(N.a),o=i.filter(e=>"DefaultApplication"===e.label),m=o.length>0?o[0]:null,[d,g]=Object(n.useReducer)(ke,Me),[E,b]=Object(n.useState)(!1),y=we(),h=Object(l.e)(),v=Object(ce.g)(),w=Object(c.a)(),O=Object(de.a)(w.breakpoints.down("xs")),T=t&&(t.type===ge.a.API_TYPES.WS||t.type===ge.a.API_TYPES.WEBSUB||t.type===ge.a.API_TYPES.SSE),S=t.lifeCycleStatus&&"prototyped"===t.lifeCycleStatus.toLowerCase(),M=async(e,t)=>{let a;g({name:t,status:{inProgress:!0}});try{a=await e}catch(e){console.error(e),g({name:t,status:{errors:e}})}return g({name:t,status:{inProgress:!1,completed:!0}}),a},k=async()=>{await s(),T?v.push("/apis/"+t.id+"/definition"):v.push("/apis/"+t.id+"/test")};Object.values(d).map(e=>e.completed).reduce((e,t)=>t&&e);const D=Object.values(d).map(e=>e.errors).find(e=>!1!==e),x=T?r.a.createElement(oe.a,{variant:"outlined",color:"primary",size:"small",classes:{root:y.asyncButton,label:y.tryoutLabel},onClick:k},r.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.btn.view.definition",defaultMessage:"View Definition"})):r.a.createElement(oe.a,{variant:"contained",color:"primary",size:"medium",classes:{label:y.tryoutLabel},onClick:k,"aria-label":"Go to Try Out page"},r.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.btn.tryout",defaultMessage:"Try Out"}));return!m||a.length>0||t.advertiseInfo.advertised||!e||T||S?r.a.createElement(r.a.Fragment,null,x):r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:async()=>{let e=null;t.tiers&&t.tiers.length>0?e=t.tiers[0].tierName:v.push("/apis/"+t.id+"/test"),b(!0);const a=await M((async()=>Se.getKeyManagers().then(e=>{const t={keyType:"SANDBOX",supportedGrantTypes:[],callbackUrl:"",additionalProperties:{},keyManager:""},a=[];let n;if(e.body.list.map(e=>a.push(e)),a.length>0){const e=a.filter(e=>"Resident Key Manager"===e.name);n=e.length>0?e[0]:a[0]}try{t.keyManager=n.id,t.supportedGrantTypes=n.availableGrantTypes,(n.availableGrantTypes.includes("implicit")||n.availableGrantTypes.includes("authorization_code"))&&(t.callbackUrl="http://localhost")}catch(e){X.a.error(h.formatMessage({id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.error.keymanager",defaultMessage:"Error while selecting the key manager"}))}return t}).catch(e=>{0}))(),"prepare");await M((async(e,t)=>{const a=await ue.a.get(t);(await a.getKeys(e.keyType)).size>0||a.generateKeys(e.keyType,e.supportedGrantTypes,e.callbackUrl,e.additionalProperties,e.keyManager).then(e=>(e.keyState===Oe||e.keyState===Te?X.a.error(h.formatMessage({id:"Apis.Details.GoToTryOut.error.keymanager",defaultMessage:"Key Generation is Blocked."})):console.log("Keys generated successfully with ID : "+e),e)).catch(e=>{const{status:t}=e;404===t&&X.a.error(h.formatMessage({id:"Apis.Details.GoToTryOut.error.404",defaultMessage:"Resource not found."}))})})(a,m.value),"generate"),await M(Se.subscribe(t.id,m.value,e),"subscribe")},variant:"contained",color:"primary",size:"medium","aria-label":"Try Out the API",classes:{label:y.tryoutLabel}},r.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.btn.tryout",defaultMessage:"Try Out"})),r.a.createElement(j.a,{"aria-label":"Preparing to Try Out the API",className:y.modal,open:E,closeAfterTransition:!0,BackdropComponent:me.a,BackdropProps:{timeout:500},role:"status"},r.a.createElement(pe.a,{in:E},r.a.createElement(u.a,{bgcolor:"background.paper",borderRadius:"borderRadius",width:O?.8:1/4,className:y.statusBox,p:2},r.a.createElement(p.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(be,{completed:d.subscribe.completed,errors:d.subscribe.errors,inProgress:d.subscribe.inProgress,completedMessage:r.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.popup.subscribe.complete.success",defaultMessage:"API subscribe to DefaultApplication successfully!"}),inProgressMessage:r.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.popup.subscribe.inprogress",defaultMessage:"API subscribing to DefaultApplication ..."})},r.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.popup.subscribe.complete",defaultMessage:"API subscribe to DefaultApplication"})),r.a.createElement(be,{completed:d.prepare.completed,errors:d.prepare.errors,inProgress:d.prepare.inProgress,completedMessage:r.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.popup.prepare.complete",defaultMessage:"Getting ready to generate keys"}),inProgressMessage:r.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.popup.prepare.inprogress",defaultMessage:"Gathering information to generate keys ..."})},r.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.popup.prepare.complete",defaultMessage:"Getting ready to generate keys"})),r.a.createElement(be,{completed:d.generate.completed,errors:d.generate.errors,inProgress:d.generate.inProgress,completedMessage:r.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.popup.generate.complete",defaultMessage:"Consumer key and secret generated successfully!"}),inProgressMessage:r.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.popup.generate.inprogress",defaultMessage:"Generating Consumer key and secret ..."})},r.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.popup.key.secret",defaultMessage:"Consumer key and secret"})),D?r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(oe.a,{onClick:()=>{b(!1),g({name:"reset"})},variant:"outlined"},r.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.continue.on.close",defaultMessage:"Close"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"caption"},r.a.createElement(l.a,{id:"Apis.Details.GoToTryOut.popup.final.message",defaultMessage:'All set to try out. Use the "Generate Keys" button to get an access token while you are on the Try Out page.'}))),r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(u.a,{display:"flex",pr:4},r.a.createElement(u.a,{flex:1}),x))))))))}const xe=Object(o.a)(e=>({root:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%",border:"solid 1px "+e.palette.grey[300],"& .MuiInputBase-root:before,  .MuiInputBase-root:hover":{borderBottom:"none !important",color:e.palette.primary.main},"& .MuiSelect-select":{color:e.palette.primary.main,paddingLeft:e.spacing()},"& .MuiInputBase-input":{color:e.palette.primary.main},"& .material-icons":{fontSize:16,color:e.palette.grey[700]+" !important"},borderRadius:10,marginRight:e.spacing()},input:{marginLeft:e.spacing(1),flex:1},avatar:{width:30,height:30,background:"transparent",border:"solid 1px "+e.palette.grey[300]},iconStyle:{cursor:"pointer",margin:"-10px 0",padding:"0 0 0 5px","& .material-icons":{fontSize:18,color:"#9c9c9c"}},sectionTitle:{color:"#424242",fontSize:"0.85rem",marginRight:20,fontWeight:400}}));function Ae(e){const{selectedEndpoint:t,updateSelectedEndpoint:a}=e,{api:i}=Object(n.useContext)(N.a),[s,o]=Object(n.useState)(!1),c=Object(l.e)(),p=xe(),g=()=>{o(!0);setTimeout((function(){o(!1)}),2e3)};return r.a.createElement(u.a,{display:"flex",flexDirection:"column",width:"100%"},r.a.createElement(u.a,{mr:5,display:"flex","area-label":"API URL details",alignItems:"center",width:"100%",flexDirection:"row"},t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{variant:"subtitle2",component:"label",for:"gateway-envirounment",gutterBottom:!0,align:"left",className:p.sectionTitle},r.a.createElement(l.a,{id:"Apis.Details.Environments.label.url",defaultMessage:"URL"})),r.a.createElement(m.a,{id:"gateway-envirounment",component:"form",className:p.root},i.endpointURLs.length>1&&r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{value:t.environmentName,onChange:a,"aria-label":"Select the Gateway Environment"},i.endpointURLs.map(e=>r.a.createElement(ne.a,{value:e.environmentName},e.environmentDisplayName||e.environmentName))),r.a.createElement(d.a,{height:30})),r.a.createElement(te.a,{className:p.input,inputProps:{"aria-label":"api url"},value:t.URLs.https||t.URLs.http||t.URLs.ws||t.URLs.wss}),r.a.createElement(le.a,{className:p.avatar,sizes:30},r.a.createElement(_.a,{title:s?c.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):c.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:p.iconStyle},r.a.createElement(F.a,{text:t.URLs.https||t.URLs.http||t.URLs.ws||t.URLs.wss,onCopy:()=>g()},r.a.createElement(ae.a,{"aria-label":"Copy the API URL to clipboard"},r.a.createElement(z.a,{color:"secondary"},"file_copy"))))))),!t&&"PROTOTYPED"!==i.lifeCycleStatus&&r.a.createElement(f.a,{variant:"subtitle2",component:"p",gutterBottom:!0,align:"left",className:p.sectionTitle},r.a.createElement(l.a,{id:"Apis.Details.Environments.label.noendpoint",defaultMessage:"No endpoints yet."})),r.a.createElement(De,null)),r.a.createElement(u.a,{ml:8,alignItems:"center",mt:1},t&&r.a.createElement(f.a,{variant:"caption"},(()=>{const{defaultVersionURLs:e}=t;return e&&(e.https||e.http||e.ws||e.wss)?r.a.createElement(r.a.Fragment,null,`\n            ${c.formatMessage({id:"Apis.Details.Environments.default.url",defaultMessage:"( Default Version ) "})}\n            ${e.https||e.http||e.ws||e.wss}`,r.a.createElement(_.a,{title:s?c.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):c.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:p.iconStyle},r.a.createElement(F.a,{text:e.https||e.http||e.ws||e.wss,onCopy:()=>g()},r.a.createElement(ae.a,{"aria-label":"Copy the Default Version URL to clipboard"},r.a.createElement(z.a,{color:"secondary"},"file_copy"))))):null})())))}Ae.propTypes={classes:se.a.shape({}).isRequired,intl:se.a.shape({}).isRequired};var Ne=Ae,Ie=a(4616),Re=a(4651),Le=a(4652),Pe=a(4653),je=a(1711),Ce=a(1098);function Be(e){const[t,a]=Object(n.useState)([]),{apiId:i}=e,s=Object(ce.g)();Object(n.useEffect)(()=>{(new Z.a).getDocumentsByAPIId(i).then(e=>{e.obj.list.length>0&&a(e.obj.list)}).catch(e=>{const{status:t}=e;404===t&&X.a.error("Error occurred")})},[]);const{classes:o}=e;return 0===t.length?r.a.createElement(p.a,{container:!0,className:o.root,spacing:2},r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement("div",{className:o.emptyBox},r.a.createElement(f.a,{variant:"body2"},r.a.createElement(l.a,{id:"Apis.Details.Overview.documents.no.content",defaultMessage:"No Documents Available"}))))):t.length>0&&r.a.createElement(Re.a,{component:"nav","aria-label":"Available document list",className:o.listWrapper},t.map((e,t)=>t<=1&&r.a.createElement(Le.a,{button:!0,onClick:()=>{return t=e.documentId,void s.push("/apis/"+i+"/documents/"+t);var t},className:o.listItemStyle,key:e.name},r.a.createElement(Pe.a,{classes:{root:o.listItemIcon}},r.a.createElement(z.a,null,"insert_drive_file")),r.a.createElement(je.a,{primary:e.name,classes:{primary:o.listItemPrimary}}))))}Be.propTypes={classes:se.a.shape({}).isRequired,theme:se.a.shape({}).isRequired};var Ue=Object(Ce.a)(e=>({root:{padding:e.spacing(3),maxWidth:e.custom.contentAreaWidth},iconClass:{marginRight:10,color:e.palette.secondary.main},boxBadge:{background:e.palette.grey.A400,color:e.palette.getContrastText(e.palette.grey.A400),fontSize:e.typography.h5.fontSize,padding:e.spacing(1),width:30,height:30,marginRight:20,textAlign:"center"},subscriptionBox:{paddingLeft:e.spacing(2)},linkStyle:{color:e.palette.getContrastText(e.palette.background.default),fontSize:e.typography.fontSize},subscriptionTop:{display:"flex",flexDirection:"row",alignItems:"center"},resourceWrapper:{height:192,overflow:"auto"},actionPanel:{justifyContent:"flex-start"},linkToTest:{textDecoration:"none"},emptyBox:{background:"#ffffff55",color:"#444",border:"solid 1px #fff",padding:e.spacing(2),marginTop:50},listWrapper:{padding:0,margin:0,width:"100%"},listItemStyle:{padding:0,margin:0},listItemIcon:{minWidth:30,color:"#BBBEBC66"},listItemPrimary:{fontSize:"14px"}}),{withTheme:!0})(Be),Fe=a(4438),_e=a.n(Fe),ze=a(5);const Ge=Object(o.a)(e=>({iconStyle:{cursor:"pointer",margin:"-10px 0",padding:"0 0 0 5px","& .material-icons":{fontSize:18,color:e.palette.secondary.main}},buttonIcon:{marginRight:10},downloadLink:{fontSize:14,color:e.palette.primary.main,display:"flex"}}));var We=function(e){const{selectedEndpoint:t}=e,{api:a}=Object(n.useContext)(N.a),s=new Z.a,o=Ge(),c=Object(l.e)();return"SOAP"===a.type?r.a.createElement(_.a,{title:r.a.createElement(l.a,{id:"Apis.Details.Environments.download.wsdl",defaultMessage:"WSDL"}),placement:"right",className:o.iconStyle},r.a.createElement(i.a,{onClick:()=>{return e=a.id,n=t.environmentName,void s.getWsdlClient().downloadWSDLForEnvironment(e,n).then(e=>{ze.a.downloadFile(e)}).catch(e=>{});var e,n}},r.a.createElement(_e.a,{className:o.buttonIcon}),r.a.createElement(l.a,{id:"Apis.Details.Environments.download.wsdl.text",defaultMessage:"Download WSDL"}))):"HTTP"===a.type||"SOAPTOREST"===a.type?r.a.createElement(_.a,{title:r.a.createElement(l.a,{id:"Apis.Details.Environments.download.swagger",defaultMessage:"Swagger"}),placement:"right",className:o.iconStyle},r.a.createElement(i.a,{href:"#",onClick:()=>{return e=a.id,n=t.environmentName,void s.getSwaggerByAPIIdAndEnvironment(e,n).then(e=>{ze.a.downloadFile(e)}).catch(e=>{console.log(e),X.a.error(c.formatMessage({id:"Apis.Details.Environments.download.swagger.error",defaultMessage:"Error downloading the Swagger"}))});var e,n},className:o.downloadLink},r.a.createElement(_e.a,{className:o.buttonIcon}),r.a.createElement(l.a,{id:"Apis.Details.Environments.download.swagger.text",defaultMessage:"Download Swagger"}))):void 0};const Ve=Object(o.a)(e=>({root:{width:"100%",height:"100vh",paddingLeft:e.spacing(2),paddingTop:e.spacing(2)},linkTitle:{color:e.palette.grey[800]},description:{color:e.palette.grey[700]},textLabel:{fontWeight:400,color:e.palette.grey[800]},textValue:{textIndent:e.spacing(1)},apiThumb:{padding:e.spacing(),border:"solid 1px",borderColor:e.palette.grey[800]},chipRoot:{cursor:"pointer",marginRight:e.spacing()},subtitle:{color:e.palette.grey[800]},cardRoot:{width:150,height:150,marginRight:e.spacing(),marginTop:e.spacing(2)},sectionTitle:{color:e.palette.grey[800],fontSize:"0.95rem",fontWeight:400},moreLink:{fontSize:"14px"},table:{"& th":{fontWeight:400}},requestCount:{fontSize:22},requestUnit:{fontSize:13}}));t.default=function(){const e=Object(c.a)(),{custom:{apiDetailPages:{showCredentials:t,showComments:a,showDocuments:o},infoBar:{showThumbnail:E},social:{showRating:k},showSwaggerDescriptionOnOverview:x}}=e,P=Object(l.e)(),{api:j,subscribedApplications:C}=Object(n.useContext)(N.a),[B,U]=Object(n.useState)(!0),[F,_]=Object(n.useState)(!1),[z,G]=Object(n.useState)(!1),[W,V]=Object(n.useState)(null),[q,H]=Object(n.useState)(null),[K,te]=Object(n.useState)(null),[ae,ne]=Object(n.useState)(null),[re,le]=Object(n.useState)({avgRating:0,total:0,count:0}),[ie,se]=Object(n.useState)(j.endpointURLs&&j.endpointURLs.length>0?j.endpointURLs[0]:null),oe=Ve();let ce=!1,me="";if(j.description){const e=40;if(j.description.split(" ").length>e){me=j.description.split(" ").slice(0,e).join(" ")+"...",ce=!0}}const pe=()=>(new Z.a).getAllTiers("subscription").then(e=>{try{const t=e.body.list.filter(e=>(e=>{const t=j.tiers.filter(t=>t.tierName===e);return t&&t.length>0})(e.name));ne(t)}catch(e){console.log(e),X.a.error(P.formatMessage({id:"Apis.Details.Overview.error.occurred",defaultMessage:"Error occurred"}))}}).catch(e=>{console.log(e);const{status:t}=e;X.a.error(P.formatMessage({id:"Apis.Details.Overview.error.occurred.subs",defaultMessage:"Error occurred when fetching subscription policies"})),404===t&&G(!0),V([]),_(!1)}),de=()=>(new Z.a).getDocumentsByAPIId(j.id).then(e=>{const t=e.body.list.filter(e=>"_overview"===e.otherTypeName);t.length>0&&H(t[0]),V(e.body.list)}).catch(e=>{console.log(e);const{status:t}=e;X.a.error(P.formatMessage({id:"Apis.Details.Overview.error.occurred.docs",defaultMessage:"Error occurred when fetching documents"})),404===t&&G(!0),V([]),_(!1)});Object(n.useEffect)(()=>{_(!0);const{endpointURLs:e}=j;e&&e.length>0&&se(e[0]),Promise.all([de(),pe()]).then(()=>{_(!1)})},[j]),Object(n.useEffect)(()=>{const e=new Z.a;x?e.getSwaggerByAPIIdAndEnvironment(j.id,ie.environmentName).then(e=>{const t=e.obj;t&&t.info?te(t.info.description):te("")}).catch(e=>{console.log(e),te("")}):(_(!0),Promise.all([de(),pe()]).then(()=>{_(!1)}))},[]);const ue=()=>j.keyManagers?"all"===j.keyManagers[0]?null:j.keyManagers.map(e=>r.a.createElement(f.a,{variant:"body2"},e)):null,ge=J.a.getUser();return F?r.a.createElement(Q.a,null):x?K?r.a.createElement(u.a,{p:3},r.a.createElement(D.a,{plugins:[A.a],escapeHtml:!0},K)):r.a.createElement(Q.a,null):W?z?r.a.createElement(Y.a,{message:P.formattedMessage({id:"Apis.Details.Overview.not.found.message",defaultMessage:"Resource Not Found"})}):q?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:oe.paperWithDoc},r.a.createElement(ee.a,{doc:q,apiId:j.id,fullScreen:!0,dontShowName:!0}))):r.a.createElement(m.a,{className:oe.root,elevation:0},r.a.createElement(p.a,{container:!0},r.a.createElement(p.a,{item:!0,sm:8,xl:9},r.a.createElement(u.a,{display:"flex",flexDirection:"column"},r.a.createElement(u.a,{display:"flex",flexDirection:"row"},E&&r.a.createElement(u.a,{id:"overview-thumbnail",width:86,display:"flex",alignItems:"center"},r.a.createElement(u.a,{className:oe.apiThumb},r.a.createElement(I.a,{api:j,customWidth:70,customHeight:50,showInfo:!1}))),r.a.createElement(u.a,{ml:3,mr:2},r.a.createElement(f.a,{variant:"h4",component:"h2"},j.name),j.description&&r.a.createElement(f.a,{variant:"body2",gutterBottom:!0,align:"left",className:oe.description},ce&&B?me:j.description,ce&&r.a.createElement("a",{"aria-label":"Show more/less description",onClick:e=>{e.preventDefault(),U(!B)},href:"#"},B?" more":" less")),r.a.createElement(u.a,{display:"flex","area-lable":"API version and owner details",flexDirection:"row"},r.a.createElement(f.a,{variant:"body2",gutterBottom:!0,align:"left",className:oe.textLabel},r.a.createElement(l.a,{id:"Apis.Details.Overview.list.version",defaultMessage:"Version "}))," ",r.a.createElement(f.a,{variant:"body2",gutterBottom:!0,align:"left",className:oe.textValue},j.version),r.a.createElement(d.a,{height:20}),r.a.createElement(f.a,{variant:"body2",gutterBottom:!0,align:"left",className:oe.textLabel},r.a.createElement(l.a,{id:"Apis.Details.Overview.list.provider",defaultMessage:"By "}))," ",r.a.createElement(f.a,{variant:"body2",gutterBottom:!0,align:"left",className:oe.textValue},(()=>{let{provider:e}=j;return j.businessInformation&&j.businessInformation.businessOwner&&""!==j.businessInformation.businessOwner.trim()&&(e=j.businessInformation.businessOwner),e})())))),r.a.createElement(u.a,{display:"flex",flexDirection:"row",alignItems:"center",mt:2,pr:6},r.a.createElement(Ne,{updateSelectedEndpoint:e=>{const t=e.target.value,a=j.endpointURLs.filter(e=>e.environmentName===t);a&&a.length>0?se(a[0]):X.a.error(P.formatMessage({id:"Apis.Details.Overview.select.env.error",defaultMessage:"Error Selecting Environment"}))},selectedEndpoint:ie})),r.a.createElement(u.a,{mt:6},r.a.createElement(f.a,{variant:"subtitle2",component:"h3",className:oe.sectionTitle},r.a.createElement(l.a,{id:"Apis.Details.Overview.business.plans.title",defaultMessage:"Business Plans"}))),r.a.createElement(u.a,{flexWrap:"wrap",display:"flex",flexDirection:"row",alignItems:"center",mt:2,ml:1,textAlign:"center"},ae&&ae.map(e=>r.a.createElement(y.a,{className:oe.cardRoot,key:e.name},r.a.createElement(M.a,null,r.a.createElement(f.a,{className:oe.cardMainTitle,color:"textSecondary",gutterBottom:!0},e.name),r.a.createElement(u.a,{mt:2},r.a.createElement(f.a,{className:oe.requestCount,color:"textSecondary"},2147483647===e.requestCount?"Unlimited":e.requestCount)),r.a.createElement(u.a,null,r.a.createElement(f.a,{className:oe.requestUnit,color:"textSecondary"},"Requests/",e.timeUnit)))))),t&&C.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{mt:6},r.a.createElement(f.a,{variant:"subtitle2",component:"h3",className:oe.sectionTitle},r.a.createElement(l.a,{id:"Apis.Details.Overview.subscriptions.title",defaultMessage:"Subscriptions"}))),r.a.createElement(u.a,{mt:2,ml:1,pr:6},r.a.createElement(O.a,{component:m.a},r.a.createElement(h.a,{className:oe.table,"aria-label":"simple table"},r.a.createElement(T.a,null,r.a.createElement(S.a,null,r.a.createElement(w.a,null,r.a.createElement(l.a,{id:"Apis.Details.Overview.api.credentials.subscribed.apps.name",defaultMessage:"Application Name"})),r.a.createElement(w.a,null,r.a.createElement(l.a,{id:"Apis.Details.Overview.api.credentials.subscribed.apps.tier",defaultMessage:"Throttling Tier"})),r.a.createElement(w.a,null,r.a.createElement(l.a,{id:"Apis.Details.Overview.api.credentials.subscribed.apps.status",defaultMessage:"Application Status"})))),r.a.createElement(v.a,null,C.map(e=>r.a.createElement(S.a,{key:e.label},r.a.createElement(w.a,{component:"th",scope:"row"},r.a.createElement(s.a,{component:i.a,to:`/applications/${e.value}/overview`},e.label)),r.a.createElement(w.a,null,e.policy),r.a.createElement(w.a,null,e.status)))))))),r.a.createElement(u.a,{mt:6},!j.advertiseInfo.advertised&&a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{variant:"subtitle2",component:"h3",className:oe.sectionTitle},r.a.createElement(l.a,{id:"Apis.Details.Overview.comments.title",defaultMessage:"Comments"})),r.a.createElement(u.a,{pr:6},j&&r.a.createElement(Ie.default,{apiId:j.id,isOverview:!0})))))),r.a.createElement(p.a,{item:!0,xs:4,xl:3},!j.advertiseInfo.advertised&&ge&&k&&r.a.createElement(u.a,{display:"flex",flexDirection:"row",alignItems:"center"},r.a.createElement(L.a,{avgRating:re.avgRating,reviewCount:re.total,returnCount:re.count}),r.a.createElement(d.a,{height:30}),r.a.createElement(R.a,{apiId:j.id,isEditable:!0,showSummary:!1,setRatingUpdate:e=>{if(e){const{avgRating:t,total:a,count:n}=e;le({avgRating:t,total:a,count:n})}}})),r.a.createElement(u.a,{mt:6},r.a.createElement($,null)),j.advertiseInfo.advertised&&r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:j.advertiseInfo.originalStoreUrl,className:oe.viewInPubStoreLauncher},r.a.createElement("div",null,r.a.createElement(b.a,null)),r.a.createElement("div",{className:oe.linkText},r.a.createElement(l.a,{id:"Apis.Details.Overview.visit.publisher.portal",defaultMessage:"Visit Publisher Portal"}))),r.a.createElement(d.a,{height:70})),r.a.createElement(u.a,{mt:6,mb:1},r.a.createElement(f.a,{variant:"subtitle2",component:"h3",className:oe.sectionTitle},r.a.createElement(l.a,{id:"Apis.Details.Overview.tags.title",defaultMessage:"Tags"}))),r.a.createElement(f.a,{variant:"body2",className:oe.endpointLabel},j.tags.map(e=>r.a.createElement(g.a,{label:e,key:e,component:i.a,clickable:!0,to:"/apis?offset=0&query=tag:"+e,classes:{root:oe.chipRoot},variant:"outlined",size:"small"})),0===j.tags.length&&r.a.createElement(l.a,{id:"Apis.Details.Overview.list.tags.not",defaultMessage:"Not Tagged"})),o&&W&&W.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{mt:6},r.a.createElement(f.a,{variant:"subtitle2",component:"h3",className:oe.sectionTitle},r.a.createElement(l.a,{id:"Apis.Details.Overview.documents.title",defaultMessage:"Documents"}))),r.a.createElement(u.a,{pr:2,pl:1},r.a.createElement(Ue,{apiId:j.id}),W.length>2&&r.a.createElement(s.a,{component:i.a,to:"/apis/"+j.id+"/documents",className:oe.moreLink},W.length-2," ",r.a.createElement(l.a,{id:"Apis.Details.Overview.comments.show.more.more",defaultMessage:"more"})))),j.businessInformation.businessOwnerEmail&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{mt:6},r.a.createElement(f.a,{variant:"subtitle2",component:"h3",className:oe.sectionTitle},r.a.createElement(l.a,{id:"Apis.Details.Overview.business.info",defaultMessage:"Business Info"}))),r.a.createElement(u.a,{mt:1},r.a.createElement(f.a,{variant:"body2"},j.businessInformation.businessOwnerEmail))),r.a.createElement(u.a,{mt:6},r.a.createElement(f.a,{variant:"subtitle2",component:"h3",className:oe.sectionTitle},r.a.createElement(l.a,{id:"Apis.Details.Overview.source",defaultMessage:"Source"}))),("HTTP"===j.type||"SOAPTOREST"===j.type||"SOAP"===j.type)&&r.a.createElement(u.a,{mt:2},r.a.createElement(We,{selectedEndpoint:ie})),ue()&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{mt:6},r.a.createElement(f.a,{variant:"subtitle2",component:"h3",className:oe.sectionTitle},r.a.createElement(l.a,{id:"Apis.Details.Overview.key.manager",defaultMessage:"Key Managers"}))),r.a.createElement(u.a,{mt:1},ue())),j.additionalProperties&&Object.keys(j.additionalProperties).length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{mt:6},r.a.createElement(f.a,{variant:"subtitle2",className:oe.sectionTitle},r.a.createElement(l.a,{id:"Apis.Details.Overview.additional.properties",defaultMessage:"Additonal properties"}))),r.a.createElement(u.a,{mt:1,ml:1},j.additionalProperties.filter(e=>{let{name:t,display:a}=e;return a&&!["slack_url","github_repo"].includes(t)}).map(e=>{let{name:t,value:a}=e;return r.a.createElement(f.a,{variant:"body2"},t," ",":"," ",a)})))))):r.a.createElement(Q.a,null)}}}]);
//# sourceMappingURL=APIOverview.e40614edb5db7af7c007.bundle.js.map