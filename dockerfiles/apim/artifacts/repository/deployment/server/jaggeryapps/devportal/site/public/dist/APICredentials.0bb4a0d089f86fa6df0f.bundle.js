(this.webpackJsonp=this.webpackJsonp||[]).push([[11],{1173:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return o}));var n=a(1),s=a.n(n),i=a(69),r=a.n(i),l=a(34);const o={APIS:"/apis",SINGLE_API:"/apis/{apiId}",API_SWAGGER:"/apis/{apiId}/swagger",API_WSDL:"/apis/{apiId}/wsdl",API_GW_CONFIG:"/apis/{apiId}/gateway-config",API_THUMBNAIL:"/apis/{apiId}/thumbnail",API_COPY:"/apis/copy-api",API_LC_HISTORY:"/apis/{apiId}/lifecycle-history",API_CHANGE_LC:"/apis/change-lifecycle",API_LC:"/apis/{apiId}/lifecycle",API_LC_PENDING_TASK:"/apis/{apiId}/lifecycle/lifecycle-pending-task",API_DEF:"/apis/import-definition",API_VALIDATE_DEF:"/apis/validate-definition",API_DOCS:"/apis/{apiId}/documents",API_DOC:"'/apis/{apiId}/documents/{documentId}'",API_DOC_CONTENT:"'/apis/{apiId}/documents/{documentId}/content'",APPLICATIONS:"/applications",SINGLE_APPLICATION:"/applications/{applicationId}",APPLICATION_GENERATE_KEYS:"/applications/{applicationId}/generate-keys",APPLICATION_GENERATE_KEY_TYPE:"/applications/{applicationId}/keys/{keyType}",EXPORT_APIS:"/export/apis",IMPORT_APIS:"/import/apis",SUBSCRIPTION:"/subscriptions",SINGLE_SUBSCRIPTION:"/subscriptions/{subscriptionId}",SUBSCRIPTIONS:"/subscriptions",BLOCK_SUBSCRIPTION:"/subscriptions/block-subscription:",UNBLOCK_SUBSCRIPTION:"/subscriptions/unblock-subscription",POLICIES:"'/policies/{tierLevel}'",POLICY:"'/policies/{tierLevel}/{tierName}'",ENDPOINTS:"/endpoints",ENDPOINT:"/endpoints/{endpointId}",LABLES:"/labels",WORKFLOW:"/workflows/{workflowReferenceId}",SERVICE_DISCOVERY:"/external-resources/services"},c={POST:"post",PUT:"put",GET:"get",DELETE:"delete"};class p extends s.a.Component{constructor(e){super(e),this.state={}}componentDidMount(){const{resourcePath:e,resourceMethod:t}=this.props,a=l.a.hasScopes(e,t);a&&a.then(e=>{this.setState({haveScope:e})})}render(){const{children:e}=this.props;return this.state.haveScope&&e||null}}p.propTypes={children:r.a.node.isRequired,resourcePath:r.a.string.isRequired,resourceMethod:r.a.string.isRequired}},1253:function(e,t,a){"use strict";var n=a(1544),s=a.n(n);const i={number:s.a.number().integer(),url:s.a.string().uri().allow(""),ipAddress:s.a.string().ip({version:["ipv4","ipv6"],cidr:"optional"})};t.a=i},1340:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(122),s=a(139),i=a(5);class r extends s.a{constructor(){super(),this.client=(new n.a).getAPIClient(i.a.getEnvironment().label).client}getSubscriptions(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25;return this.client.then(n=>n.apis.Subscriptions.get_subscriptions({apiId:e,applicationId:t,limit:a}))}getSubscription(e){return this.client.then(t=>t.apis.Subscriptions.get_subscriptions__subscriptionId_({subscriptionId:e}))}getMonetizationInvoice(e){return this.client.then(t=>t.apis["API Monetization"].get_subscriptions__subscriptionId__usage({subscriptionId:e}))}deleteSubscription(e){return this.client.then(t=>t.apis.Subscriptions.delete_subscriptions__subscriptionId_({subscriptionId:e}))}updateSubscription(e,t,a,n,s,i){return this.client.then(r=>{let l=null;l={applicationId:e,apiId:t,subscriptionId:a,throttlingPolicy:n,status:s,requestedThrottlingPolicy:i};const o={subscriptionId:a};return r.apis.Subscriptions.put_subscriptions__subscriptionId_(o,{requestBody:l},{"Content-Type":"application/json"})})}}},1546:function(e,t,a){"use strict";var n=a(1100);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a(1)),i=(0,n(a(1102)).default)(s.default.createElement("path",{d:"M11 5v5.59H7.5l4.5 4.5 4.5-4.5H13V5h-2zm-5 9c0 3.31 2.69 6 6 6s6-2.69 6-6h-2c0 2.21-1.79 4-4 4s-4-1.79-4-4H6z"}),"PlayForWork");t.default=i},1665:function(e,t,a){"use strict";var n=a(1),s=a.n(n),i=a(69),r=a.n(i),l=a(1098),o=a(1744),c=a(1516),p=a(1695),d=a(317),u=a(1180),m=a(4644),g=a(4703),y=a(4689),h=a(1109),b=a(4674),E=a(4675),f=a(4676),k=a(4678),S=a(1546),A=a.n(S),C=a(1173),T=a(1709),v=a(1703),M=a(4668),O=a(1702);function w(e){const{consumerKey:t,consumerSecret:a,onChange:n,isUserOwner:i,key:r,provideOAuthKeySecret:l,importDisabled:c}=e,u=Object(d.e)(),[m,g]=s.a.useState(!1),y=()=>{g(!1)};function h(e){n&&n(e)}return s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,{variant:"outlined",color:"secondary",startIcon:s.a.createElement(A.a,null),onClick:()=>{g(!0)},disabled:c},s.a.createElement(d.a,{defaultMessage:"Provide Existing OAuth Keys",id:"Shared.AppsAndKeys.ImportExternalApp.provide.oauth"})),s.a.createElement(b.a,{open:m,onClose:y,"aria-labelledby":"form-dialog-title"},s.a.createElement(k.a,{id:"form-dialog-title"},s.a.createElement(d.a,{defaultMessage:"Provide Existing OAuth Keys",id:"Shared.AppsAndKeys.ImportExternalApp.provide.oauth"})),s.a.createElement(f.a,null,s.a.createElement(M.a,{container:!0,spacing:3,direction:"column"},s.a.createElement(M.a,{item:!0,xs:12},s.a.createElement(O.a,{id:"provided-consumer-key",name:"providedConsumerKey",label:u.formatMessage({defaultMessage:"Consumer Key",id:"Shared.AppsAndKeys.ImportExternalApp.consumer.key"}),value:t,onChange:e=>h(e),margin:"normal",fullWidth:!0,disabled:!i,variant:"outlined"}),s.a.createElement(v.a,null,s.a.createElement(T.a,{id:"consumer-key-helper-text"},s.a.createElement(d.a,{id:"Shared.AppsAndKeys.ImportExternalApp.consumer.key.title",defaultMessage:"Consumer Key of the OAuth application"})))),s.a.createElement(M.a,{item:!0,xs:12},s.a.createElement(O.a,{id:"provided-consumer-secret",name:"providedConsumerSecret",label:u.formatMessage({defaultMessage:"Consumer Secret",id:"Shared.AppsAndKeys.ImportExternalApp.consumer.secret"}),value:a,onChange:e=>h(e),margin:"normal",fullWidth:!0,disabled:!i,variant:"outlined"}),s.a.createElement(v.a,null,s.a.createElement(T.a,{id:"consumer-secret-helper-text"},s.a.createElement(d.a,{id:"Shared.AppsAndKeys.ImportExternalApp.consumer.secret.of.application",defaultMessage:"Consumer Secret of the OAuth application"})))))),s.a.createElement(E.a,null,s.a.createElement(o.a,{onClick:y,color:"primary"},s.a.createElement(d.a,{defaultMessage:"Cancel",id:"Shared.AppsAndKeys.ImportExternalApp.cancel"})),s.a.createElement(C.a,{resourcePath:C.c.APPLICATION_GENERATE_KEYS,resourceMethod:C.b.POST},i?s.a.createElement(o.a,{variant:"contained",color:"primary",onClick:()=>l()},r?s.a.createElement(d.a,{defaultMessage:"Update",id:"Shared.AppsAndKeys.ImportExternalApp.provide.oauth.button.update"}):s.a.createElement(d.a,{defaultMessage:"Provide",id:"Shared.AppsAndKeys.ImportExternalApp.provide.oauth.button.provide"})):s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,{variant:"contained",color:"primary",onClick:()=>l(),disabled:!i},r?s.a.createElement(d.a,{defaultMessage:"Update",id:"Shared.AppsAndKeys.ImportExternalApp.provide. oauth.button.update"}):s.a.createElement(d.a,{defaultMessage:"Provide",id:"Shared.AppsAndKeys.ImportExternalApp.provide.oauth.button.provide"})),s.a.createElement(p.a,{variant:"caption"},s.a.createElement(d.a,{defaultMessage:"Only owner can provide keys",id:"Shared.AppsAndKeys.ImportExternalApp.key.provide.user.owner"})))))))}w.propTypes={intl:r.a.shape({}).isRequired,onChange:r.a.func.isRequired,consumerKey:r.a.string,consumerSecret:r.a.string,isUserOwner:r.a.string,key:r.a.shape({}).isRequired,provideOAuthKeySecret:r.a.func.isRequired,importDisabled:r.a.bool},w.defaultProps={consumerKey:"",consumerSecret:"",isUserOwner:!1,importDisabled:!1};var K=w,P=a(1172),I=a(34),x=a(1166),R=a(1420),N=a.n(R),D=a(318),L=a(1253),U=a(241),q=a.n(U),_=a(2062),B=a(1781),W=a(1167),j=a.n(W),G=a(1712),z=a(1713),V=a(4658),F=a(1771),H=a(1773),J=a(1774),Y=a(1775),X=a(21),$=a.n(X),Q=a(1165),Z=a(1696),ee=a(1711),te=a(2066),ae=a(1710),ne=a(2064),se=a(1697);const ie=e=>{const{classes:t,config:a,isUserOwner:i,previousValue:r,handleChange:l}=e,[o,d]=Object(n.useState)(r),u=e=>{const{target:t}=e;d(t.value),l("additionalProperties",e)};return Object(n.useEffect)(()=>{d(r)},[r]),s.a.createElement(s.a.Fragment,null,s.a.createElement(Y.a,null,s.a.createElement(J.a,{component:"th",scope:"row",className:t.leftCol},a.label),s.a.createElement(J.a,null,s.a.createElement(c.a,{maxWidth:600},"select"===a.type&&!1===a.multiple?s.a.createElement(O.a,{classes:{root:t.removeHelperPadding},fullWidth:!0,id:a.name,select:!0,label:a.label,value:o,name:a.name,onChange:e=>u(e),helperText:s.a.createElement(p.a,{variant:"caption"},a.tooltip),margin:"dense",variant:"outlined",disabled:!i},a.values.map(e=>s.a.createElement(ae.a,{key:e,value:e},e))):"select"===a.type&&!0===a.multiple&&Array.isArray(o)?s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{variant:"outlined",className:t.formControl,fullWidth:!0},s.a.createElement(Z.a,{id:"multi-select-label"},a.label),s.a.createElement(ne.a,{labelId:"multi-select-label",id:"multi-select-outlined",margin:"dense",displayEmpty:!0,name:a.name,multiple:!0,value:o,onChange:e=>u(e),input:s.a.createElement(se.a,{id:"multi-select-outlined"}),renderValue:e=>s.a.createElement("div",{className:t.chips},e.map(e=>s.a.createElement(te.a,{key:e,label:e,className:t.chip}))),helperText:s.a.createElement(p.a,{variant:"caption"},a.tooltip),label:a.label},a.values.map(e=>s.a.createElement(ae.a,{key:e,value:e},s.a.createElement(_.a,{checked:o.indexOf(e)>-1}),s.a.createElement(ee.a,{primary:e}))))),s.a.createElement(p.a,{variant:"caption"},a.tooltip)):(a.type,s.a.createElement(O.a,{classes:{root:t.removeHelperPadding},fullWidth:!0,id:a.name,label:a.label,value:o,name:a.name,onChange:e=>u(e),helperText:s.a.createElement(p.a,{variant:"caption"},a.tooltip),margin:"dense",variant:"outlined",disabled:!i}))))))};ie.defaultProps={notFound:!1},ie.propTypes={classes:r.a.instanceOf(Object).isRequired,previousValue:r.a.any.isRequired,isUserOwner:r.a.bool.isRequired,handleChange:r.a.func.isRequired,config:r.a.any.isRequired,notFound:r.a.bool,intl:r.a.shape({formatMessage:r.a.func}).isRequired};var re=Object(d.d)(Object(l.a)(e=>({FormControl:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2),paddingLeft:0,width:"100%"},FormControlOdd:{padding:e.spacing(2),width:"100%"},button:{marginLeft:e.spacing(1)},quotaHelp:{position:"relative"},checkboxWrapper:{display:"flex"},checkboxWrapperColumn:{display:"flex",flexDirection:"row"},group:{flexDirection:"row"},removeHelperPadding:{"& p":{margin:"8px 0px"}}}))(ie));const le=e=>{const[t,a]=Object(n.useState)(!1),[i,r]=Object(n.useState)(!1),l=Object(d.e)(),{classes:o,notFound:p,isUserOwner:u,keyManagerConfig:m,updateKeyRequest:g,keyRequest:y,updateHasError:h,callbackError:b}=e,{selectedGrantTypes:E,callbackUrl:f}=y,{applicationConfiguration:k,availableGrantTypes:S,description:A,additionalProperties:C,enableMapOAuthConsumerApps:v,enableOAuthAppCreation:M,enableTokenEncryption:w,enableTokenGeneration:K,id:P,name:I,revokeEndpoint:x,tokenEndpoint:R,type:N,userInfoEndpoint:D}=m,U=(e,t)=>{const a=q()(y),{target:n}=t;let s=[...a.selectedGrantTypes];switch(a.keyManager=I,e){case"callbackUrl":(s.includes("implicit")||s.includes("authorization_code"))&&(""===f?(h(!0),r(l.formatMessage({defaultMessage:"Call back URL can not be empty when Implicit or Authorization Code grants are selected.",id:"Shared.AppsAndKeys.KeyConfCiguration.Invalid.callback.empty.error.text"}))):L.a.url.validate(f).error?(h(!0),r(l.formatMessage({defaultMessage:"Invalid URL. Please enter a valid URL.",id:"Shared.AppsAndKeys.KeyConfCiguration.Invalid.callback.url.error.text"}))):(r(!1),h(!1))),a.callbackUrl=n.value;break;case"grantType":n.checked?s=[...s,n.id]:(s=a.selectedGrantTypes.filter(e=>e!==n.id),"implicit"!==n.id&&"authorization_code"!==n.id||(a.callbackUrl="",r(!1),h(!1))),a.selectedGrantTypes=s;break;case"additionalProperties":const e=a.additionalProperties;e[n.name]=n.value,a.additionalProperties=e}g(a)},W=()=>{a(!0);setTimeout((function(){a(!1)}),2e3)},X=e=>{const{additionalProperties:t}=y;let a;a="input"!=e.type||e.multiple?!(!t||!t[e.name]):!(!t||!t[e.name]&&""!==t[e.name]);let n=e.default;return e.multiple&&"string"==typeof n&&""===n&&(n=[]),a?t[e.name]:n};if(p)return s.a.createElement(Q.a,null);const Z=((e,t)=>{const a={};return e.forEach(e=>{a[e]=t[e],t[e]||(a[e]=e)}),a})(S,$.a.grantTypes);return s.a.createElement(s.a.Fragment,null,s.a.createElement(c.a,{display:"flex",alignItems:"center"},s.a.createElement(F.a,{className:o.table},s.a.createElement(H.a,null,R&&""!==R&&s.a.createElement(Y.a,null,s.a.createElement(J.a,{component:"th",scope:"row",className:o.leftCol},s.a.createElement(d.a,{defaultMessage:"Token Endpoint",id:"Shared.AppsAndKeys.KeyConfiguration.token.endpoint.label"})),s.a.createElement(J.a,null,R,s.a.createElement(G.a,{title:t?l.formatMessage({defaultMessage:"Copied",id:"Shared.AppsAndKeys.KeyConfiguration.copied"}):l.formatMessage({defaultMessage:"Copy to clipboard",id:"Shared.AppsAndKeys.KeyConfiguration.copy.to.clipboard"}),placement:"right",className:o.iconStyle},s.a.createElement(j.a,{text:R,onCopy:W},s.a.createElement(z.a,{"aria-label":"Copy to clipboard",classes:{root:o.iconButton}},s.a.createElement(V.a,{color:"secondary"},"file_copy")))))),x&&""!==x&&s.a.createElement(Y.a,null,s.a.createElement(J.a,{component:"th",scope:"row",className:o.leftCol},s.a.createElement(d.a,{defaultMessage:"Revoke Endpoint",id:"Shared.AppsAndKeys.KeyConfiguration.revoke.endpoint.label"})),s.a.createElement(J.a,null,x,s.a.createElement(G.a,{title:t?l.formatMessage({defaultMessage:"Copied",id:"Shared.AppsAndKeys.KeyConfiguration.copied"}):l.formatMessage({defaultMessage:"Copy to clipboard",id:"Shared.AppsAndKeys.KeyConfiguration.copy.to.clipboard"}),placement:"right",className:o.iconStyle},s.a.createElement(j.a,{text:x,onCopy:W},s.a.createElement(z.a,{"aria-label":"Copy to clipboard",classes:{root:o.iconButton}},s.a.createElement(V.a,{color:"secondary"},"file_copy")))))),D&&""!==D&&s.a.createElement(Y.a,null,s.a.createElement(J.a,{component:"th",scope:"row",className:o.leftCol},s.a.createElement(d.a,{defaultMessage:"User Info Endpoint",id:"Shared.AppsAndKeys.KeyConfiguration.userinfo.endpoint.label"})),s.a.createElement(J.a,null,D,s.a.createElement(G.a,{title:t?l.formatMessage({defaultMessage:"Copied",id:"Shared.AppsAndKeys.KeyConfiguration.copied"}):l.formatMessage({defaultMessage:"Copy to clipboard",id:"Shared.AppsAndKeys.KeyConfiguration.copy.to.clipboard"}),placement:"right",className:o.iconStyle},s.a.createElement(j.a,{text:D,onCopy:W},s.a.createElement(z.a,{"aria-label":"Copy to clipboard",classes:{root:o.iconButton}},s.a.createElement(V.a,{color:"secondary"},"file_copy")))))),s.a.createElement(Y.a,null,s.a.createElement(J.a,{component:"th",scope:"row",className:o.leftCol},s.a.createElement(d.a,{id:"Shared.AppsAndKeys.KeyConfiguration.grant.types",defaultMessage:"Grant Types"})),s.a.createElement(J.a,null,s.a.createElement("div",{className:o.checkboxWrapperColumn},Object.keys(Z).map(e=>{const t=Z[e];return s.a.createElement(B.a,{control:s.a.createElement(_.a,{id:e,checked:!(!E||!E.includes(e)),onChange:e=>U("grantType",e),value:t,disabled:!u,color:"primary"}),label:t,key:e})})),s.a.createElement(T.a,null,s.a.createElement(d.a,{defaultMessage:"The application can use the following grant types to generate \n                            Access Tokens. Based on the application requirement,you can enable or disable \n                            grant types for this application.",id:"Shared.AppsAndKeys.KeyConfiguration.the.application.can"})))),s.a.createElement(Y.a,null,s.a.createElement(J.a,{component:"th",scope:"row",className:o.leftCol},s.a.createElement(d.a,{defaultMessage:"Callback URL",id:"Shared.AppsAndKeys.KeyConfiguration.callback.url.label"})),s.a.createElement(J.a,null,s.a.createElement(c.a,{maxWidth:600},s.a.createElement(O.a,{margin:"dense",id:"callbackURL",label:s.a.createElement(d.a,{defaultMessage:"Callback URL",id:"Shared.AppsAndKeys.KeyConfiguration.callback.url.label"}),value:f,name:"callbackURL",onChange:e=>U("callbackUrl",e),helperText:i||s.a.createElement(d.a,{defaultMessage:"Callback URL is a redirection URI in the client\n                            application which is used by the authorization server to send the\n                            client's user-agent (usually web browser) back after granting access.",id:"Shared.AppsAndKeys.KeyConfCiguration.callback.url.helper.text"}),variant:"outlined",disabled:!u||E&&!E.includes("authorization_code")&&!E.includes("implicit"),error:b,placeholder:l.formatMessage({defaultMessage:"http://url-to-webapp",id:"Shared.AppsAndKeys.KeyConfiguration.url.to.webapp"}),fullWidth:!0})))),k.length>0&&k.map(e=>s.a.createElement(re,{config:e,previousValue:X(e),isUserOwner:u,handleChange:U}))))))};le.defaultProps={notFound:!1,validating:!1},le.propTypes={classes:r.a.instanceOf(Object).isRequired,keyRequest:r.a.shape({callbackUrl:r.a.string,selectedGrantTypes:r.a.array}).isRequired,isUserOwner:r.a.bool.isRequired,isKeysAvailable:r.a.bool.isRequired,keyManagerConfig:r.a.any.isRequired,notFound:r.a.bool,setGenerateEnabled:r.a.func.isRequired,updateKeyRequest:r.a.func.isRequired,validating:r.a.bool};var oe=Object(l.a)(e=>({FormControl:{paddingTop:0,paddingBottom:e.spacing(2),paddingLeft:0,width:"100%"},FormControlOdd:{padding:e.spacing(2),width:"100%"},button:{marginLeft:e.spacing(1)},quotaHelp:{position:"relative"},checkboxWrapper:{display:"flex"},checkboxWrapperColumn:{display:"flex",flexWrap:"wrap",flexDirection:"row",whiteSpace:"nowrap"},group:{flexDirection:"row"},removeHelperPadding:{"& p":{margin:"8px 0px"}},iconStyle:{cursor:"pointer",padding:"0 0 0 10px"},iconButton:{padding:"0 0 0 10px","& .material-icons":{fontSize:16}},titleColumn:{width:150,fontWeight:500},keyInfoTable:{marginBottom:20,borderCollapse:"collapse","& td":{paddingBottom:5,borderBottom:"solid 1px #cccc"}},leftCol:{width:180}}))(le),ce=a(4640),pe=a(4677),de=a(1423),ue=a(1338),me=a(1339),ge=a(1737),ye=a(1286),he=a.n(ye);const be=Object(ge.a)(e=>({code:{padding:e.spacing(1),marginBottom:e.spacing(2),background:e.palette.grey[200],color:"#da2316",flex:1},command:{color:"#2b62b0"},encodeVisible:{cursor:"pointer",textDecoration:"underline"},contentWrapper:{display:"flex"}}));function Ee(e){const t=be(),{keys:{consumerKey:a,consumerSecret:i},intl:r,keyType:l,keyManagerConfig:o}=e,c=window.btoa(a+":"+i),[u,m]=Object(n.useState)(!1),[g,y]=Object(n.useState)(!1),h=()=>{y(!0);setTimeout((function(){y(!1)}),4e3)},b=()=>{m(!u)};let{tokenEndpoint:E}=o;return s.a.createElement(s.a.Fragment,null,s.a.createElement(p.a,null,s.a.createElement(d.a,{id:"Shared.AppsAndKeys.ViewCurl.help",defaultMessage:"The following cURL command shows how to generate an access token using the Password Grant type."})),s.a.createElement("div",{className:t.contentWrapper},s.a.createElement("div",{className:t.code},s.a.createElement("div",null,s.a.createElement("span",{className:t.command},"curl -k -X POST ")," ",E,s.a.createElement("span",{className:t.command}," -d ")," ",'"grant_type=password&username=Username&password=Password"'),s.a.createElement("div",null,s.a.createElement("span",{className:t.command}," -H "),'"Authorization: Basic',s.a.createElement("a",{onClick:b,className:t.encodeVisible},u?" "+c:" Base64(consumer-key:consumer-secret)"),'"')),s.a.createElement("div",null,s.a.createElement(G.a,{title:g?r.formatMessage({defaultMessage:"Copied",id:"Shared.AppsAndKeys.ViewCurl.copied"}):r.formatMessage({defaultMessage:"Copy to clipboard",id:"Shared.AppsAndKeys.ViewCurl.copy.to.clipboard"}),placement:"right"},s.a.createElement(j.a,{text:`curl -k -X POST ${E} -d "grant_type=password&username=Username&password=Password" -H "Authorization: Basic ${c}"`,onCopy:h},s.a.createElement(he.a,{color:"secondary"}))))),s.a.createElement(p.a,null,s.a.createElement(d.a,{id:"Shared.AppsAndKeys.ViewCurl.help.in.a.similar",defaultMessage:"In a similar manner, you can generate an access token using the\n                    Client Credentials grant type with the following cURL command."})),s.a.createElement("div",{className:t.contentWrapper},s.a.createElement("div",{className:t.code},s.a.createElement("div",null,s.a.createElement("span",{className:t.command},"curl -k -X POST ")," ",E,s.a.createElement("span",{className:t.command}," -d ")," ",'"grant_type=client_credentials"'),s.a.createElement("div",null,s.a.createElement("span",{className:t.command}," -H "),'"Authorization: Basic',s.a.createElement("a",{onClick:b,className:t.encodeVisible},u?" "+c:" Base64(consumer-key:consumer-secret)"),'"')),s.a.createElement("div",null,s.a.createElement(G.a,{title:g?"Copied":"Copy to clipboard",placement:"right"},s.a.createElement(j.a,{text:`curl -k -X POST ${E} -d "grant_type=client_credentials" -H"Authorization: Basic ${c}"`,onCopy:h},s.a.createElement(he.a,{color:"secondary"}))))))}Ee.propTypes={classes:r.a.shape({}).isRequired,keys:r.a.shape({}).isRequired,apis:r.a.shape({}).isRequired};var fe=Object(d.d)(Ee);function ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(a),!0).forEach((function(t){Ae(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ke(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ae(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Ce extends s.a.Component{constructor(e){super(e),Ae(this,"updateAccessTokenRequest",e=>{this.setState({accessTokenRequest:e})}),Ae(this,"onCopy",e=>{this.setState({[e]:!0});const t=this,a=e;setTimeout(()=>{t.setState({[a]:!1})},4e3)}),Ae(this,"handleShowHidden",e=>{this.setState({[e]:!this.state[e]})}),Ae(this,"handleMouseDownGeneric",e=>{e.preventDefault()}),Ae(this,"handleClickOpen",()=>{this.setState({open:!0,showToken:!1})}),Ae(this,"handleSecretRegenerate",(e,t,a,n)=>{this.applicationPromise.then(s=>s.regenerateSecret(e,t,a,n)).then(e=>{console.log("consumer secret regenerated successfully "+e),this.setState({open:!0,showSecretGen:!0,secretGenResponse:e})}).catch(e=>{const{status:t}=e;404===t&&this.setState({notFound:!0})})}),Ae(this,"handleClickOpenCurl",()=>{this.setState({open:!0,showCurl:!0})}),Ae(this,"handleClose",()=>{this.setState({open:!1,showCurl:!1,isKeyJWT:!1,showSecretGen:!1})}),Ae(this,"generateAccessToken",()=>{const{accessTokenRequest:e,isUpdating:t}=this.state,{selectedTab:a,intl:n}=this.props;this.setState({isUpdating:!0}),this.applicationPromise.then(t=>t.generateToken(a,e.keyType,e.timeout,e.scopesSelected)).then(e=>{console.log("token generated successfully "+e),this.setState({showToken:!0,tokenResponse:e,token:e.accessToken,tokenScopes:e.tokenScopes,tokenValidityTime:e.validityTime}),this.setState({isUpdating:!1})}).catch(e=>{const{status:t}=e;404===t?this.setState({notFound:!0}):400===t&&h.a.error(e.description||n.formatMessage({id:"Shared.AppsAndKeys.TokenManager.key.generate.bad.request.error",defaultMessage:"Error occurred when generating Access Token"})),this.setState({isUpdating:!1});const{response:a}=e;a&&a.body&&h.a.error(a.body.message)})}),Ae(this,"viewKeyAndSecret",(e,t,a,n,i)=>{const{classes:r,intl:l,selectedApp:{hashEnabled:c},keyType:p}=this.props,{keyCopied:u,secretCopied:m,showCS:g}=this.state;return s.a.createElement(s.a.Fragment,null,s.a.createElement(M.a,{item:!0,xs:6},s.a.createElement("div",{className:r.copyWrapper},s.a.createElement(O.a,{id:"consumer-key",value:e,margin:"dense",label:s.a.createElement(d.a,{id:"Shared.AppsAndKeys.ViewKeys.consumer.key",defaultMessage:"Consumer Key"}),fullWidth:!0,variant:"outlined",InputProps:{readOnly:!0,endAdornment:s.a.createElement(ce.a,{position:"end"},s.a.createElement(G.a,{title:u?l.formatMessage({defaultMessage:"Copied",id:"Shared.AppsAndKeys.ViewKeys.copied"}):l.formatMessage({defaultMessage:"Copy to clipboard",id:"Shared.AppsAndKeys.ViewKeys.copy.to"}),placement:"right"},s.a.createElement(j.a,{text:e,onCopy:()=>this.onCopy("keyCopied"),classes:{root:r.iconButton}},s.a.createElement(z.a,{"aria-label":"Copy to clipboard",classes:{root:r.iconButton}},s.a.createElement(V.a,{color:"secondary"},"file_copy")))))}})),s.a.createElement(v.a,null,s.a.createElement(T.a,{id:"consumer-key-helper-text"},s.a.createElement(d.a,{id:"Shared.AppsAndKeys.ViewKeys.consumer.key.title",defaultMessage:"Consumer Key of the application"})))),s.a.createElement(M.a,{item:!0,xs:6},s.a.createElement("div",{className:r.copyWrapper},c?s.a.createElement(o.a,{variant:"contained",color:"primary",className:r.button,onClick:()=>this.handleSecretRegenerate(e,p,a,n),disabled:!i},s.a.createElement(d.a,{defaultMessage:"Regenerate Consumer Secret",id:"Shared.AppsAndKeys.ViewKeys.consumer.secret.button.regenerate"})):s.a.createElement(O.a,{id:"consumer-secret",label:s.a.createElement(d.a,{id:"Shared.AppsAndKeys.ViewKeys.consumer.secret",defaultMessage:"Consumer Secret"}),type:g||!t?"text":"password",value:t,margin:"dense",fullWidth:!0,variant:"outlined",InputProps:{readOnly:!0,endAdornment:s.a.createElement(ce.a,{position:"end"},s.a.createElement(z.a,{classes:{root:r.iconButton},onClick:()=>this.handleShowHidden("showCS"),onMouseDown:this.handleMouseDownGeneric},g?s.a.createElement(V.a,null,"visibility_off"):s.a.createElement(V.a,null,"visibility")),s.a.createElement(G.a,{title:m?"Copied":"Copy to clipboard",placement:"right"},s.a.createElement(j.a,{text:t,onCopy:()=>this.onCopy("secretCopied"),classes:{root:r.iconButton}},s.a.createElement(z.a,{"aria-label":"Copy to clipboard",classes:{root:r.iconButton}},s.a.createElement(V.a,{color:"secondary"},"file_copy")))))}})),!c&&s.a.createElement(v.a,null,s.a.createElement(T.a,{id:"consumer-secret-helper-text"},s.a.createElement(d.a,{id:"Shared.AppsAndKeys.ViewKeys.consumer.secret.of.application",defaultMessage:"Consumer Secret of the application"})))))});const{selectedApp:t}=this.props;let a;t&&(a=t.appId||t.value),this.applicationPromise=P.a.get(a),this.state={showCS:!1,open:!1,showToken:!1,showCurl:!1,showSecretGen:!1,accessTokenRequest:{timeout:3600,scopesSelected:[],keyType:""},subscriptionScopes:[],isUpdating:!1}}componentDidMount(){const{accessTokenRequest:e}=this.state,{keyType:t}=this.props;this.applicationPromise.then(a=>{a.getKeys().then(()=>{const n=Se(Se({},e),{},{keyType:t}),s=a.subscriptionScopes.map(e=>e.key);this.setState({accessTokenRequest:n,subscriptionScopes:s})})}).catch(e=>{const{status:t}=e;404===t&&this.setState({notFound:!0})})}componentDidUpdate(e){const{isKeyJWT:t}=this.props;t&&!e.isKeyJWT&&this.setState({isKeyJWT:!0})}render(){const{notFound:e,showToken:t,showCurl:a,showSecretGen:n,tokenCopied:i,open:r,token:l,tokenScopes:c,tokenValidityTime:g,accessTokenRequest:y,subscriptionScopes:h,isKeyJWT:S,tokenResponse:A,secretGenResponse:C,isUpdating:T}=this.state,{intl:v,keyType:O,classes:w,fullScreen:K,keys:P,selectedApp:{tokenType:I},selectedGrantTypes:x,isUserOwner:R,summary:N,selectedTab:D,hashEnabled:L,keyManagerConfig:U,initialToken:q,initialValidityTime:_,initialScopes:B}=this.props;if(e)return s.a.createElement(Q.a,null);if(!P)return s.a.createElement(u.a,null);const W=P.size>0&&P.get(D)&&P.get(D).keyType===O&&P.get(D),j=W&&W.consumerKey,G=W&&W.consumerSecret,z=W&&W.keyMappingId;let V,F,H,J;l?(V=l,F=c,H=g):P.get(D)&&P.get(D).keyType===O&&P.get(D).token&&(({accessToken:V}=P.get(D).token),F=P.get(D).token.tokenScopes,H=P.get(D).token.validityTime,J=P.get(D).token,J&&!J.accessToken&&(J.accessToken=q,J.validityTime=_,J.tokenScopes=B));let Y="Undefined";return Y=a?"Get CURL to Generate Access Token":n?"Generate Consumer Secret":"Generate Access Token",j?N?s.a.createElement(M.a,{container:!0,spacing:3},this.viewKeyAndSecret(j,G,z,D,R)):j&&s.a.createElement("div",{className:w.inputWrapper},s.a.createElement(M.a,{container:!0,spacing:3},this.viewKeyAndSecret(j,G,z,D,R),s.a.createElement(M.a,{item:!0,xs:12},s.a.createElement(b.a,{fullScreen:K,open:(r||S)&&x.includes("client_credentials"),onClose:this.handleClose,"aria-labelledby":"responsive-dialog-title",className:w.dialogWrapper},s.a.createElement(k.a,{id:"responsive-dialog-title"},Y),s.a.createElement(f.a,null,!a&&!S&&!n&&s.a.createElement(pe.a,null,!t&&s.a.createElement(de.a,{updateAccessTokenRequest:this.updateAccessTokenRequest,accessTokenRequest:y,subscriptionScopes:h}),t&&s.a.createElement(ue.a,{token:Se(Se({},A),{},{isOauth:!0})})),a&&s.a.createElement(pe.a,null,s.a.createElement(fe,{keys:{consumerKey:j,consumerSecret:G},keyType:O,keyManagerConfig:U})),n&&s.a.createElement(pe.a,null,s.a.createElement(me.a,{secret:Se({},C)})),S&&J&&L&&s.a.createElement(pe.a,null,s.a.createElement(ue.a,{token:Se(Se({},J),{},{isOauth:!0}),consumerSecret:G})),S&&J&&!L&&s.a.createElement(pe.a,null,s.a.createElement(ue.a,{token:Se(Se({},J),{},{isOauth:!0})}))),s.a.createElement(E.a,null,T&&s.a.createElement(m.a,{size:24}),!t&&!a&&!S&&!n&&s.a.createElement(o.a,{onClick:this.generateAccessToken,color:"primary",disabled:T},s.a.createElement(d.a,{id:"Shared.AppsAndKeys.ViewKeys.consumer.generate.btn",defaultMessage:"Generate"})),s.a.createElement(o.a,{onClick:this.handleClose,color:"primary",autoFocus:!0},s.a.createElement(d.a,{id:"Shared.AppsAndKeys.ViewKeys.consumer.close.btn",defaultMessage:"Close"})))),!L&&s.a.createElement("div",{className:w.tokenSection},U.enableTokenGeneration&&x.find(e=>e.includes("client_credentials"))&&s.a.createElement(o.a,{variant:"outlined",size:"small",color:"primary",className:w.margin,onClick:this.handleClickOpen,disabled:!x.includes("client_credentials")},s.a.createElement(d.a,{id:"Shared.AppsAndKeys.ViewKeys.generate.access.token",defaultMessage:"Generate Access Token"})),s.a.createElement(o.a,{variant:"outlined",size:"small",color:"primary",className:w.margin,onClick:this.handleClickOpenCurl},s.a.createElement(d.a,{id:"Shared.AppsAndKeys.ViewKeys.curl.to.generate",defaultMessage:"CURL to Generate Access Token"}))),!x.includes("client_credentials")&&!L&&s.a.createElement(p.a,{variant:"caption",gutterBottom:!0},s.a.createElement(d.a,{id:"Shared.AppsAndKeys.ViewKeys.client.enable.client.credentials",defaultMessage:"Enable Client Credentials grant type to generate test access tokens"}))))):s.a.createElement(p.a,{variant:"caption",gutterBottom:!0},"PRODUCTION"===O?"Production ":"Sandbox ",s.a.createElement(d.a,{id:"Shared.AppsAndKeys.ViewKeys.key.secret.title",defaultMessage:"Key and Secret is not generated for this application"}))}}Ce.defaultProps={fullScreen:!1,summary:!1},Ce.propTypes={classes:r.a.shape({}).isRequired,fullScreen:r.a.bool,isKeyJWT:r.a.bool.isRequired,isUserOwner:r.a.bool.isRequired,summary:r.a.bool};var Te=Object(d.d)(Object(l.a)(e=>({button:{margin:e.spacing(3),color:e.palette.getContrastText(e.palette.background.default),display:"flex",alignItems:"center",fontSize:"11px",cursor:"pointer","& span":{paddingLeft:6,display:"inline-block"}},inputWrapper:{display:"flex",flexDirection:"row",alignItems:"center","& span, & h5, & label, & td, & li, & div, & input":{color:e.palette.getContrastText(e.palette.background.paper)}},copyWrapper:{display:"flex",flexDirection:"row",alignItems:"center"},tokenSection:{marginTop:0,marginBottom:e.spacing(.5)},margin:{marginRight:e.spacing(2)},dialogWrapper:{"& label,& h5, & label, & td, & li, & input, & h2, & p.MuiTypography-root,& p.MuiFormHelperText-root":{color:e.palette.getContrastText(e.palette.background.paper)}},iconButton:{padding:"0 0 0 10px","& .material-icons":{fontSize:16}}}))(Ce));var ve=Object(d.d)(Object(l.a)(e=>({root:{padding:e.spacing(3)}}))(e=>{const{classes:t,keyState:a,states:n,intl:i}=e;let r=i.formatMessage({defaultMessage:"A request to register this application has been sent and is pending approval.",id:"Shared.AppsAndKeys.WaitingForApproval.msg.ok"});return a===n.REJECTED&&(r=i.formatMessage({defaultMessage:"This application has been rejected from generating keys",id:"Shared.AppsAndKeys.WaitingForApproval.msg.reject"})),s.a.createElement("div",{className:t.root},r)}));const Me=Object(ge.a)(e=>({root:{padding:e.spacing(3,2)},noKeysRoot:{backgroundImage:`url(${X.app.context+e.custom.overviewPage.keysBackground})`,height:"100%",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:192,display:"flex",alignItems:"center"}}));function Oe(e){const t=Me(),{keys:a,keyStates:n,key:i,selectedApp:r,keyType:l,isKeyJWT:o,isUserOwner:c,selectedTab:u}=e;if(a.size>0&&i&&"APPROVED"===i.keyState&&!i.consumerKey)return s.a.createElement("div",{className:t.emptyBox},s.a.createElement(p.a,{variant:"h5",component:"h3"},"Error"),s.a.createElement(p.a,{variant:"body2"},s.a.createElement(d.a,{id:"Shared.AppsAndKeys.TokenManagerSummary",defaultMessage:"Error! You have partially-created keys. Use `Clean Up` option."})));if(i&&(i.keyState===n.CREATED||i.keyState===n.REJECTED))return s.a.createElement("div",{className:t.emptyBox},s.a.createElement(p.a,{variant:"body2"},s.a.createElement(ve,{keyState:i.keyState,states:n})));const m=i?i.supportedGrantTypes:[];return s.a.createElement(Te,{selectedApp:r,selectedTab:u,keyType:l,keys:a,isKeyJWT:o,selectedGrantTypes:m,isUserOwner:c,summary:!0})}var we=a(183);function Ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(a),!0).forEach((function(t){Ie(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ie(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Re(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Ne(e){const{children:t,value:a,index:n}=e,i=Re(e,["children","value","index"]);return s.a.createElement("div",xe({role:"tabpanel",hidden:a!==n,id:"nav-tabpanel-"+n,"aria-labelledby":"nav-tab-"+n},i),a===n&&s.a.createElement(c.a,{p:3},t))}Ne.propTypes={children:r.a.node,index:r.a.any.isRequired,value:r.a.any.isRequired};const De=Object(l.a)({indicator:{display:"flex",justifyContent:"center",backgroundColor:"transparent","& > span":{width:"98%",backgroundColor:"#ffffff"},transition:"none"},flexContainer:{borderBottom:"solid 1px #666",backgroundColor:"#efefef","& button:first-child":{borderLeft:"none"}}})(e=>s.a.createElement(g.a,xe({},e,{TabIndicatorProps:{children:s.a.createElement("span",null)}}))),Le=Object(l.a)(e=>({root:{textTransform:"none",color:"#666",fontWeight:e.typography.fontWeightRegular,fontSize:e.typography.pxToRem(15),marginRight:e.spacing(1),"&:focus":{opacity:1}},selected:{backgroundColor:"#fff",borderLeft:"solid 1px #666",borderRight:"solid 1px #666"}}))(e=>s.a.createElement(y.a,xe({disableRipple:!0},e)));class Ue extends s.a.Component{constructor(e){super(e),Ie(this,"handleTabChange",(e,t)=>{const{keys:a,keyManagers:n,keyRequest:s}=this.state,{keyType:i}=this.props,r=n.find(e=>e.name===t),{availableGrantTypes:l}=r;if(a.size>0&&a.get(t)&&a.get(t).keyType===i){const{callbackUrl:e,supportedGrantTypes:n,additionalProperties:i}=a.get(t),o=Pe(Pe({},s),{},{callbackUrl:e,selectedGrantTypes:n||l.filter(e=>"authorization_code"!==e&&"implicit"!==e),additionalProperties:i||this.getDefaultAdditionalProperties(r)});this.setState({keyRequest:o,selectedTab:t})}else this.setState({keyRequest:Pe(Pe({},s),{},{selectedGrantTypes:l.filter(e=>"authorization_code"!==e&&"implicit"!==e),additionalProperties:this.getDefaultAdditionalProperties(r)}),selectedTab:t})}),Ie(this,"loadApplication",()=>{const{keyType:e}=this.props;if(this.appId){const t=(new D.a).getKeyManagers(),a=this.application.then(t=>t.getKeys(e));Promise.all([t,a]).then(t=>{const a=[];if(t[0].body.list.map(e=>{e.enabled&&a.push(e)}),0===a.length)return void this.setState({keyManagers:[]});let{selectedTab:n}=this.state;!n&&a.length>0&&(n=a.find(e=>"Resident Key Manager"===e.name)?"Resident Key Manager":a[0].name);const s=a.find(e=>e.name===n),i=t[1],{keyRequest:r}=this.state;if(i.size>0&&i.get(n)&&i.get(n).keyType===e){const{callbackUrl:e,supportedGrantTypes:t,additionalProperties:l,mode:o}=i.get(n),c=Pe(Pe({},r),{},{callbackUrl:e||"",selectedGrantTypes:t||[],additionalProperties:l||this.getDefaultAdditionalProperties(s)});this.setState({keys:i,keyRequest:c,keyManagers:a,selectedTab:n,importDisabled:"MAPPED"===o})}else{const e=s.availableGrantTypes||[];this.setState({keys:i,keyRequest:Pe(Pe({},r),{},{selectedGrantTypes:e.filter(e=>"authorization_code"!==e&&"implicit"!==e),additionalProperties:this.getDefaultAdditionalProperties(s)}),keyManagers:a,selectedTab:n})}}).catch(e=>{404===e.status&&this.setState({notFound:!0})})}}),Ie(this,"setValidating",e=>{this.setState({validating:e})}),Ie(this,"updateHasError",e=>{this.setState({hasError:e})}),Ie(this,"toTitleCase",e=>e.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()));const{selectedApp:t,keyType:a}=this.props;this.state={isLoading:!1,keys:null,isKeyJWT:!1,hasError:!1,initialToken:"",initialValidityTime:0,initialScopes:[],keyRequest:{keyType:a,selectedGrantTypes:null,callbackUrl:"",additionalProperties:{},keyManager:"",validityTime:3600,scopes:["default"]},keyManagers:null,selectedTab:null,providedConsumerKey:"",providedConsumerSecret:"",validating:!1,importDisabled:!1},this.keyStates={COMPLETED:"COMPLETED",APPROVED:"APPROVED",CREATED:"CREATED",REJECTED:"REJECTED"},t&&(this.appId=t.appId||t.value,this.application=P.a.get(this.appId)),this.updateKeyRequest=this.updateKeyRequest.bind(this),this.generateKeys=this.generateKeys.bind(this),this.updateKeys=this.updateKeys.bind(this),this.cleanUpKeys=this.cleanUpKeys.bind(this),this.handleOnChangeProvidedOAuth=this.handleOnChangeProvidedOAuth.bind(this),this.provideOAuthKeySecret=this.provideOAuthKeySecret.bind(this)}componentDidMount(){this.loadApplication()}componentDidUpdate(e){const{keyType:t}=e,{keyType:a}=this.props;t!==a&&this.loadApplication()}getDefaultAdditionalProperties(e){const{availableGrantTypes:t,applicationConfiguration:a}=e,n={};return a.forEach(e=>{n[e.name]=e.default||""}),n}updateKeyRequest(e){this.setState({keyRequest:e})}generateKeys(){const{keyRequest:e,keys:t,selectedTab:a}=this.state,{keyType:n,updateSubscriptionData:s,selectedApp:{tokenType:i,hashEnabled:r},intl:l}=this.props;if(e.selectedGrantTypes.includes("implicit")||e.selectedGrantTypes.includes("authorization_code")){if(""===e.callbackUrl)return void h.a.error(l.formatMessage({id:"Shared.AppsAndKeys.TokenManager.key.generate.error.callbackempty",defaultMessage:"Callback URL can not be empty when the Implicit or Application Code grant types selected"}));if(L.a.url.validate(e.callbackUrl).error)return void h.a.error(l.formatMessage({id:"Shared.AppsAndKeys.TokenManager.key.generate.error.text",defaultMessage:"Invalid URL. Please enter a valid URL."}))}this.setState({isLoading:!0}),this.application.then(t=>t.generateKeys(n,e.selectedGrantTypes,e.callbackUrl,e.additionalProperties,this.getKeyManagerIdentifier())).then(e=>{s&&s();const n=new Map([...t]),o="JWT"===i||r;n.set(a,e);const c=e.token?e.token.accessToken:"",p=e.token?e.token.validityTime:0,d=e.token?e.token.tokenScopes:[];this.setState({keys:n,isKeyJWT:o,initialToken:c,initialValidityTime:p,initialScopes:d}),e.keyState===this.keyStates.CREATED||e.keyState===this.keyStates.REJECTED?h.a.info(l.formatMessage({id:"Shared.AppsAndKeys.TokenManager.key.generate.success.blocked",defaultMessage:"Application keys generate request is currently pending approval by the site administrator."})):(h.a.info(l.formatMessage({id:"Shared.AppsAndKeys.TokenManager.key.generate.success",defaultMessage:"Application keys generated successfully"})),this.loadApplication())}).catch(e=>{const{status:t}=e;404===t?this.setState({notFound:!0}):500===t&&this.loadApplication(),h.a.error(l.formatMessage({id:"Shared.AppsAndKeys.TokenManager.key.generate.error",defaultMessage:"Error occurred when generating application keys"}))}).finally(()=>this.setState({isLoading:!1}))}updateKeys(){const{keys:e,keyRequest:t,selectedTab:a}=this.state,{keyType:n,intl:s}=this.props,i=e.get(a).keyType===n&&e.get(a);if(t.selectedGrantTypes.includes("implicit")||t.selectedGrantTypes.includes("authorization_code")){if(""===t.callbackUrl)return void h.a.error(s.formatMessage({id:"Shared.AppsAndKeys.TokenManager.key.generate.error.callbackempty",defaultMessage:"Callback URL can not be empty when the Implicit or Application Code grant types selected"}));if(L.a.url.validate(t.callbackUrl).error)return void h.a.error(s.formatMessage({id:"Shared.AppsAndKeys.TokenManager.key.generate.error.text",defaultMessage:"Invalid URL. Please enter a valid URL."}))}this.setState({isLoading:!0}),this.application.then(e=>e.updateKeys(i.tokenType,n,t.selectedGrantTypes,t.callbackUrl,i.consumerKey,i.consumerSecret,t.additionalProperties,a,i.keyMappingId)).then(t=>{const n=new Map([...e]);n.set(a,t),this.setState({keys:n}),h.a.info(s.formatMessage({id:"Shared.AppsAndKeys.TokenManager.key.update.success",defaultMessage:"Application keys updated successfully"}))}).catch(e=>{const{status:t}=e;404===t?this.setState({notFound:!0}):500===t&&this.loadApplication();const{response:a}=e;a&&a.body&&h.a.error(a.body.message)}).finally(()=>this.setState({isLoading:!1}))}cleanUpKeys(e,t){const{keyType:a,intl:n}=this.props;this.application.then(n=>n.cleanUpKeys(a,e,t)).then(()=>{this.loadApplication(),h.a.info(n.formatMessage({id:"Shared.AppsAndKeys.TokenManager.key.cleanup.success",defaultMessage:"Application keys cleaned successfully"}))}).catch(e=>{const{status:t}=e;404===t&&this.setState({notFound:!0}),h.a.error(n.formatMessage({id:"Shared.AppsAndKeys.TokenManager.key.cleanup.error",defaultMessage:"Error occurred while cleaning up application keys"}))})}handleOnChangeProvidedOAuth(e){this.setState({[e.target.name]:e.target.value})}provideOAuthKeySecret(){const{keyType:e,intl:t}=this.props,{providedConsumerKey:a,providedConsumerSecret:n,selectedTab:s}=this.state;this.application.then(t=>t.provideKeys(e,a,n,s)).then(()=>{this.setState({providedConsumerKey:"",providedConsumerSecret:""}),h.a.info(t.formatMessage({id:"Shared.AppsAndKeys.TokenManager.key.provide.success",defaultMessage:"Application keys provided successfully"}))}).catch(e=>{const{status:a}=e;404===a&&this.setState({notFound:!0}),h.a.error(t.formatMessage({id:"Shared.AppsAndKeys.TokenManager.key.provide.error",defaultMessage:"Error occurred when providing application keys"}))})}getKeyManagerDescription(){const{keyManagers:e,selectedTab:t}=this.state,a=e.filter(e=>e.name===t);return a&&1===a.length?a[0].description:""}getKeyManagerIdentifier(){const{keyManagers:e,selectedTab:t}=this.state,a=e.filter(e=>e.name===t);return a&&1===a.length?a[0].id:t}render(){const{classes:e,selectedApp:t,keyType:a,summary:n,selectedApp:{hashEnabled:i}}=this.props,{keys:r,keyRequest:l,isLoading:g,isKeyJWT:y,providedConsumerKey:h,providedConsumerSecret:b,selectedTab:E,keyManagers:f,validating:k,hasError:S,initialToken:A,initialValidityTime:T,initialScopes:v,importDisabled:M}=this.state;if(f&&0===f.length)return s.a.createElement("div",{className:e.root},s.a.createElement(c.a,{mb:1},s.a.createElement(p.a,{variant:"h5",className:e.keyTitle},this.toTitleCase(a),s.a.createElement(d.a,{id:"Shared.AppsAndKeys.TokenManager.oauth2.keys.main.title",defaultMessage:" OAuth2 Keys"}))),s.a.createElement(x.a,{type:"info",className:e.dialogContainer},s.a.createElement(p.a,{variant:"h5",component:"h3"},s.a.createElement(d.a,{id:"Shared.AppsAndKeys.TokenManager.no.km",defaultMessage:"No Key Managers"})),s.a.createElement(p.a,{component:"p"},s.a.createElement(d.a,{id:"Shared.AppsAndKeys.TokenManager.no.km.content",defaultMessage:"No Key Managers active to generate keys."}))));if(!r||!E||!l.selectedGrantTypes)return s.a.createElement(u.a,null);const O=I.a.getUser().name;let w=!1;t.owner&&O.toLowerCase()===t.owner.toLowerCase()&&(w=!0);const P=r.size>0&&r.get(E)&&r.get(E).keyType===a?r.get(E):null;return n?r?s.a.createElement(Oe,{keys:r,key:P,keyStates:this.keyStates,selectedApp:t,selectedTab:E,keyType:a,isKeyJWT:y,isUserOwner:w}):s.a.createElement(we.a,null):P&&"APPROVED"===P.keyState&&!P.consumerKey?s.a.createElement(s.a.Fragment,null,s.a.createElement(p.a,{className:e.cleanUpInfoText,variant:"subtitle1"},s.a.createElement(d.a,{id:"Shared.AppsAndKeys.TokenManager.cleanup.text",defaultMessage:"Error! You have partially-created keys. Please click `Clean Up` button and try again."})),s.a.createElement(o.a,{variant:"contained",color:"primary",className:e.cleanUpButton,onClick:()=>this.cleanUpKeys(E,r.get(E).keyMappingId)},s.a.createElement(d.a,{defaultMessage:"Clean up",id:"Shared.AppsAndKeys.TokenManager.cleanup"}))):!P||P.keyState!==this.keyStates.CREATED&&P.keyState!==this.keyStates.REJECTED?s.a.createElement(s.a.Fragment,null,f&&f.length>1&&s.a.createElement(De,{value:E,indicatorColor:"primary",textColor:"primary",onChange:this.handleTabChange,"aria-label":"key manager tabs"},f.map(e=>s.a.createElement(Le,{label:e.displayName||e.name,value:e.name,disabled:!e.enabled}))),s.a.createElement("div",{className:e.root},s.a.createElement(c.a,{mb:1},s.a.createElement(p.a,{variant:"h5",className:e.keyTitle},this.toTitleCase(a),s.a.createElement(d.a,{id:"Shared.AppsAndKeys.TokenManager.oauth2.keys.main.title",defaultMessage:" OAuth2 Keys"}))),f&&f.length>0&&f.map(n=>s.a.createElement(Ne,{value:E,index:n.name,className:e.tabPanel},s.a.createElement(c.a,{display:"flex",flexDirection:"row"},s.a.createElement(p.a,{className:e.heading,variant:"h6",component:"h6",className:e.subTitle},s.a.createElement(d.a,{defaultMessage:"Key and Secret",id:"Shared.AppsAndKeys.TokenManager.key.and.secret"})),n.enableMapOAuthConsumerApps&&s.a.createElement(c.a,{ml:2},s.a.createElement(K,{onChange:this.handleOnChangeProvidedOAuth,consumerKey:h,consumerSecret:b,isUserOwner:w,key:P,provideOAuthKeySecret:this.provideOAuthKeySecret,importDisabled:M}))),s.a.createElement(c.a,{m:2},s.a.createElement(Te,{initialToken:A,initialValidityTime:T,initialScopes:v,selectedApp:t,selectedTab:E,keyType:a,keys:r,isKeyJWT:y,selectedGrantTypes:l.selectedGrantTypes,isUserOwner:w,hashEnabled:n.enableTokenHashing||i,keyManagerConfig:n})),s.a.createElement(p.a,{className:e.heading,variant:"h6",component:"h6",className:e.subTitle},P?s.a.createElement(d.a,{defaultMessage:"Key Configurations",id:"Shared.AppsAndKeys.TokenManager.update.configuration"}):s.a.createElement(d.a,{defaultMessage:"Key Configuration",id:"Shared.AppsAndKeys.TokenManager.key.configuration"})),s.a.createElement(c.a,{m:2},s.a.createElement(oe,{keys:r,key:P,selectedApp:t,selectedTab:E,keyType:a,updateKeyRequest:this.updateKeyRequest,keyRequest:l,isUserOwner:w,isKeysAvailable:P,keyManagerConfig:n,validating:k,updateHasError:this.updateHasError,callbackError:S,setValidating:this.setValidating}),s.a.createElement("div",{className:e.generateWrapper},s.a.createElement(C.a,{resourcePath:C.c.APPLICATION_GENERATE_KEYS,resourceMethod:C.b.POST},w?s.a.createElement(c.a,{display:"flex"},s.a.createElement(o.a,{variant:"contained",color:"primary",className:e.button,onClick:P?this.updateKeys:this.generateKeys,disabled:S||g||!n.enableOAuthAppCreation||M},P?"Update":"Generate Keys",g&&s.a.createElement(m.a,{size:20})),!n.enableOAuthAppCreation&&s.a.createElement(c.a,{m:2,display:"flex"},s.a.createElement(N.a,{className:e.warningIcon}),s.a.createElement(p.a,{variant:"body1"},s.a.createElement(d.a,{defaultMessage:"Oauth app creation disabled for {kmName} key manager",id:"Shared.AppsAndKeys.TokenManager.app.creation.disable.warn",values:{kmName:n.displayName||n.name}})))):s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,{variant:"contained",color:"primary",className:e.button,onClick:P?this.updateKeys:this.generateKeys,disabled:!w||g||!n.enableOAuthAppCreation},P?"Update keys":"Generate Keys",g&&s.a.createElement(m.a,{size:20})),s.a.createElement(p.a,{variant:"caption"},s.a.createElement(d.a,{defaultMessage:"Only owner can generate or update keys",id:"Shared.AppsAndKeys.TokenManager.key.and.user.owner"})))))))))):s.a.createElement(ve,{keyState:P.keyState,states:this.keyStates})}}Ie(Ue,"contextType",Settings),Ue.defaultProps={updateSubscriptionData:()=>{},summary:!1},Ue.propTypes={classes:r.a.instanceOf(Object).isRequired,selectedApp:r.a.shape({tokenType:r.a.string.isRequired,appId:r.a.string,value:r.a.string,owner:r.a.string,hashEnabled:r.a.bool}).isRequired,keyType:r.a.string.isRequired,updateSubscriptionData:r.a.func,intl:r.a.shape({formatMessage:r.a.func}).isRequired,summary:r.a.bool};t.a=Object(d.d)(Object(l.a)(e=>({root:{padding:e.spacing(3),"& span, & h6, & label, & input":{color:e.palette.getContrastText(e.palette.background.paper)},"& .Mui-disabled span":{color:e.palette.grey[500]},"& input:disabled":{backgroundColor:e.palette.grey[100],color:e.palette.grey[500]},position:"relative"},button:{marginLeft:0,"& span":{color:e.palette.getContrastText(e.palette.primary.main)}},cleanUpButton:{marginLeft:15},cleanUpInfoText:{padding:"10px 0px 10px 15px"},tokenSection:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},margin:{marginRight:e.spacing(2)},keyConfigWrapper:{flexDirection:"column",marginBottom:0},generateWrapper:{padding:"10px 0px",marginLeft:e.spacing(1.25)},paper:{background:"none",marginBottom:e.spacing(2),marginTop:e.spacing(2)},muiFormGroupRoot:{flexDirection:"row"},formControl:{},subTitle:{fontWeight:400},tabPanel:{paddingLeft:e.spacing(2),"& .MuiBox-root":{padding:0}},warningIcon:{color:"#ff9a00",fontSize:20,marginRight:10}}))(Ue))},4713:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(69),r=a.n(i),l=a(1098),o=a(1695),c=a(502),p=a(1744),d=a(1340),u=a(1166),m=a(1737),g=a(1173);const y=Object(m.a)(e=>({appContent:{margin:e.spacing(2)},button:{color:e.palette.getContrastText(e.palette.primary.main)}}));var h=e=>{const{handleClick:t,heading:a,caption:n,buttonText:i}=e,r=y();return s.a.createElement("div",{className:r.appContent},s.a.createElement(u.a,{type:"info",className:r.dialogContainer},s.a.createElement(o.a,{variant:"h5",component:"h2"},a),s.a.createElement(o.a,{variant:"body2",gutterBottom:!0},n),s.a.createElement(g.a,{resourcePath:g.c.APPLICATIONS,resourceMethod:g.b.POST},s.a.createElement(p.a,{variant:"contained",color:"primary",className:r.button,onClick:t},i))))},b=a(4644),E=a(318),f=a(1109),k=a(1708),S=a(4668),A=a(4658),C=a(317),T=a(1172),v=a(34),M=a(1791),O=a(1121),w=a(1126),K=a.n(w),P=a(1163),I=a(1665);const x=e=>{const{classes:t,loadInfo:a,handleSubscriptionDelete:n,theme:i,selectedAppId:r,updateSubscriptionData:l,selectedKeyType:o,app:p,applicationOwner:d,hashEnabled:u}=e;return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",null,s.a.createElement("td",{className:t.td},p.label),s.a.createElement("td",{className:t.td},p.policy),s.a.createElement("td",{className:t.td},p.status),s.a.createElement("td",{className:t.td},s.a.createElement("div",{className:t.actionColumn},s.a.createElement(c.a,{className:t.button,to:"/applications/"+p.value},s.a.createElement("span",null,s.a.createElement(C.a,{id:"Apis.Details.Credentials.SubscriptionTableRow.manage.app",defaultMessage:"MANAGE APP"})),s.a.createElement(P.a,{width:16,height:16,strokeColor:i.palette.primary.main,icon:"applications"})),s.a.createElement(g.a,{resourcePath:g.c.SINGLE_SUBSCRIPTION,resourceMethod:g.b.DELETE},s.a.createElement(c.a,{className:t.button,onClick:()=>n(p.subscriptionId,l)},s.a.createElement("span",null,s.a.createElement(C.a,{id:"Apis.Details.Credentials.SubscriptionTableRow.unsubscribe",defaultMessage:"UNSUBSCRIBE"})),s.a.createElement(P.a,{width:16,height:16,strokeColor:i.palette.primary.main,icon:"subscriptions"}))),s.a.createElement(c.a,{className:K()(t.button,{[t.activeLink]:r&&"PRODUCTION"===o&&p.value===r}),onClick:()=>a("PRODUCTION",p.value)},s.a.createElement("span",null,s.a.createElement(C.a,{id:"Apis.Details.Credentials.SubscriptionTableRow.prod.keys",defaultMessage:"PROD KEYS"})),s.a.createElement(P.a,{width:16,height:16,strokeColor:i.palette.primary.main,icon:"productionkeys"})),s.a.createElement(c.a,{className:K()(t.button,{[t.activeLink]:r&&"SANDBOX"===o&&p.value===r}),onClick:()=>a("SANDBOX",p.value)},s.a.createElement("span",null,s.a.createElement(C.a,{id:"Apis.Details.Credentials.SubscriptionTableRow.sandbox.keys",defaultMessage:"SANDBOX KEYS"})),s.a.createElement(P.a,{width:16,height:16,strokeColor:i.palette.primary.main,icon:"productionkeys"}))))),p.value===r&&("PRODUCTION"===o||"SANDBOX"===o)&&s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"4"},s.a.createElement("div",{className:t.selectedWrapper},s.a.createElement(I.a,{keyType:o,selectedApp:{appId:p.value,label:p.label,owner:d,hashEnabled:u},updateSubscriptionData:l})))))};x.propTypes={classes:r.a.shape({td:r.a.shape({}),actionColumn:r.a.shape({}),button:r.a.shape({}),activeLink:r.a.shape({}),selectedWrapper:r.a.shape({})}).isRequired,theme:r.a.shape({}).isRequired,handleSubscriptionDelete:r.a.func.isRequired,loadInfo:r.a.func.isRequired,selectedAppId:r.a.string.isRequired,updateSubscriptionData:r.a.func.isRequired,selectedKeyType:r.a.string.isRequired,applicationOwner:r.a.string.isRequired,app:r.a.shape({label:r.a.string,policy:r.a.string,status:r.a.string,value:r.a.string,subscriptionId:r.a.string}).isRequired};var R=Object(l.a)(e=>({button:{padding:e.spacing(1),color:e.palette.getContrastText(e.palette.background.default),display:"flex",alignItems:"center",fontSize:"11px",cursor:"pointer","& span":{paddingLeft:6,display:"inline-block"}},actionColumn:{display:"flex",textAlign:"right",direction:"rtl"},td:{color:e.palette.getContrastText(e.palette.background.default),borderBottom:"solid 1px "+e.palette.grey.A200,fontSize:"11px",paddingLeft:e.spacing(1),height:35},selectedWrapper:{borderLeft:"solid 2px "+e.palette.primary.main}}),{withTheme:!0})(x);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){L(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function L(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class U extends s.a.Component{constructor(e){super(e),L(this,"updateData",()=>{const{api:e,applicationsAvailable:t}=this.context,{subscriptionRequest:a}=this.state,n=D(D({},a),{},{apiId:e.id}),s=e.tiers;s&&s[0]&&(n.throttlingPolicy=s[0].tierName),t&&t[0]&&(n.applicationId=t[0].value),this.setState({subscriptionRequest:n,throttlingPolicyList:s})}),L(this,"handleExpandClick",()=>{this.setState(e=>({expanded:!e.expanded}))}),L(this,"handleSubscribe",()=>{const{updateSubscriptionData:e,apiType:t}=this.context,{subscriptionRequest:a}=this.state,{intl:n}=this.props,s=new E.a;this.setState({isSubscribing:!0}),s.subscribe(a.apiId,a.applicationId,a.throttlingPolicy,t).then(t=>{"ON_HOLD"===t.body.status?f.a.info(n.formatMessage({defaultMessage:"Your subscription request has been submitted and is now awaiting approval.",id:"subscription.pending"})):(console.log("Subscription created successfully with ID : "+t.body.subscriptionId),f.a.info(n.formatMessage({defaultMessage:"Subscribed successfully",id:"Apis.Details.Credentials.Credentials.subscribed.successfully"}))),e&&e(this.updateData),this.setState({isSubscribing:!1})}).catch(e=>{f.a.error(n.formatMessage({id:"Applications.Details.Subscriptions.error.occurred.during.subscription.not.201",defaultMessage:"Error occurred during subscription"})),console.log("Error while creating the subscription."),console.error(e),this.setState({isSubscribing:!1})})}),L(this,"goToWizard",()=>{const{history:e}=this.props;e.push("credentials/wizard")}),L(this,"loadInfo",(e,t)=>{this.setState({selectedKeyType:e,selectedAppId:t}),T.a.get(t).then(e=>{this.setState({applicationOwner:e.owner,hashEnabled:e.hashEnabled})})}),L(this,"updateSubscriptionRequest",e=>{this.setState({subscriptionRequest:e})}),L(this,"handleSubscriptionDelete",(e,t)=>{const{intl:a}=this.props;(new d.a).deleteSubscription(e).then(e=>{if(200!==e.status)return console.log(e),void f.a.info(a.formatMessage({defaultMessage:"Something went wrong while deleting the Subscription!",id:"Apis.Details.Credentials.Credentials.something.went.wrong.with.subscription"}));f.a.info(a.formatMessage({defaultMessage:"Subscription deleted successfully!",id:"Apis.Details.Credentials.Credentials.subscription.deleted.successfully"})),t&&t(this.updateData)})}),this.state={expanded:!0,selectedAppId:!1,selectedKeyType:!1,subscriptionRequest:{applicationId:"",apiId:"",throttlingPolicy:""},throttlingPolicyList:[],applicationOwner:"",hashEnabled:!1,isSubscribing:!1},this.api=new E.a}componentDidMount(){const{api:e,updateSubscriptionData:t}=this.context;e?this.updateData():t(this.updateData)}render(){const{classes:e,intl:t}=this.props,{api:a,updateSubscriptionData:n,applicationsAvailable:i,subscribedApplications:r}=this.context,{selectedKeyType:l,selectedAppId:d,subscriptionRequest:m,throttlingPolicyList:y,applicationOwner:E,hashEnabled:f,isSubscribing:T}=this.state,O=v.a.getUser(),w=a.securityScheme.includes("mutualssl")&&!a.securityScheme.includes("oauth2")&&!a.securityScheme.includes("api_key")&&!a.securityScheme.includes("basic_auth"),K=a.securityScheme.includes("basic_auth")&&!a.securityScheme.includes("oauth2")&&!a.securityScheme.includes("api_key"),P=a.lifeCycleStatus&&"prototyped"===a.lifeCycleStatus.toLowerCase(),I=a.keyManagers&&a.keyManagers.includes("all")||a.keyManagers&&a.keyManagers.includes("Resident Key Manager");return s.a.createElement(S.a,{container:!0},s.a.createElement(S.a,{item:!0,md:12,lg:11},s.a.createElement(S.a,{container:!0,spacing:2},s.a.createElement(S.a,{item:!0,md:12},s.a.createElement(o.a,{onClick:this.handleExpandClick,variant:"h4",component:"div",className:e.titleSub},i.length>0&&s.a.createElement(c.a,{to:w||K||P||!I?null:`/apis/${a.id}/credentials/wizard`,style:a.isSubscriptionAvailable?null:{pointerEvents:"none"},className:e.addLinkWrapper},s.a.createElement(p.a,{color:"secondary",disabled:!a.isSubscriptionAvailable||w||K||P||!I,size:"small"},s.a.createElement(A.a,null,"add_circle_outline"),s.a.createElement(C.a,{id:"Apis.Details.Credentials.SubscibeButtonPanel.subscribe.wizard.with.new.app",defaultMessage:"Subscription & Key Generation Wizard"})))),s.a.createElement(k.a,{elevation:0,className:e.paper},s.a.createElement(o.a,{variant:"body2",className:e.descWrapper},s.a.createElement(C.a,{id:"Apis.Details.Credentials.Credentials.",defaultMessage:"An application \n                                        is primarily used to decouple the consumer from the APIs. It allows you to \n                                        generate and use a single key for multiple APIs and subscribe multiple times to \n                                        a single API with different SLA levels."})),(()=>P?s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{type:"info",className:e.dialogContainer},s.a.createElement(o.a,{component:"p"},s.a.createElement(C.a,{id:"Apis.Details.Credentials.Credentials.you.do.not.need.credentials.to.access.prototyped.api",defaultMessage:"You do not need credentials to access Prototyped APIs"})))):w||K?s.a.createElement(u.a,{type:"info",className:e.dialogContainer},s.a.createElement(o.a,{component:"p"},s.a.createElement(C.a,{id:"Apis.Details.Creadentials.credetials.mutualssl",defaultMessage:"Subscription is not required for Mutual SSL APIs or APIs with only Basic Authentication."}))):0===i.length&&0===r.length?s.a.createElement(h,{classes:e,handleClick:this.goToWizard,heading:O?t.formatMessage({defaultMessage:"Subscribe",id:"Apis.Details.Credentials.Credentials.subscribe.to.application"}):t.formatMessage({defaultMessage:"Sign In to Subscribe",id:"Apis.Details.Credentials.Credentials.subscribe.to.application.sign.in"}),caption:t.formatMessage({defaultMessage:"You need to subscribe to an application to access this API",id:"Apis.Details.Credentials.Credentials.subscribe.to.application.msg"}),buttonText:t.formatMessage({defaultMessage:"Subscribe",id:"Apis.Details.Credentials.Credentials.generate"})}):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:e.generateCredentialWrapper},s.a.createElement(g.a,{resourcePath:g.c.SUBSCRIPTIONS,resourceMethod:g.b.POST},s.a.createElement(o.a,{variant:"h5",component:"h2"},s.a.createElement(C.a,{id:"Apis.Details.Credentials.Credentials.subscribe.to.application",defaultMessage:"Subscribe"})),s.a.createElement("div",{className:e.credentialBoxWrapper},0===i.length&&s.a.createElement("div",{className:e.credentialBox},s.a.createElement(o.a,{variant:"body2"},s.a.createElement(C.a,{id:"Apis.Details.Credentials.Credentials.api.credentials.with.wizard.message",defaultMessage:"Use the Subscription and Key Generation Wizard. Create a new application -> Subscribe -> Generate keys and Access Token to invoke this API."})),s.a.createElement(c.a,{to:w||K||!I?null:`/apis/${a.id}/credentials/wizard`,style:a.isSubscriptionAvailable?null:{pointerEvents:"none"}},s.a.createElement(p.a,{variant:"contained",color:"primary",className:e.buttonElm,disabled:!a.isSubscriptionAvailable||w||K||!I},s.a.createElement(C.a,{id:"Apis.Details.Credentials.SubscibeButtonPanel.subscribe.wizard.with.new.app",defaultMessage:"Subscription & Key Generation Wizard"})))),i.length>0&&s.a.createElement("div",{className:e.credentialBox},s.a.createElement(o.a,{variant:"body2"},s.a.createElement(C.a,{id:"Apis.Details.Credentials.Credentials.api.credentials.with.subscribe.message",defaultMessage:"Subscribe to an application and generate credentials"})),s.a.createElement(M.a,{applicationsAvailable:i,subscriptionRequest:m,throttlingPolicyList:y,updateSubscriptionRequest:this.updateSubscriptionRequest,renderSmall:!0}),s.a.createElement(p.a,{variant:"contained",color:"primary",className:e.buttonElm,onClick:()=>this.handleSubscribe(),disabled:!a.isSubscriptionAvailable||T},s.a.createElement(C.a,{id:"Apis.Details.Credentials.SubscibeButtonPanel.subscribe.btn",defaultMessage:"Subscribe"}),T&&s.a.createElement(b.a,{size:24})))))),r&&r.length>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,{variant:"h5",component:"h2",className:e.subsListTitle},s.a.createElement(C.a,{id:"Apis.Details.Credentials.Credentials.api.credentials.subscribed.apps.title",defaultMessage:"Subscriptions"})),s.a.createElement(o.a,{variant:"body2",className:e.subsListDesc},s.a.createElement(C.a,{id:"Apis.Details.Credentials.Credentials.api.credentials.subscribed.apps.description",defaultMessage:"( Applications Subscribed to this Api )"})),s.a.createElement("div",{className:e.tableMain},s.a.createElement("table",null,s.a.createElement("tr",null,s.a.createElement("th",{className:e.th},s.a.createElement(C.a,{id:"Apis.Details.Credentials.Credentials.api.credentials.subscribed.apps.name",defaultMessage:"Application Name"})),s.a.createElement("th",{className:e.th},s.a.createElement(C.a,{id:"Apis.Details.Credentials.Credentials.api.credentials.subscribed.apps.tier",defaultMessage:"Throttling Tier"})),s.a.createElement("th",{className:e.th},s.a.createElement(C.a,{id:"Apis.Details.Credentials.Credentials.api.credentials.subscribed.apps.status",defaultMessage:"Application Status"})),s.a.createElement("th",{className:e.th},s.a.createElement(C.a,{id:"Apis.Details.Credentials.Credentials.api.credentials.subscribed.apps.action",defaultMessage:"Actions"}))),r.map((e,t)=>s.a.createElement(R,{key:e.id,loadInfo:this.loadInfo,handleSubscriptionDelete:this.handleSubscriptionDelete,selectedAppId:d,updateSubscriptionData:n,selectedKeyType:l,app:e,index:t,applicationOwner:E,hashEnabled:f})))))))())))))}}U.propTypes={classes:r.a.shape({contentWrapper:r.a.string,titleSub:r.a.string,tableMain:r.a.string,th:r.a.string,paper:r.a.string,descWrapper:r.a.string,generateCredentialWrapper:r.a.string,credentialBoxWrapper:r.a.string,credentialBox:r.a.string,buttonElm:r.a.string,dialogContainer:r.a.string}).isRequired,history:r.a.shape({}).isRequired,intl:r.a.shape({}).isRequired},U.contextType=O.a;t.default=Object(C.d)(Object(l.a)(e=>({contentWrapper:{maxWidth:e.custom.contentAreaWidth,paddingLeft:e.spacing(3),paddingTop:e.spacing(3)},titleSub:{marginLeft:e.spacing(3),paddingTop:e.spacing(2),paddingBottom:e.spacing(2),color:e.palette.getContrastText(e.palette.background.default)},generateCredentialWrapper:{marginLeft:0,paddingTop:e.spacing(2),paddingBottom:e.spacing(2),"& span, & h5, & label, & td, & li, & div":{color:e.palette.getContrastText(e.palette.background.paper)}},tableMain:{"& > table":{width:"100%",borderCollapse:"collapse",marginTop:e.spacing(3),marginLeft:e.spacing(2),marginRight:e.spacing(1)},"& table > tr td":{paddingLeft:e.spacing(1)},"&  table > tr:nth-child(even)":{backgroundColor:e.custom.listView.tableBodyEvenBackgrund,"& td, & a, & .material-icons":{color:e.palette.getContrastText(e.custom.listView.tableBodyEvenBackgrund)}},"&  table > tr:nth-child(odd)":{backgroundColor:e.custom.listView.tableBodyOddBackgrund,"& td, & a, & .material-icons":{color:e.palette.getContrastText(e.custom.listView.tableBodyOddBackgrund)}},"&  table > tr > th":{backgroundColor:e.custom.listView.tableHeadBackground,color:e.palette.getContrastText(e.custom.listView.tableHeadBackground),paddingLeft:e.spacing(1),borderBottom:"solid 1px "+e.palette.grey.A200,borderTop:"solid 1px "+e.palette.grey.A200,textAlign:"left",fontSize:"11px",paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},"& table > tr > th:last-child":{textAlign:"right"}},expansion:{background:"transparent",boxShadow:"none"},summary:{alignItems:"center"},subscribeRoot:{paddingLeft:e.spacing(2)},activeLink:{background:e.palette.grey.A100},appBar:{background:e.palette.background.paper,color:e.palette.getContrastText(e.palette.background.paper)},toolbar:{marginLeft:e.spacing(2)},subscribeTitle:{flex:1},paper:{marginLeft:e.spacing(3),padding:e.spacing(2)},descWrapper:{marginBottom:e.spacing(2),color:e.palette.getContrastText(e.palette.background.paper)},credentialBoxWrapper:{paddingLeft:e.spacing(2)},credentialBox:{padding:e.spacing(1),border:"solid 1px #ccc",borderRadius:5,marginBottom:e.spacing(2),marginTop:e.spacing(2)},addLinkWrapper:{marginLeft:e.spacing(2)},subsListTitle:{color:e.palette.getContrastText(e.palette.background.paper)},subsListDesc:{color:e.palette.getContrastText(e.palette.background.paper)},buttonElm:{"& span":{color:e.palette.getContrastText(e.palette.primary.main)}}}),{withTheme:!0})(U))}}]);
//# sourceMappingURL=APICredentials.0bb4a0d089f86fa6df0f.bundle.js.map