{"version":3,"sources":["webpack:///./source/src/app/components/Shared/InlineMessage.jsx","webpack:///./source/src/app/components/Shared/ScopeValidation.jsx","webpack:///./source/src/app/data/Validation.jsx","webpack:///./source/src/app/components/Shared/AppsAndKeys/ViewToken.jsx","webpack:///./source/src/app/components/Shared/AppsAndKeys/ViewSecret.jsx","webpack:///./source/src/app/data/Subscription.jsx","webpack:///./source/src/app/components/Shared/AppsAndKeys/Tokens.jsx","webpack:///./source/src/app/components/Apis/Listing/NoApi.jsx","webpack:///./source/src/app/components/Shared/LeftMenuItem.jsx","webpack:///./source/src/app/components/Applications/Listing/DeleteConfirmation.jsx","webpack:///./source/src/app/components/Shared/AppsAndKeys/ImportExternalApp.jsx","webpack:///./source/src/app/components/Shared/AppsAndKeys/AppConfiguration.jsx","webpack:///./source/src/app/components/Shared/AppsAndKeys/KeyConfiguration.jsx","webpack:///./source/src/app/components/Shared/AppsAndKeys/ViewCurl.jsx","webpack:///./source/src/app/components/Shared/AppsAndKeys/ViewKeys.jsx","webpack:///./source/src/app/components/Shared/AppsAndKeys/WaitingForApproval.jsx","webpack:///./source/src/app/components/Shared/AppsAndKeys/TokenManagerSummary.jsx","webpack:///./source/src/app/components/Shared/AppsAndKeys/TokenManager.jsx","webpack:///./source/src/app/components/Shared/ApiKey.jsx","webpack:///./source/src/app/components/Shared/ApiKeyRestriction.jsx","webpack:///./source/src/app/components/Shared/AppsAndKeys/ApiKeyManager.jsx","webpack:///./source/src/app/components/Apis/Listing/SubscriptionPolicySelect.jsx","webpack:///./source/src/app/components/Apis/Listing/APICardView.jsx","webpack:///./source/src/app/components/Applications/Details/Invoice.jsx","webpack:///./source/src/app/components/Applications/Details/SubscriptionTableData.jsx","webpack:///./source/src/app/components/Applications/Details/Subscriptions.jsx","webpack:///./source/src/app/components/Applications/Details/InfoBar.jsx","webpack:///./source/src/app/components/Applications/Details/Overview.jsx","webpack:///./source/src/app/components/Applications/Details/WebHookDetails.jsx","webpack:///./source/src/app/components/Applications/Details/index.jsx"],"names":["InlineMessage","props","type","title","messageType","severity","children","propTypes","classes","PropTypes","shape","isRequired","string","resourcePaths","APIS","SINGLE_API","API_SWAGGER","API_WSDL","API_GW_CONFIG","API_THUMBNAIL","API_COPY","API_LC_HISTORY","API_CHANGE_LC","API_LC","API_LC_PENDING_TASK","API_DEF","API_VALIDATE_DEF","API_DOCS","API_DOC","API_DOC_CONTENT","APPLICATIONS","SINGLE_APPLICATION","APPLICATION_GENERATE_KEYS","APPLICATION_GENERATE_KEY_TYPE","EXPORT_APIS","IMPORT_APIS","SUBSCRIPTION","SINGLE_SUBSCRIPTION","SUBSCRIPTIONS","BLOCK_SUBSCRIPTION","UNBLOCK_SUBSCRIPTION","POLICIES","POLICY","ENDPOINTS","ENDPOINT","LABLES","WORKFLOW","SERVICE_DISCOVERY","resourceMethods","POST","PUT","GET","DELETE","ScopeValidation","React","Component","constructor","super","this","state","componentDidMount","resourcePath","resourceMethod","hasScope","AuthManager","hasScopes","then","haveScope","setState","render","node","definition","number","Joi","integer","url","uri","allow","ipAddress","ip","version","cidr","ViewToken","tokenCopied","name","that","elementName","setTimeout","getTokeScopesString","tokenScopes","join","token","consumerSecret","className","root","secretWrapper","secret","variant","component","isOauth","id","defaultMessage","epWrapper","for","prodLabel","defaultValue","accessToken","multiline","fullWidth","rows","InputProps","disableUnderline","bootstrapRoot","input","bootstrapInput","InputLabelProps","shrink","bootstrapFormLabel","placement","text","onCopy","aria-label","color","validityTime","defaultProps","array","withStyles","theme","padding","marginTop","spacing","flex","marginRight","borderRadius","backgroundColor","custom","apiDetailPages","tokenTextBoxBackground","palette","getContrastText","border","height","width","transition","transitions","create","fontFamily","borderColor","boxShadow","display","marginBottom","lineHeight","whiteSpace","contentWrapper","maxWidth","contentAreaWidth","leftMenu","background","paper","ViewSecret","secretCopied","common","white","Subscription","Resource","client","APIClientFactory","getAPIClient","Utils","getEnvironment","label","getSubscriptions","apiId","applicationId","limit","apis","get_subscriptions","getSubscription","subscriptionUUID","get_subscriptions__subscriptionId_","subscriptionId","getMonetizationInvoice","get_subscriptions__subscriptionId__usage","deleteSubscription","delete_subscriptions__subscriptionId_","updateSubscription","throttlingPolicy","status","requestedThrottlingPolicy","subscriptionData","payload","Subscriptions","put_subscriptions__subscriptionId_","requestBody","MenuProps","PaperProps","style","maxHeight","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl","tokens","handleChange","field","event","accessTokenRequest","updateAccessTokenRequest","newRequest","target","currentTarget","scopesSelected","value","keyType","subscriptionScopes","margin","FormControlOdd","disabled","length","htmlFor","quotaHelp","multiple","onChange","e","renderValue","selected","chips","map","key","chip","scope","contextTypes","intl","FormControl","position","flexWrap","useStyles","makeStyles","flexGrow","messageWrapper","textAlign","secondary","NoApi","useTheme","container","item","xs","alt","src","app","context","noApiImage","gutterBottom","useStylesBootstrap","arrow","black","tooltip","BootstrapTooltip","LeftMenuItem","setSelected","useState","Icon","to","history","route","submenu","open","routeToCheck","strokeColor","iconSize","ditectCurrentMenu","location","window","pathname","test1","RegExp","test2","match","useEffect","listen","activeBackground","leftMenuActive","leftMenuActiveSubmenu","classNames","leftLInk","leftLink_IconLeft","cloneElement","leftLink_Icon","noIcon","icon","iconText","leftLInkText","leftLInkText_IconLeft","leftLInkText_NoText","leftLInkText_NoTextWhenSmall","element","oneOfType","bool","withRouter","textTransform","overflow","textOverflow","paddingLeft","LeftMenu","typography","bottom","left","top","paddingTop","paddingBottom","breakpoints","down","paddingRight","fontSize","caption","cursor","textDecoration","alignItems","justifyContent","grey","withTheme","DeleteConfirmation","handleAppDelete","isDeleteOpen","toggleDeleteConfirmation","Slide","role","dense","onClick","size","func","ImportExternalApp","consumerKey","isUserOwner","provideOAuthKeySecret","importDisabled","useIntl","setOpen","handleClose","Button","startIcon","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","Grid","direction","TextField","formatMessage","FormHelperText","DialogActions","Typography","AppConfiguration","config","previousValue","selectedValue","setSelectedValue","handleAppRequestChange","TableRow","TableCell","leftCol","Box","removeHelperPadding","select","helperText","values","MenuItem","Array","isArray","formControl","InputLabel","Select","labelId","displayEmpty","Input","Chip","Checkbox","checked","indexOf","ListItemText","primary","notFound","instanceOf","Object","any","injectIntl","button","marginLeft","checkboxWrapper","checkboxWrapperColumn","flexDirection","group","KeyConfiguration","urlCopied","setUrlCopied","callbackHelper","setCallbackHelper","keyManagerConfig","updateKeyRequest","keyRequest","updateHasError","callbackError","selectedGrantTypes","callbackUrl","applicationConfiguration","availableGrantTypes","description","additionalProperties","enableMapOAuthConsumerApps","enableOAuthAppCreation","enableTokenEncryption","enableTokenGeneration","revokeEndpoint","tokenEndpoint","userInfoEndpoint","cloneDeep","newGrantTypes","keyManager","includes","Validation","validate","error","filter","clonedAdditionalProperties","getPreviousValue","isPreviousValueSet","default","ResourceNotFound","grantTypeDisplayListMap","grantTypes","grantTypeDisplayNameMap","modifiedGrantTypes","forEach","grantType","getGrantTypeDisplayList","Settings","Table","table","TableBody","Tooltip","iconStyle","IconButton","iconButton","keys","FormControlLabel","control","placeholder","validating","isKeysAvailable","setGenerateEnabled","titleColumn","fontWeight","keyInfoTable","borderCollapse","borderBottom","code","command","encodeVisible","ViewCurl","bas64Encoded","btoa","showReal","setShowReal","setTokenCopied","applyReal","Fragment","ViewKeys","data","preventDefault","showToken","keyMappingId","selectedTab","applicationPromise","application","regenerateSecret","response","console","log","showSecretGen","secretGenResponse","catch","showCurl","isKeyJWT","isUpdating","generateToken","timeout","tokenResponse","tokenValidityTime","Alert1","body","Alert","message","selectedApp","hashEnabled","keyCopied","showCS","copyWrapper","readOnly","endAdornment","InputAdornment","handleSecretRegenerate","handleShowHidden","onMouseDown","handleMouseDownGeneric","appId","Application","get","getKeys","componentDidUpdate","prevProps","fullScreen","tokenType","summary","initialToken","initialValidityTime","initialScopes","Loading","csCkKeys","accessTokenScopes","validityPeriod","tokenDetails","dialogHead","viewKeyAndSecret","inputWrapper","dialogWrapper","DialogContentText","Tokens","CircularProgress","generateAccessToken","autoFocus","tokenSection","find","a","handleClickOpen","handleClickOpenCurl","keyState","states","REJECTED","noKeysRoot","backgroundImage","overviewPage","keysBackground","backgroundPosition","backgroundRepeat","backgroundSize","minHeight","TokenManagerSummary","keyStates","emptyBox","CREATED","WaitingForApproval","keyGrantTypes","supportedGrantTypes","TabPanel","index","other","hidden","p","StyledTabs","indicator","flexContainer","borderLeft","Tabs","TabIndicatorProps","StyledTab","fontWeightRegular","pxToRem","opacity","borderRight","Tab","disableRipple","TokenManager","newSelectedTab","keyManagers","selectedKM","x","getDefaultAdditionalProperties","promisedKeyManagers","API","getKeyManagers","promisedGetKeys","Promise","all","responseKeyManagerList","list","enabled","push","selectdKM","mode","selectdKMGrants","validatingState","hasError","str","replace","txt","charAt","toUpperCase","substr","toLowerCase","isLoading","scopes","providedConsumerKey","providedConsumerSecret","COMPLETED","APPROVED","bind","generateKeys","updateKeys","cleanUpKeys","handleOnChangeProvidedOAuth","loadApplication","nextProps","nextKeyType","prevKeyType","confItem","updateSubscriptionData","getKeyManagerIdentifier","newKeys","Map","set","info","finally","applicationKey","provideKeys","getKeyManagerDescription","selectedKMObject","mb","keyTitle","toTitleCase","dialogContainer","username","getUser","owner","Progress","cleanUpInfoText","cleanUpButton","indicatorColor","textColor","handleTabChange","keymanager","displayName","tabPanel","heading","subTitle","ml","m","enableTokenHashing","setValidating","generateWrapper","warningIcon","kmName","main","keyConfigWrapper","muiFormGroupRoot","infiniteValidity","setInfiniteValidity","invalidTimeout","setInvaildTimeout","undefined","required","inputText","apiKeyRestrictions","invalidIP","setInvalidIP","invalidReferer","setInvalidReferer","newIP","updateNewIp","ipList","updateIpList","restrictSchema","updateRestrictSchema","newReferer","updateNewReferer","refererList","updateRefererList","outterBox","RadioGroup","row","Radio","labelPlacement","justify","md","trim","Fab","List","ListItem","ListItemSecondaryAction","edge","deleteIpItem","ipItem","splice","referer","deleteRefererItem","refererItem","ApiKeyManager","isGenerating","restrictions","permittedIP","permittedReferer","generateApiKey","apikey","ApiKeyRestriction","FormGroup","formGroup","generateKey","formLabel","dialog","dialogTitle","dialogContent","ApiKey","Card","CardContent","cardBody","linebreak","ip1","ip2","ip3","ip4","url1","url2","url3","gridWrapper","SubscriptionPolicySelect","selectedPolicy","policies","handleSubscribe","policy","buttonGap","APICardView","xhrRequest","pagination","total","count","updateUnsubscribedAPIsList","setTenantDomain","loading","page","searchText","rowsPerPage","api","getAllAPIs","query","offset","pageType","getData","subscriptions","getIdsOfSubscribedEntities","sub","Boolean","listLocal","subscribedIds","i","advertiseInfo","advertised","isSubscriptionAvailable","throttlingPolicies","apisNotFound","columns","options","customBodyRender","tableMeta","rowData","search","print","download","viewColumns","customToolbar","responsive","serverSide","onTableChange","action","tableState","changePage","selectableRows","onChangeRowsPerPage","numberOfRows","pageInner","countInner","filterType","sort","selectableRowsHeader","Invoice","tiers","showPopup","setShowPopup","showErrorPopup","setShowErrorPopup","invoice","setInvoice","handleAlertClose","obj","invoiceData","properties","invoiveItem","insideArray","arrayOf","SubscriptionTableData","openMenu","openMenuEdit","isMonetizedAPI","isDynamicUsagePolicy","selectedTier","handleRequestClose","handleRequestOpen","handleRequestDelete","checkIfDynamicUsagePolicy","checkIfMonetizedAPI","populateSubscriptionTiers","handleSubscriptionTierUpdate","handleRequestCloseEditMenu","handleRequestOpenEditMenu","setSelectedTier","subscription","handleSubscriptionDelete","currentThrottlingPolicy","handleSubscriptionUpdate","apiUUID","Api","getAPIById","apiTiers","JSON","parse","tierName","apiData","monetization","getTierByName","policyResponse","policyData","monetizationAttributes","billingType","apiInfo","link","external","path","mdiOpenInNew","hover","lifeCycleStatus","tier","subscriptionsNotFound","isAuthorize","openDialog","updateSubscriptions","handleOpenDialog","handleSearchTextChange","handleSearchTextTmpChange","handleClearSearch","handleEnterPress","searchTextTmp","params","prevState","subscriptionLimit","endpointIndex","prototype","hasOwnProperty","call","statusInner","subscribe","searchInputElem","keyCode","titleWrapper","buttonElm","xl","genericMessageWrapper","cardContent","subsTable","TableHead","firstCell","subscribePop","disableTypography","searchWrapper","Paper","searchRoot","clearSearchIcon","InputBase","inputProps","inputRef","el","onKeyDown","searchResults","closeButton","appInner","divider","cardTitle","listView","tableBodyEvenBackgrund","tableBodyOddBackgrund","tableHeadBackground","InfoBar","showOverview","applicationOwner","toggleOverview","handleDeleteConfimation","getApplication","promisedPolicy","promisedDelete","deleteApp","ok","todo","infoBarMain","linkTitle","align","subscriptionCount","VerticalDivider","editButton","mainBack","infoBar","infoBarHeight","starColor","A200","backIcon","backText","starRate","starRateMy","rateLink","topBar","infoContent","infoContentBottom","sliderBackground","ratingBoxWrapper","ratingBox","userRating","verticalDividerStar","backLink","ratingSummery","buttonView","buttonOverviewText","appNameXSmall","overflowX","overflowY","appNameSmall","appNameMid","appNameBig","minWidth","iconAligner","iconTextWrapper","iconEven","iconOddColor","iconOdd","summaryRoot","actionPanel","setApplication","tierDescription","setTierDescription","setNotFound","promisedTier","tierResponse","attributes","attr","attrValue","dayjs","extend","relativeTime","buttonIcon","grid","userNotificationPaper","titleSub","listWrapper","subscriptionRow","callbackurl","subscriptionTimestamp","float","SubscriptionHeader","WebHookDetails","matchPath","exact","strict","subscribedTopics","setSubscribedTopics","getWebhookubScriptions","sortedSubscriptions","_","groupBy","deliveryStatus","getLogoForDeliveryStatus","callBackUrl","deliveryTime","Divider","Details","menuLink","application_uuid","secScheme","pathPrefix","redirectUrl","rootIconSize","rootIconTextVisible","rootIconVisible","prefix","sufix","Helmet","leftMenuHorizontal","leftMenuVerticalLeft","leftMenuVerticalRight","leftLInkMain","CustomIcon","leftLInkMainText","content","innerRef","contentLoader","contentLoaderRightMenu","from","Overview","renderManager","shiftToLeft","shiftToRight","leftMenuPaddingLeft","right","rootBackground","detailsContent"],"mappings":"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","file":"ApplicationDetails.eb12f52ce5eaeefce125.bundle.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Icon from '@material-ui/core/Icon';\nimport VerticalDivider from './VerticalDivider';\nimport { Alert, AlertTitle } from '@material-ui/lab';\n\n/**\n * Main style object\n *\n * @param {*} theme\n */\nconst styles = theme => ({\n    root: {\n        width: '100%',\n        '& > * + *': {\n            marginTop: theme.spacing(2),\n        },\n    },\n});\n/**\n *  Renders a inline massage\n *\n * @class InlineMessage\n * @extends {React.Component}\n */\nfunction InlineMessage(props) {\n    const { type, title } = props;\n    const messageType = type || 'info';\n    return (\n        <Alert severity={messageType}>\n            {title && (<AlertTitle>{title}</AlertTitle>)}\n            {props.children}\n        </Alert>\n\n    );\n}\n\nInlineMessage.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    type: PropTypes.string.isRequired,\n};\n\nexport default InlineMessage;\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport AuthManager from '../../data/AuthManager';\n\nconst resourcePaths = {\n    APIS: '/apis',\n    SINGLE_API: '/apis/{apiId}',\n    API_SWAGGER: '/apis/{apiId}/swagger',\n    API_WSDL: '/apis/{apiId}/wsdl',\n    API_GW_CONFIG: '/apis/{apiId}/gateway-config',\n    API_THUMBNAIL: '/apis/{apiId}/thumbnail',\n    API_COPY: '/apis/copy-api',\n    API_LC_HISTORY: '/apis/{apiId}/lifecycle-history',\n    API_CHANGE_LC: '/apis/change-lifecycle',\n    API_LC: '/apis/{apiId}/lifecycle',\n    API_LC_PENDING_TASK: '/apis/{apiId}/lifecycle/lifecycle-pending-task',\n    API_DEF: '/apis/import-definition',\n    API_VALIDATE_DEF: '/apis/validate-definition',\n    API_DOCS: '/apis/{apiId}/documents',\n    API_DOC: \"'/apis/{apiId}/documents/{documentId}'\",\n    API_DOC_CONTENT: \"'/apis/{apiId}/documents/{documentId}/content'\",\n    APPLICATIONS: '/applications',\n    SINGLE_APPLICATION: '/applications/{applicationId}',\n    APPLICATION_GENERATE_KEYS: '/applications/{applicationId}/generate-keys',\n    APPLICATION_GENERATE_KEY_TYPE: '/applications/{applicationId}/keys/{keyType}',\n    EXPORT_APIS: '/export/apis',\n    IMPORT_APIS: '/import/apis',\n    SUBSCRIPTION: '/subscriptions',\n    SINGLE_SUBSCRIPTION: '/subscriptions/{subscriptionId}',\n    SUBSCRIPTIONS: '/subscriptions',\n    BLOCK_SUBSCRIPTION: '/subscriptions/block-subscription:',\n    UNBLOCK_SUBSCRIPTION: '/subscriptions/unblock-subscription',\n    POLICIES: \"'/policies/{tierLevel}'\",\n    POLICY: \"'/policies/{tierLevel}/{tierName}'\",\n    ENDPOINTS: '/endpoints',\n    ENDPOINT: '/endpoints/{endpointId}',\n    LABLES: '/labels',\n    WORKFLOW: '/workflows/{workflowReferenceId}',\n    SERVICE_DISCOVERY: '/external-resources/services',\n};\n\nconst resourceMethods = {\n    POST: 'post',\n    PUT: 'put',\n    GET: 'get',\n    DELETE: 'delete',\n};\n\n/**\n * Show element iff user has proper scope for the view/action\n * @class ScopeValidation\n * @extends {React.Component}\n */\nclass ScopeValidation extends React.Component {\n    /**\n     * Creates an instance of ScopeValidation.\n     * @param {any} props @inheritDoc\n     * @memberof ScopeValidation\n     */\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n\n    /**\n     * @inheritDoc\n     * @memberof ScopeValidation\n     */\n    componentDidMount() {\n        const { resourcePath, resourceMethod } = this.props;\n        const hasScope = AuthManager.hasScopes(resourcePath, resourceMethod);\n        if (hasScope) {\n            hasScope.then((haveScope) => {\n                this.setState({ haveScope });\n            });\n        }\n    }\n\n    /**\n     * @inheritDoc\n     * @returns {React.Component} Return react component\n     * @memberof ScopeValidation\n     */\n    render() {\n        const { children } = this.props;\n        if (this.state.haveScope) {\n            return children || null;\n        }\n        return null;\n    }\n}\n\nScopeValidation.propTypes = {\n    children: PropTypes.node.isRequired,\n    resourcePath: PropTypes.string.isRequired,\n    resourceMethod: PropTypes.string.isRequired,\n};\n\nexport {\n    ScopeValidation,\n    resourceMethods,\n    resourcePaths,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport Joi from '@hapi/joi';\n\nconst definition = {\n    number: Joi.number().integer(),\n    url: Joi.string().uri().allow(''),\n    ipAddress: Joi.string().ip({\n      version: [\n        'ipv4',\n        'ipv6'\n      ],\n      cidr: 'optional'\n    }),\n};\n\nexport default definition;\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport FileCopy from '@material-ui/icons/FileCopy';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport IconButton from '@material-ui/core/IconButton';\nimport { FormattedMessage } from 'react-intl';\nimport InlineMessage from '../InlineMessage';\nimport ViewSecret from './ViewSecret';\n/**\n *\n *\n * @param {*} theme\n */\nconst styles = (theme) => ({\n    bootstrapRoot: {\n        padding: 0,\n        'label + &': {\n            marginTop: theme.spacing(3),\n        },\n        flex: 1,\n        marginRight: theme.spacing(1),\n    },\n    bootstrapInput: {\n        borderRadius: 4,\n        backgroundColor: theme.custom.apiDetailPages.tokenTextBoxBackground,\n        color: theme.palette.getContrastText(theme.custom.apiDetailPages.tokenTextBoxBackground),\n        border: '1px solid #ced4da',\n        padding: '5px 12px',\n        height: 100,\n        width: '100%',\n        transition: theme.transitions.create(['border-color', 'box-shadow']),\n        fontFamily: ['-apple-system', 'BlinkMacSystemFont', '\"Segoe UI\"', 'Roboto', '\"Helvetica Neue\"',\n            'Arial', 'sans-serif', '\"Apple Color Emoji\"', '\"Segoe UI Emoji\"', '\"Segoe UI Symbol\"'].join(','),\n        '&:focus': {\n            borderColor: '#80bdff',\n            boxShadow: '0 0 0 0.2rem rgba(0,123,255,.25)',\n        },\n    },\n    epWrapper: {\n        display: 'flex',\n        marginTop: 20,\n    },\n    secretWrapper: {\n        display: 'flex',\n        marginBottom: 20,\n    },\n    prodLabel: {\n        lineHeight: '30px',\n        marginRight: 10,\n        width: 100,\n        'text-align-last': 'center',\n        whiteSpace: 'nowrap',\n    },\n    contentWrapper: {\n        maxWidth: theme.custom.contentAreaWidth - theme.custom.leftMenu.width,\n    },\n    root: {\n        marginTop: 20,\n        '& span, & h5, & label, & td, & li, & div, & input': {\n            color: theme.palette.getContrastText(theme.palette.background.paper),\n        },\n\n    },\n});\n/**\n *\n *\n * @class ViewToken\n * @extends {React.Component}\n */\nclass ViewToken extends React.Component {\n    state = {\n        tokenCopied: false,\n    };\n\n    /**\n     *\n     *\n     * @memberof ViewToken\n     */\n    onCopy = (name) => () => {\n        this.setState({\n            [name]: true,\n        });\n        const that = this;\n        const elementName = name;\n        const caller = function () {\n            that.setState({\n                [elementName]: false,\n            });\n        };\n        setTimeout(caller, 4000);\n    };\n\n    /**\n     * Generate a comma separate string of token scopes\n     * @param {string} tokenScopes token scopes\n     * @returns {String} scopeString comma separated string of token scopes\n     * @memberof ViewToken\n     */\n    getTokeScopesString(tokenScopes) {\n        if (tokenScopes) {\n            return tokenScopes.join(', ');\n        }\n        return '';\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof ViewToken\n     */\n    render() {\n        const {\n            classes, token, consumerSecret,\n        } = this.props;\n        const { tokenCopied } = this.state;\n        return (\n            <div className={classes.root}>\n                {consumerSecret && (\n                    <div className={classes.secretWrapper}>\n                        <ViewSecret secret={{ consumerSecret }} />\n                    </div>\n                )}\n                <InlineMessage type='warn'>\n                    <Typography variant='h5' component='h3'>\n                        {(token.isOauth) && (\n                            <FormattedMessage\n                                id='Shared.AppsAndKeys.ViewToken.please.copy'\n                                defaultMessage='Please Copy the Access Token'\n                            />\n                        )}\n                        {(!token.isOauth) && (\n                            <FormattedMessage\n                                id='Shared.AppsAndKeys.ViewToken.please.copy.apikey'\n                                defaultMessage='Please Copy the API Key'\n                            />\n                        )}\n                    </Typography>\n                    <Typography component='p'>\n                        <FormattedMessage\n                            id='Shared.AppsAndKeys.ViewToken.please.copy.help'\n                            defaultMessage={'If the token type is JWT or API Key, please copy this generated token value as it will be displayed only for'\n                            + ' the current browser session. '\n                            + '( The token will not be visible in the UI after the page is refreshed. )'}\n                        />\n                    </Typography>\n                </InlineMessage>\n                <div className={classes.epWrapper}>\n                    <label for='access-token' className={classes.prodLabel}>\n                        {(token.isOauth) && (\n                            <FormattedMessage\n                                id='Shared.AppsAndKeys.ViewToken.access.token'\n                                defaultMessage='Access Token'\n                            />\n                        )}\n                        {(!token.isOauth) && (\n                            <FormattedMessage\n                                id='Shared.AppsAndKeys.ViewToken.apikey'\n                                defaultMessage='API Key'\n                            />\n                        )}\n                    </label>\n                    <TextField\n                        defaultValue={token.accessToken}\n                        id='access-token'\n                        multiline\n                        fullWidth\n                        rows={4}\n                        InputProps={{\n                            disableUnderline: true,\n                            classes: {\n                                root: classes.bootstrapRoot,\n                                input: classes.bootstrapInput,\n                            },\n                        }}\n                        InputLabelProps={{\n                            shrink: true,\n                            className: classes.bootstrapFormLabel,\n                        }}\n                    />\n                    <Tooltip title={tokenCopied ? 'Copied' : 'Copy to clipboard'} placement='right'>\n                        <CopyToClipboard text={token.accessToken} onCopy={this.onCopy('tokenCopied')}>\n                            <IconButton aria-label='Copy to clipboard'>\n                                <FileCopy color='secondary'>file_copy</FileCopy>\n                            </IconButton>\n                        </CopyToClipboard>\n                    </Tooltip>\n                </div>\n                <FormHelperText>\n                    <FormattedMessage\n                        id='Shared.AppsAndKeys.ViewToken.info.first'\n                        defaultMessage='Above token has a validity period of '\n                    />\n                    {token.validityTime}\n                    <FormattedMessage\n                        id='Shared.AppsAndKeys.ViewToken.info.second'\n                        defaultMessage=' seconds'\n                    />\n                    {token.isOauth && (\n                        <FormattedMessage\n                            id='Shared.AppsAndKeys.ViewToken.info.third'\n                            defaultMessage=' and the token has ('\n                        />\n                    )}\n                    {this.getTokeScopesString(token.tokenScopes)}\n                    {token.isOauth && (\n                        <FormattedMessage\n                            id='Shared.AppsAndKeys.ViewToken.info.fourth'\n                            defaultMessage=') scopes'\n                        />\n                    )}\n.\n                </FormHelperText>\n            </div>\n        );\n    }\n}\n\nViewToken.defaultProps = {\n    consumerSecret: null,\n};\n\nViewToken.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    token: PropTypes.shape({\n        accessToken: PropTypes.string.isRequired,\n        validityTime: PropTypes.number.isRequired,\n        tokenScopes: PropTypes.array.isRequired,\n    }).isRequired,\n    consumerSecret: PropTypes.string,\n};\n\nexport default withStyles(styles)(ViewToken);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport FileCopy from '@material-ui/icons/FileCopy';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport { FormattedMessage } from 'react-intl';\nimport InlineMessage from '../InlineMessage';\n/**\n *\n *\n * @param {*} theme\n */\nconst styles = theme => ({\n    bootstrapRoot: {\n        padding: 0,\n        'label + &': {\n            marginTop: theme.spacing(3),\n        },\n    },\n    bootstrapInput: {\n        borderRadius: 4,\n        backgroundColor: theme.palette.common.white,\n        border: '1px solid #ced4da',\n        padding: '5px 12px',\n        width: 350,\n        height: 100,\n        transition: theme.transitions.create(['border-color', 'box-shadow']),\n        fontFamily: ['-apple-system', 'BlinkMacSystemFont', '\"Segoe UI\"', 'Roboto', '\"Helvetica Neue\"',\n            'Arial', 'sans-serif', '\"Apple Color Emoji\"', '\"Segoe UI Emoji\"', '\"Segoe UI Symbol\"'].join(','),\n        '&:focus': {\n            borderColor: '#80bdff',\n            boxShadow: '0 0 0 0.2rem rgba(0,123,255,.25)',\n        },\n    },\n    epWrapper: {\n        display: 'flex',\n        marginTop: 20,\n    },\n    prodLabel: {\n        lineHeight: '30px',\n        marginRight: 10,\n        width: 100,\n        'text-align-last': 'center',\n    },\n    contentWrapper: {\n        maxWidth: theme.custom.contentAreaWidth - theme.custom.leftMenu.width,\n    },\n    root: {\n        marginBottom: 20,\n    },\n});\n/**\n *\n *\n * @class ViewSecret\n * @extends {React.Component}\n */\nclass ViewSecret extends React.Component {\n    state = {\n        secretCopied: false,\n    };\n\n    /**\n     *\n     *\n     * @memberof ViewSecret\n     */\n    onCopy = name => () => {\n        this.setState({\n            [name]: true,\n        });\n        const that = this;\n        const elementName = name;\n        const caller = function () {\n            that.setState({\n                [elementName]: false,\n            });\n        };\n        setTimeout(caller, 4000);\n    };\n\n    /**\n     * Generate a comma separate string of token scopes\n     *\n     * @param {string} tokenScopes token scopes\n     * @returns {String} scopeString comma separated string of token scopes\n     * @memberof ViewSecret\n     */\n    getTokeScopesString(tokenScopes) {\n        if (tokenScopes) {\n            return tokenScopes.join(', ');\n        }\n        return '';\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof ViewSecret\n     */\n    render() {\n        const { classes, secret } = this.props;\n        const { secretCopied } = this.state;\n        return (\n            <div className={classes.root}>\n                <InlineMessage type='warn'>\n                    <Typography variant='h5' component='h3'>\n                        <FormattedMessage\n                            id='Shared.AppsAndKeys.ViewSecret.please.copy.secret'\n                            defaultMessage='Please Copy the Consumer Secret'\n                        />\n                    </Typography>\n                    <Typography component='p'>\n                        <FormattedMessage\n                            id='Shared.AppsAndKeys.ViewSecret.please.copy.secret.help'\n                            defaultMessage={`Please make a note of the regenerated consumer \n                            secret value as it will be displayed only once.`}\n                        />\n                    </Typography>\n                </InlineMessage>\n                <div className={classes.epWrapper}>\n                    <Typography className={classes.prodLabel}>\n                        <FormattedMessage\n                            id='Shared.AppsAndKeys.ViewSecret.consumer.secret'\n                            defaultMessage='Consumer Secret'\n                        />\n                    </Typography>\n                    <TextField\n                        defaultValue={secret.consumerSecret}\n                        id='bootstrap-input'\n                        multiline\n                        rows={4}\n                        InputProps={{\n                            disableUnderline: true,\n                            classes: {\n                                root: classes.bootstrapRoot,\n                                input: classes.bootstrapInput,\n                            },\n                        }}\n                        InputLabelProps={{\n                            shrink: true,\n                            className: classes.bootstrapFormLabel,\n                        }}\n                    />\n                    <Tooltip title={secretCopied ? 'Copied' : 'Copy to clipboard'} placement='right'>\n                        <CopyToClipboard text={secret.consumerSecret} onCopy={this.onCopy('secretCopied')}>\n                            <FileCopy color='secondary'>file_copy</FileCopy>\n                        </CopyToClipboard>\n                    </Tooltip>\n                </div>\n            </div>\n        );\n    }\n}\n\nViewSecret.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    secret: PropTypes.shape({\n        consumerSecret: PropTypes.string.isRequired,\n    }).isRequired,\n};\n\nexport default withStyles(styles)(ViewSecret);\n","/**\n * Copyright (c) 2018, WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\"use strict\";\nimport APIClientFactory from \"./APIClientFactory\";\nimport Resource from \"./Resource\";\nimport Utils from \"./Utils\";\n\n/***\n * Class to expose Subscription {Resource} related operations\n */\n\nexport default class Subscription extends Resource {\n\n    constructor() {\n        super();\n        this.client = new APIClientFactory().getAPIClient(Utils.getEnvironment().label).client;\n    }\n\n    /**\n     * Get all Subscriptions\n     * @param apiId id of the API\n     * @param applicationId id of the application \n     * @param limit subscription count to return\n     * @returns {promise} With all subscription for given applicationId or apiId.\n     */\n    getSubscriptions(apiId, applicationId, limit = 25) {\n        var promise_get = this.client.then((client) => {\n            return client.apis[\"Subscriptions\"].get_subscriptions(\n                { apiId: apiId, applicationId: applicationId, limit });\n        }\n        );\n        return promise_get;\n    }\n\n    /**\n     * Get a single subscription\n     * @param subscriptionUUID subscription UUID\n     */\n    getSubscription(subscriptionUUID) {\n        var promised_subscription = this.client.then((client) => {\n            return client.apis[\"Subscriptions\"].get_subscriptions__subscriptionId_(\n                { subscriptionId: subscriptionUUID });\n        }\n        );\n        return promised_subscription;\n    }\n\n    /**\n    * Get pending invoice if available * @param {*} subscriptionUUID\n    */\n    getMonetizationInvoice(subscriptionUUID) {\n        const promiseInvoice = this.client.then(client => {\n            return client.apis['API Monetization'].get_subscriptions__subscriptionId__usage( \n                {\n                    subscriptionId: subscriptionUUID \n                }\n            );\n        });\n        return promiseInvoice;\n    }\n\n    /**\n    * Delete subscription\n    * @param subscriptionId id of the subscription\n    * @returns {promise} With 200 OK.\n    */\n    deleteSubscription(subscriptionId) {\n        const promised_delete_subscription = this.client.then((client) => {\n            return client.apis[\"Subscriptions\"].delete_subscriptions__subscriptionId_(\n                {\n                    subscriptionId: subscriptionId,\n                }\n            );\n        });\n        return promised_delete_subscription;\n    }\n\n   /**\n    * Update subscription\n    * @param subscriptionId id of the subscription\n    * @param throttlingPolicy throttling tier\n    * @returns {promise} With 200 OK.\n    */\n    updateSubscription(applicationId, apiId, subscriptionId, throttlingPolicy, status, requestedThrottlingPolicy) {\n        const promised_update_subscription = this.client.then((client) => {\n        let subscriptionData = null;\n\n            subscriptionData = {\n                applicationId, apiId, subscriptionId, throttlingPolicy: throttlingPolicy, status, requestedThrottlingPolicy\n            };\n\n            const payload = { \n                subscriptionId: subscriptionId,\n            };\n            return client.apis.Subscriptions.put_subscriptions__subscriptionId_(\n                payload,\n                { requestBody: subscriptionData },\n                { 'Content-Type': 'application/json' });\n        });\n        return promised_update_subscription;\n    }\n}\n\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Typography from '@material-ui/core/Typography';\nimport Chip from '@material-ui/core/Chip';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\n\n// Styles for Grid and Paper elements\nconst styles = theme => ({\n    FormControl: {\n        padding: theme.spacing(2),\n        width: '100%',\n    },\n    FormControlOdd: {\n        padding: theme.spacing(2),\n        backgroundColor: theme.palette.background.paper,\n        width: '100%',\n    },\n    quotaHelp: {\n        position: 'relative',\n    },\n    chips: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    chip: {\n        margin: theme.spacing(0.25),\n    },\n});\n\nconst MenuProps = {\n    PaperProps: {\n        style: {\n            maxHeight: 224,\n            width: 250,\n        },\n    },\n    anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"left\"\n    },\n    transformOrigin: {\n        vertical: \"top\",\n        horizontal: \"left\"\n    },\n    getContentAnchorEl: null,\n};\n\n/**\n * Used to display generate acctoken UI\n */\nconst tokens = (props) => {\n    /**\n    * This method is used to handle the updating of create application\n    * request object.\n    * @param {*} field field that should be updated in appliction request\n    * @param {*} event event fired\n    */\n    const handleChange = (field, event) => {\n        const { accessTokenRequest, updateAccessTokenRequest } = props;\n        const newRequest = { ...accessTokenRequest };\n\n        const { target: currentTarget } = event;\n\n        switch (field) {\n            case 'scopesSelected':\n                newRequest.scopesSelected = currentTarget.value;\n                break;\n            case 'keyType':\n                newRequest.keyType = currentTarget.value;\n                break;\n            default:\n                break;\n        }\n        updateAccessTokenRequest(newRequest);\n    };\n    const {\n        classes, accessTokenRequest, subscriptionScopes,\n    } = props;\n\n    return (\n        <>\n            <FormControl\n                margin='normal'\n                className={classes.FormControlOdd}\n                disabled={subscriptionScopes.length === 0}\n            >\n                <InputLabel htmlFor='quota-helper' className={classes.quotaHelp}>\n                    <FormattedMessage\n                        id='Shared.AppsAndKeys.Tokens.when.you.generate.scopes'\n                        defaultMessage='Scopes'\n                    />\n\n                </InputLabel>\n                <Select\n                    name='scopesSelected'\n                    multiple\n                    value={accessTokenRequest.scopesSelected}\n                    onChange={e => handleChange('scopesSelected', e)}\n                    input={<Input id='select-multiple-chip' />}\n                    renderValue={selected => (\n                        <div className={classes.chips}>\n                            {selected.map(value => (\n                                <Chip key={value} label={value} className={classes.chip} />\n                            ))}\n                        </div>\n                    )}\n                    MenuProps={MenuProps}\n                >\n                    {subscriptionScopes.map(scope => (\n                        <MenuItem\n                            key={scope}\n                            value={scope}\n                        >\n                            {scope}\n                        </MenuItem>\n                    ))}\n                </Select>\n                <Typography variant='caption'>\n                    <FormattedMessage\n                        id='Shared.AppsAndKeys.Tokens.when.you.generate'\n                        defaultMessage={'When you generate access tokens to APIs protected by scope/s,'\n                            + ' you can select the scope/s and then generate the token for it. Scopes enable '\n                            + 'fine-grained access control to API resources based on user roles. You define scopes to '\n                            + 'an API resource. When a user invokes the API, his/her OAuth 2 bearer token cannot grant '\n                            + 'access to any API resource beyond its associated scopes.'}\n                    />\n                </Typography>\n            </FormControl>\n        </>\n    );\n};\ntokens.contextTypes = {\n    intl: PropTypes.shape({}).isRequired,\n};\nexport default withStyles(styles)(tokens);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { FormattedMessage } from 'react-intl';\nimport { app } from 'Settings';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n    },\n    messageWrapper: {\n        marginTop: theme.spacing(4),\n        padding: theme.spacing(2),\n        textAlign: 'center',\n        color: theme.palette.text.secondary,\n    },\n}));\n\n/**\n * Render no api section\n * @returns {void}\n */\nexport default function NoApi() {\n    const classes = useStyles();\n    const theme = useTheme();\n\n    return (\n        <div className={classes.root}>\n            <Grid container spacing={3}>\n                <Grid item xs={12} className={classes.messageWrapper}>\n                    <img alt='API icon' src={app.context + theme.custom.noApiImage} className={classes.messageWrapper} />\n                    <Typography id='itest-no-apis' variant='h5' gutterBottom>\n                        <FormattedMessage id='Apis.Listing.NoApi.nodata.title' defaultMessage='No APIs Available' />\n                    </Typography>\n                    <Typography variant='subtitle1' gutterBottom>\n                        <FormattedMessage\n                            id='Apis.Listing.NoApi.nodata.content'\n                            defaultMessage='There are no APIs to display right now.'\n                        />\n                    </Typography>\n                </Grid>\n            </Grid>\n        </div>\n    );\n}\n","/* eslint-disable react/prop-types */\n/*\n * Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport CustomIcon from './CustomIcon';\n\nconst useStylesBootstrap = makeStyles((theme) => ({\n    arrow: {\n        color: theme.palette.common.black,\n    },\n    tooltip: {\n        backgroundColor: theme.palette.common.black,\n    },\n}));\n\nfunction BootstrapTooltip(props) {\n    const classes = useStylesBootstrap();\n\n    return <Tooltip arrow classes={classes} {...props} />;\n}\nconst styles = (theme) => ({\n    leftLInkText: {\n        color: theme.palette.getContrastText(theme.custom.leftMenu.background),\n        textTransform: 'capitalize',\n        width: '100%',\n        textAlign: 'left',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n    leftLInkText_IconLeft: {\n        paddingLeft: 10,\n    },\n    LeftMenu: {\n        backgroundColor: theme.custom.leftMenu.background,\n        width: theme.custom.leftMenu.width,\n        textAlign: 'center',\n        fontFamily: theme.typography.fontFamily,\n        position: 'absolute',\n        bottom: 0,\n        left: 0,\n        top: 0,\n    },\n    leftLInk: {\n        paddingTop: theme.spacing(0.6),\n        paddingBottom: theme.spacing(0.6),\n        paddingLeft: theme.spacing(1),\n        [theme.breakpoints.down('sm')]: {\n            paddingLeft: 0,\n        },\n        paddingRight: 0,\n        fontSize: theme.typography.caption.fontSize,\n        cursor: 'pointer',\n        textDecoration: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    leftLink_Icon: {\n        color: theme.palette.getContrastText(theme.custom.leftMenu.background),\n        fontSize: theme.custom.leftMenu.iconSize + 'px',\n    },\n    leftLink_IconLeft: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    noIcon: {\n        display: 'none',\n    },\n    leftLInkText_NoText: {\n        display: 'none',\n    },\n    leftLInkText_NoTextWhenSmall: {\n        [theme.breakpoints.down('sm')]: {\n            display: 'none !important',\n        }\n    },\n    submenu: {\n        paddingLeft: 12,\n        [theme.breakpoints.down('sm')]: {\n            paddingLeft: 0,\n            color: theme.palette.grey[500],\n        }\n    },\n});\n/**\n * Renders the left menu section.\n * @param {JSON} props props passed from parent\n * @returns {JSX} Leftmenu element.\n */\nfunction LeftMenuItem(props) {\n    const [selected, setSelected] = useState(false);\n\n    const {\n        classes, theme, Icon, to, history, text, route, submenu, open\n    } = props;\n    const routeToCheck = route || text;\n    const { leftMenu } = theme.custom;\n    const strokeColor = theme.palette.getContrastText(leftMenu.background);\n    const { iconSize } = leftMenu;\n    const ditectCurrentMenu = (location = null) => {\n        if (!location) {\n            location = window.location;\n        }\n        const { pathname } = location;\n\n        const test1 = new RegExp('/' + routeToCheck + '$', 'g');\n        const test2 = new RegExp('/' + routeToCheck + '/', 'g');\n        if (pathname.match(test1) || pathname.match(test2)) {\n            setSelected(true);\n        } else {\n            setSelected(false);\n        }\n\n\n    };\n    useEffect(() => {\n        ditectCurrentMenu();\n    }, []);\n    history.listen((location) => {\n        ditectCurrentMenu(location);\n    });\n    let activeBackground = '';\n    if (selected && !submenu) {\n        activeBackground = leftMenu.leftMenuActive;\n    } else if (selected && submenu) {\n        activeBackground = leftMenu.leftMenuActiveSubmenu;\n    }\n    return (\n        <BootstrapTooltip title={props.text} placement=\"right\">\n            <Link\n                className={classNames(\n                    classes.leftLInk,\n                    {\n                        [classes.leftLink_IconLeft]: leftMenu === 'icon left',\n                        [classes.submenu]: submenu,\n                    },\n                    'leftLInk',\n                )}\n                to={to}\n                style={{ backgroundColor: activeBackground }}\n                title={text}\n            >\n                {\n                    // If the icon pro ( which is coming from the React Material library )\n                    // is coming we add css class and render.\n                    // If leftMenu='no icon' at the theme object we hide the icon. Also we add static classes to\n                    // allow customers theme\n                    // the product without compiling.\n                    Icon ? (\n                        React.cloneElement(Icon, {\n                            className: classNames(\n                                classes.leftLink_Icon,\n                                {\n                                    [classes.noIcon]: leftMenu.style === 'no icon',\n                                    [classes.submenu]: submenu,\n                                },\n                                'leftLink_Icon',\n                            ),\n                        })\n                    ) : (\n                            // We can also add custom icons\n                            <CustomIcon\n                                strokeColor={submenu ? '#cccccc' : strokeColor}\n                                width={submenu ? iconSize - 10 : iconSize}\n                                height={submenu ? iconSize - 10 : iconSize}\n                                icon={props.iconText}\n                                className={classNames(\n                                    classes.leftLInk,\n                                    {\n                                        [classes.noIcon]: leftMenu.style === 'no icon',\n                                    },\n                                    'leftLink_Icon',\n                                )}\n                            />\n\n                        )}\n                {open && (\n                    <Typography\n                        className={classNames(\n                            classes.leftLInkText,\n                            {\n                                [classes.leftLInkText_IconLeft]: leftMenu.style === 'icon left',\n                                [classes.leftLInkText_NoText]: leftMenu.style === 'no text',\n                            },\n                            classes.leftLInkText_NoTextWhenSmall,\n                            'leftLInkText',\n                        )}\n                    >\n                        {props.text}\n                    </Typography>\n                )}\n                {!open && (\n                    <Typography\n                        className={classNames(\n                            {\n                                [classes.leftLInkText_IconLeft]: leftMenu.style === 'icon left',\n                            },\n                            classes.leftLInkText_NoTextWhenSmall,\n                            'leftLInkText',\n                        )}\n                    />\n                )}\n\n\n            </Link>\n        </BootstrapTooltip>\n    );\n}\nLeftMenuItem.defaultProps = {\n    route: null,\n    iconText: null,\n    Icon: null,\n    submenu: false,\n};\nLeftMenuItem.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    theme: PropTypes.shape({}).isRequired,\n    Icon: PropTypes.element,\n    text: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.shape({}),\n    ]).isRequired,\n    to: PropTypes.string.isRequired,\n    route: PropTypes.string,\n    iconText: PropTypes.string,\n    history: PropTypes.shape({\n        location: PropTypes.shape({}).isRequired,\n    }).isRequired,\n    submenu: PropTypes.bool,\n};\nexport default withRouter(withStyles(styles, { withTheme: true })(LeftMenuItem));\n","/*\n * Copyright (c) 2021, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport {\n    Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle,\n} from '@material-ui/core/';\nimport Slide from '@material-ui/core/Slide';\nimport { FormattedMessage } from 'react-intl';\nimport PropTypes from 'prop-types';\n\nconst DeleteConfirmation = (props) => {\n    const { handleAppDelete, isDeleteOpen, toggleDeleteConfirmation } = props;\n    return (\n        <Dialog open={isDeleteOpen} transition={Slide} role='alertdialog'>\n            <DialogTitle>\n                <FormattedMessage\n                    id='Applications.Listing.DeleteConfirmation.dialog.title'\n                    defaultMessage='Delete Application'\n                />\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    <FormattedMessage\n                        id='Applications.Listing.DeleteConfirmation.dialog.text.description'\n                        defaultMessage='The application will be removed'\n                    />\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button dense onClick={toggleDeleteConfirmation}>\n                    <FormattedMessage\n                        id='Applications.Listing.DeleteConfirmation.dialog.cancel'\n                        defaultMessage='Cancel'\n                    />\n                </Button>\n                <Button\n                    id='itest-confirm-application-delete'\n                    size='small'\n                    variant='outlined'\n                    color='primary'\n                    onClick={handleAppDelete}\n                >\n                    <FormattedMessage\n                        id='Applications.Listing.DeleteConfirmation.dialog,delete'\n                        defaultMessage='Delete'\n                    />\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\nDeleteConfirmation.propTypes = {\n    handleAppDelete: PropTypes.func.isRequired,\n    isDeleteOpen: PropTypes.bool.isRequired,\n    toggleDeleteConfirmation: PropTypes.func.isRequired,\n};\nexport default DeleteConfirmation;\n","/*\n * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Typography from '@material-ui/core/Typography';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport PlayForWorkIcon from '@material-ui/icons/PlayForWork';\nimport { ScopeValidation, resourceMethods, resourcePaths } from 'AppComponents/Shared/ScopeValidation';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\n\nfunction ImportExternalApp(props) {\n    const {\n        consumerKey, consumerSecret, onChange, isUserOwner, key, provideOAuthKeySecret, importDisabled,\n    } = props;\n    const intl = useIntl();\n\n    const [open, setOpen] = React.useState(false);\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n    /**\n     * Handle onChange of provided consumer key and secret\n     *\n     * @param event\n     */\n    function handleChange(event) {\n        if (onChange) {\n            onChange(event);\n        }\n    }\n    return (\n        <>\n            <Button\n                variant=\"outlined\"\n                color=\"secondary\"\n                startIcon={<PlayForWorkIcon />}\n                onClick={handleClickOpen}\n                disabled={importDisabled}\n            >\n                <FormattedMessage\n                    defaultMessage='Provide Existing OAuth Keys'\n                    id='Shared.AppsAndKeys.ImportExternalApp.provide.oauth'\n                />\n            </Button>\n            <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n                <DialogTitle id=\"form-dialog-title\"><FormattedMessage\n                    defaultMessage='Provide Existing OAuth Keys'\n                    id='Shared.AppsAndKeys.ImportExternalApp.provide.oauth'\n                /></DialogTitle>\n                <DialogContent>\n\n                    <Grid container spacing={3} direction='column'>\n                        <Grid item xs={12}>\n                            <TextField\n                                id='provided-consumer-key'\n                                name='providedConsumerKey'\n                                label={intl.formatMessage({\n                                    defaultMessage: 'Consumer Key',\n                                    id: 'Shared.AppsAndKeys.ImportExternalApp.consumer.key',\n                                })}\n                                value={consumerKey}\n                                onChange={e => handleChange(e)}\n                                margin='normal'\n                                fullWidth\n                                disabled={!isUserOwner}\n                                variant='outlined'\n                            />\n                            <FormControl>\n                                <FormHelperText id='consumer-key-helper-text'>\n                                    <FormattedMessage\n                                        id='Shared.AppsAndKeys.ImportExternalApp.consumer.key.title'\n                                        defaultMessage='Consumer Key of the OAuth application'\n                                    />\n                                </FormHelperText>\n                            </FormControl>\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                id='provided-consumer-secret'\n                                name='providedConsumerSecret'\n                                label={intl.formatMessage({\n                                    defaultMessage: 'Consumer Secret',\n                                    id: 'Shared.AppsAndKeys.ImportExternalApp.consumer.secret',\n                                })}\n                                value={consumerSecret}\n                                onChange={e => handleChange(e)}\n                                margin='normal'\n                                fullWidth\n                                disabled={!isUserOwner}\n                                variant='outlined'\n                            />\n                            <FormControl>\n                                <FormHelperText id='consumer-secret-helper-text'>\n                                    <FormattedMessage\n                                        id='Shared.AppsAndKeys.ImportExternalApp.consumer.secret.of.application'\n                                        defaultMessage='Consumer Secret of the OAuth application'\n                                    />\n                                </FormHelperText>\n                            </FormControl>\n                        </Grid>\n                    </Grid>\n\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClose} color=\"primary\">\n                        <FormattedMessage\n                            defaultMessage='Cancel'\n                            id='Shared.AppsAndKeys.ImportExternalApp.cancel'\n                        />\n                    </Button>\n                    <ScopeValidation\n                        resourcePath={resourcePaths.APPLICATION_GENERATE_KEYS}\n                        resourceMethod={resourceMethods.POST}\n                    >\n                        {!isUserOwner ? (\n                            <>\n                                <Button\n                                    variant='contained'\n                                    color='primary'\n                                    onClick={() => provideOAuthKeySecret()}\n                                    disabled={!isUserOwner}\n                                >\n                                    {\n                                        key\n                                            ? (\n                                                <FormattedMessage\n                                                    defaultMessage='Update'\n                                                    id='Shared.AppsAndKeys.ImportExternalApp.provide.\n                                                    oauth.button.update'\n                                                />\n                                            )\n                                            : (\n                                                <FormattedMessage\n                                                    defaultMessage='Provide'\n                                                    id='Shared.AppsAndKeys.ImportExternalApp.provide.oauth.button.provide'\n                                                />\n                                            )\n                                    }\n                                </Button>\n                                <Typography variant='caption'>\n                                    <FormattedMessage\n                                        defaultMessage='Only owner can provide keys'\n                                        id='Shared.AppsAndKeys.ImportExternalApp.key.provide.user.owner'\n                                    />\n                                </Typography>\n                            </>\n                        ) : (\n                                <Button\n                                    variant='contained'\n                                    color='primary'\n                                    onClick={() => provideOAuthKeySecret()}\n                                >\n                                    {\n                                        key\n                                            ? (\n                                                <FormattedMessage\n                                                    defaultMessage='Update'\n                                                    id='Shared.AppsAndKeys.ImportExternalApp.provide.oauth.button.update'\n                                                />\n                                            )\n                                            : (\n                                                <FormattedMessage\n                                                    defaultMessage='Provide'\n                                                    id='Shared.AppsAndKeys.ImportExternalApp.provide.oauth.button.provide'\n                                                />\n                                            )\n                                    }\n                                </Button>\n                            )}\n                    </ScopeValidation>\n                </DialogActions>\n            </Dialog>\n        </>\n    );\n}\nImportExternalApp.propTypes = {\n    intl: PropTypes.shape({}).isRequired,\n    onChange: PropTypes.func.isRequired,\n    consumerKey: PropTypes.string,\n    consumerSecret: PropTypes.string,\n    isUserOwner: PropTypes.string,\n    key: PropTypes.shape({}).isRequired,\n    provideOAuthKeySecret: PropTypes.func.isRequired,\n    importDisabled: PropTypes.bool,\n};\n\nImportExternalApp.defaultProps = {\n    consumerKey: '',\n    consumerSecret: '',\n    isUserOwner: false,\n    importDisabled: false,\n};\n\nexport default ImportExternalApp;\n\n\n\n\n","/*\n * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState, useEffect } from 'react';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Chip from '@material-ui/core/Chip';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport PropTypes from 'prop-types';\nimport { injectIntl } from 'react-intl';\nimport Select from '@material-ui/core/Select';\nimport Input from '@material-ui/core/Input';\nimport Box from '@material-ui/core/Box';\n\n\nconst styles = theme => ({\n    FormControl: {\n        paddingTop: theme.spacing(2),\n        paddingBottom: theme.spacing(2),\n        paddingLeft: 0,\n        width: '100%',\n    },\n    FormControlOdd: {\n        padding: theme.spacing(2),\n        width: '100%',\n    },\n    button: {\n        marginLeft: theme.spacing(1),\n    },\n    quotaHelp: {\n        position: 'relative',\n    },\n    checkboxWrapper: {\n        display: 'flex',\n    },\n    checkboxWrapperColumn: {\n        display: 'flex',\n        flexDirection: 'row',\n    },\n    group: {\n        flexDirection: 'row',\n    },\n    removeHelperPadding: {\n        '& p': {\n            margin: '8px 0px',\n        },\n    },\n});\n\n/**\n *\n *\n * @class AppConfiguration\n * @extends {React.Component}\n */\nconst AppConfiguration = (props) => {\n\n    const {\n        classes, config, isUserOwner, previousValue, handleChange,\n    } = props;\n\n    const [selectedValue, setSelectedValue] = useState(previousValue);\n\n    /**\n     * This method is used to handle the updating of key generation\n     * request object.\n     * @param {*} field field that should be updated in key request\n     * @param {*} event event fired\n     */\n    const handleAppRequestChange = (event) => {\n        const { target: currentTarget } = event;\n        setSelectedValue(currentTarget.value);\n        handleChange('additionalProperties', event);\n    }\n    /**\n     * Update the state when new props are available\n     */\n    useEffect(() => {\n        setSelectedValue(previousValue);\n    }, [previousValue])\n    return (\n        <>\n            <TableRow>\n                <TableCell component='th' scope='row' className={classes.leftCol}>\n                    {config.label}\n                </TableCell>\n                <TableCell>\n                    <Box maxWidth={600}>\n                    {config.type === 'select' && config.multiple === false ? (\n                        <TextField\n                            classes={{\n                                root: classes.removeHelperPadding,\n                            }}\n                            fullWidth\n                            id={config.name}\n                            select\n                            label={config.label}\n                            value={selectedValue}\n                            name={config.name}\n                            onChange={e => handleAppRequestChange(e)}\n                            helperText={\n                                <Typography variant='caption'>\n                                    {config.tooltip}\n                                </Typography>\n                            }\n                            margin='dense'\n                            variant='outlined'\n                            disabled={!isUserOwner}\n                        >\n                            {config.values.map(key => (\n                                <MenuItem key={key} value={key}>\n                                    {key}\n                                </MenuItem>\n                            ))}\n                        </TextField>\n                    ) : (config.type === 'select' && config.multiple === true && Array.isArray(selectedValue)) ? (\n                        <>\n                            <FormControl variant=\"outlined\" className={classes.formControl} fullWidth>\n                                <InputLabel id=\"multi-select-label\">{config.label}</InputLabel>\n                                <Select\n                                    labelId=\"multi-select-label\"\n                                    id=\"multi-select-outlined\"\n                                    margin='dense'\n                                    displayEmpty\n                                    name={config.name}\n                                    multiple\n                                    value={selectedValue}\n                                    onChange={e => handleAppRequestChange(e)}\n                                    input={<Input id='multi-select-outlined' />}\n                                    renderValue={selected => (\n                                        <div className={classes.chips}>\n                                            {selected.map(value => (\n                                                <Chip key={value} label={value} className={classes.chip} />\n                                            ))}\n                                        </div>\n                                    )}\n                                    helperText={\n                                        <Typography variant='caption'>\n                                            {config.tooltip}\n                                        </Typography>\n                                    }\n                                    label={config.label}\n                                >\n                                    {config.values.map(key => (\n                                        <MenuItem key={key} value={key}>\n                                            <Checkbox checked={selectedValue.indexOf(key) > -1} />\n                                            <ListItemText primary={key} />\n                                        </MenuItem>\n                                    ))}\n                                </Select>\n                            </FormControl>\n\n\n                            <Typography variant='caption'>\n                                {config.tooltip}\n                            </Typography>\n                        </>\n                    ) : (config.type === 'input') ? (\n                        <TextField\n                            classes={{\n                                root: classes.removeHelperPadding,\n                            }}\n                            fullWidth\n                            id={config.name}\n                            label={config.label}\n                            value={selectedValue}\n                            name={config.name}\n                            onChange={e => handleAppRequestChange(e)}\n                            helperText={\n                                <Typography variant='caption'>\n                                    {config.tooltip}\n                                </Typography>\n                            }\n                            margin='dense'\n                            variant='outlined'\n                            disabled={!isUserOwner}\n                        />\n                    ) : (\n                                    <TextField\n                                        classes={{\n                                            root: classes.removeHelperPadding,\n                                        }}\n                                        fullWidth\n                                        id={config.name}\n                                        label={config.label}\n                                        value={selectedValue}\n                                        name={config.name}\n                                        onChange={e => handleAppRequestChange(e)}\n                                        helperText={\n                                            <Typography variant='caption'>\n                                                {config.tooltip}\n                                            </Typography>\n                                        }\n                                        margin='dense'\n                                        variant='outlined'\n                                        disabled={!isUserOwner}\n                                    />\n                                )}\n                            </Box>\n                </TableCell>\n            </TableRow>\n        </>\n    );\n};\n\nAppConfiguration.defaultProps = {\n    notFound: false,\n};\n\nAppConfiguration.propTypes = {\n    classes: PropTypes.instanceOf(Object).isRequired,\n    previousValue: PropTypes.any.isRequired,\n    isUserOwner: PropTypes.bool.isRequired,\n    handleChange: PropTypes.func.isRequired,\n    config: PropTypes.any.isRequired,\n    notFound: PropTypes.bool,\n    intl: PropTypes.shape({ formatMessage: PropTypes.func }).isRequired,\n};\n\nexport default injectIntl(withStyles(styles)(AppConfiguration));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState } from 'react';\nimport Box from '@material-ui/core/Box';\nimport cloneDeep from 'lodash.clonedeep';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Icon from '@material-ui/core/Icon';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport Settings from 'Settings';\nimport PropTypes from 'prop-types';\nimport ResourceNotFound from 'AppComponents/Base/Errors/ResourceNotFound';\nimport Validation from 'AppData/Validation';\nimport AppConfiguration from './AppConfiguration';\n\nconst styles = (theme) => ({\n    FormControl: {\n        paddingTop: 0,\n        paddingBottom: theme.spacing(2),\n        paddingLeft: 0,\n        width: '100%',\n    },\n    FormControlOdd: {\n        padding: theme.spacing(2),\n        width: '100%',\n    },\n    button: {\n        marginLeft: theme.spacing(1),\n    },\n    quotaHelp: {\n        position: 'relative',\n    },\n    checkboxWrapper: {\n        display: 'flex',\n    },\n    checkboxWrapperColumn: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        flexDirection: 'row',\n        whiteSpace: 'nowrap',\n    },\n    group: {\n        flexDirection: 'row',\n    },\n    removeHelperPadding: {\n        '& p': {\n            margin: '8px 0px',\n        },\n    },\n    iconStyle: {\n        cursor: 'pointer',\n        padding: '0 0 0 10px',\n    },\n    iconButton: {\n        padding: '0 0 0 10px',\n        '& .material-icons': {\n            fontSize: 16,\n        },\n    },\n    titleColumn: {\n        width: 150,\n        fontWeight: 500,\n    },\n    keyInfoTable: {\n        marginBottom: 20,\n        borderCollapse: 'collapse',\n        '& td': {\n            paddingBottom: 5,\n            borderBottom: 'solid 1px #cccc',\n        },\n    },\n    leftCol: {\n        width: 180,\n    },\n});\n/**\n *\n *\n * @class KeyConfiguration\n * @extends {React.Component}\n */\nconst KeyConfiguration = (props) => {\n    const [urlCopied, setUrlCopied] = useState(false);\n    const [callbackHelper, setCallbackHelper] = useState(false);\n    const intl = useIntl();\n    const {\n        classes, notFound, isUserOwner, keyManagerConfig, updateKeyRequest, keyRequest, updateHasError, callbackError,\n    } = props;\n    const {\n        selectedGrantTypes, callbackUrl,\n    } = keyRequest;\n    const {\n        applicationConfiguration, availableGrantTypes, description, additionalProperties,\n        enableMapOAuthConsumerApps, enableOAuthAppCreation, enableTokenEncryption, enableTokenGeneration,\n        id, name, revokeEndpoint, tokenEndpoint, type, userInfoEndpoint,\n    } = keyManagerConfig;\n\n    /**\n     * Get the display names for the supported grant types\n     * @param grantTypes\n     * @param grantTypeDisplayNameMap\n     */\n    const getGrantTypeDisplayList = (grantTypes, grantTypeDisplayNameMap) => {\n        const modifiedGrantTypes = {};\n        grantTypes.forEach((grantType) => {\n            modifiedGrantTypes[grantType] = grantTypeDisplayNameMap[grantType];\n            if (!grantTypeDisplayNameMap[grantType]) {\n                modifiedGrantTypes[grantType] = grantType;\n            }\n        });\n        return modifiedGrantTypes;\n    };\n    const callBackHasErrors = () => {\n        if (callbackUrl === '') {\n            updateHasError(true);\n            setCallbackHelper(intl.formatMessage({\n                defaultMessage: 'Call back URL can not be empty when Implicit or Authorization Code grants are selected.',\n                id: 'Shared.AppsAndKeys.KeyConfCiguration.Invalid.callback.empty.error.text',\n            }));\n        } else if (Validation.url.validate(callbackUrl).error) {\n            updateHasError(true);\n            setCallbackHelper(intl.formatMessage({\n                defaultMessage: 'Invalid URL. Please enter a valid URL.',\n                id: 'Shared.AppsAndKeys.KeyConfCiguration.Invalid.callback.url.error.text',\n            }));\n        } else {\n            setCallbackHelper(false);\n            updateHasError(false);\n        }\n    };\n    /**\n     * This method is used to handle the updating of key generation\n     * request object.\n     * @param {*} field field that should be updated in key request\n     * @param {*} event event fired\n     */\n    const handleChange = (field, event) => {\n        const newRequest = cloneDeep(keyRequest);\n        const { target: currentTarget } = event;\n        let newGrantTypes = [...newRequest.selectedGrantTypes];\n        newRequest.keyManager = name;\n\n        switch (field) {\n            case 'callbackUrl':\n                if (newGrantTypes.includes('implicit') || newGrantTypes.includes('authorization_code')) {\n                    callBackHasErrors();\n                }\n                newRequest.callbackUrl = currentTarget.value;\n                break;\n            case 'grantType':\n                if (currentTarget.checked) {\n                    newGrantTypes = [...newGrantTypes, currentTarget.id];\n                } else {\n                    newGrantTypes = newRequest.selectedGrantTypes.filter((item) => item !== currentTarget.id);\n                    if (currentTarget.id === 'implicit' || currentTarget.id === 'authorization_code') {\n                        newRequest.callbackUrl = '';\n                        setCallbackHelper(false);\n                        updateHasError(false);\n                    }\n                }\n                newRequest.selectedGrantTypes = newGrantTypes;\n                break;\n            case 'additionalProperties':\n                const clonedAdditionalProperties = newRequest.additionalProperties;\n                clonedAdditionalProperties[currentTarget.name] = currentTarget.value;\n                newRequest.additionalProperties = clonedAdditionalProperties;\n                break;\n            default:\n                break;\n        }\n        updateKeyRequest(newRequest);\n    };\n\n    const onCopy = () => {\n        setUrlCopied(true);\n\n        const caller = function () {\n            setUrlCopied(false);\n        };\n        setTimeout(caller, 2000);\n    };\n\n    const getPreviousValue = (config) => {\n        const { additionalProperties } = keyRequest;\n        let isPreviousValueSet;\n        if (config.type == 'input' && !config.multiple) {\n            isPreviousValueSet = !!(additionalProperties && (additionalProperties[config.name]\n                || additionalProperties[config.name] === ''));\n        } else {\n            isPreviousValueSet = !!(additionalProperties && (additionalProperties[config.name]));\n        }\n        let defaultValue = config.default;\n        if (config.multiple && typeof defaultValue === 'string' && defaultValue === '') {\n            defaultValue = [];\n        }\n        return isPreviousValueSet ? additionalProperties[config.name] : defaultValue;\n    };\n    /**\n     *\n     *\n     * @returns {Component}\n     * @memberof KeyConfiguration\n     */\n\n    if (notFound) {\n        return <ResourceNotFound />;\n    }\n    const grantTypeDisplayListMap = getGrantTypeDisplayList(\n        availableGrantTypes,\n        Settings.grantTypes,\n    );\n\n    // Check for additional properties for token endpoint and revoke endpoints.\n    return (\n        <>\n            <Box display='flex' alignItems='center'>\n                <Table className={classes.table}>\n                    <TableBody>\n                        {(tokenEndpoint && tokenEndpoint !== '') && (\n                            <TableRow>\n                                <TableCell component='th' scope='row' className={classes.leftCol}>\n                                    <FormattedMessage\n                                        defaultMessage='Token Endpoint'\n                                        id='Shared.AppsAndKeys.KeyConfiguration.token.endpoint.label'\n                                    />\n                                </TableCell>\n                                <TableCell>\n                                    {tokenEndpoint}\n                                    <Tooltip\n                                        title={\n                                            urlCopied\n                                                ? intl.formatMessage({\n                                                    defaultMessage: 'Copied',\n                                                    id: 'Shared.AppsAndKeys.KeyConfiguration.copied',\n                                                })\n                                                : intl.formatMessage({\n                                                    defaultMessage: 'Copy to clipboard',\n                                                    id: 'Shared.AppsAndKeys.KeyConfiguration.copy.to.clipboard',\n                                                })\n                                        }\n                                        placement='right'\n                                        className={classes.iconStyle}\n                                    >\n                                        <CopyToClipboard\n                                            text={tokenEndpoint}\n                                            onCopy={onCopy}\n                                        >\n                                            <IconButton\n                                                aria-label='Copy to clipboard'\n                                                classes={{ root: classes.iconButton }}\n                                            >\n                                                <Icon color='secondary'>file_copy</Icon>\n                                            </IconButton>\n                                        </CopyToClipboard>\n                                    </Tooltip>\n                                </TableCell>\n                            </TableRow>\n                        )}\n                        {(revokeEndpoint && revokeEndpoint !== '') && (\n                            <TableRow>\n                                <TableCell component='th' scope='row' className={classes.leftCol}>\n                                    <FormattedMessage\n                                        defaultMessage='Revoke Endpoint'\n                                        id='Shared.AppsAndKeys.KeyConfiguration.revoke.endpoint.label'\n                                    />\n                                </TableCell>\n                                <TableCell>\n                                    {revokeEndpoint}\n                                    <Tooltip\n                                        title={\n                                            urlCopied\n                                                ? intl.formatMessage({\n                                                    defaultMessage: 'Copied',\n                                                    id: 'Shared.AppsAndKeys.KeyConfiguration.copied',\n                                                })\n                                                : intl.formatMessage({\n                                                    defaultMessage: 'Copy to clipboard',\n                                                    id: 'Shared.AppsAndKeys.KeyConfiguration.copy.to.clipboard',\n                                                })\n                                        }\n                                        placement='right'\n                                        className={classes.iconStyle}\n                                    >\n                                        <CopyToClipboard\n                                            text={revokeEndpoint}\n                                            onCopy={onCopy}\n                                        >\n                                            <IconButton\n                                                aria-label='Copy to clipboard'\n                                                classes={{ root: classes.iconButton }}\n                                            >\n                                                <Icon color='secondary'>file_copy</Icon>\n                                            </IconButton>\n                                        </CopyToClipboard>\n                                    </Tooltip>\n                                </TableCell>\n                            </TableRow>\n                        )}\n                        {(userInfoEndpoint && userInfoEndpoint !== '') && (\n                            <TableRow>\n                                <TableCell component='th' scope='row' className={classes.leftCol}>\n                                    <FormattedMessage\n                                        defaultMessage='User Info Endpoint'\n                                        id='Shared.AppsAndKeys.KeyConfiguration.userinfo.endpoint.label'\n                                    />\n                                </TableCell>\n                                <TableCell>\n                                    {userInfoEndpoint}\n                                    <Tooltip\n                                        title={\n                                            urlCopied\n                                                ? intl.formatMessage({\n                                                    defaultMessage: 'Copied',\n                                                    id: 'Shared.AppsAndKeys.KeyConfiguration.copied',\n                                                })\n                                                : intl.formatMessage({\n                                                    defaultMessage: 'Copy to clipboard',\n                                                    id: 'Shared.AppsAndKeys.KeyConfiguration.copy.to.clipboard',\n                                                })\n                                        }\n                                        placement='right'\n                                        className={classes.iconStyle}\n                                    >\n                                        <CopyToClipboard\n                                            text={userInfoEndpoint}\n                                            onCopy={onCopy}\n                                        >\n                                            <IconButton\n                                                aria-label='Copy to clipboard'\n                                                classes={{ root: classes.iconButton }}\n                                            >\n                                                <Icon color='secondary'>file_copy</Icon>\n                                            </IconButton>\n                                        </CopyToClipboard>\n                                    </Tooltip>\n                                </TableCell>\n                            </TableRow>\n                        )}\n                        <TableRow>\n                            <TableCell component='th' scope='row' className={classes.leftCol}>\n                                <FormattedMessage\n                                    id='Shared.AppsAndKeys.KeyConfiguration.grant.types'\n                                    defaultMessage='Grant Types'\n                                />\n\n                            </TableCell>\n                            <TableCell>\n                                <div className={classes.checkboxWrapperColumn}>\n                                    {Object.keys(grantTypeDisplayListMap).map((key) => {\n                                        const value = grantTypeDisplayListMap[key];\n                                        return (\n                                            <FormControlLabel\n                                                control={(\n                                                    <Checkbox\n                                                        id={key}\n                                                        checked={!!(selectedGrantTypes\n                                                                && selectedGrantTypes.includes(key))}\n                                                        onChange={(e) => handleChange('grantType', e)}\n                                                        value={value}\n                                                        disabled={!isUserOwner}\n                                                        color='primary'\n                                                    />\n                                                )}\n                                                label={value}\n                                                key={key}\n                                            />\n                                        );\n                                    })}\n                                </div>\n                                <FormHelperText>\n                                    <FormattedMessage\n                                        defaultMessage={`The application can use the following grant types to generate \n                            Access Tokens. Based on the application requirement,you can enable or disable \n                            grant types for this application.`}\n                                        id='Shared.AppsAndKeys.KeyConfiguration.the.application.can'\n                                    />\n                                </FormHelperText>\n\n                            </TableCell>\n                        </TableRow>\n                        <TableRow>\n                            <TableCell component='th' scope='row' className={classes.leftCol}>\n                                <FormattedMessage\n                                    defaultMessage='Callback URL'\n                                    id='Shared.AppsAndKeys.KeyConfiguration.callback.url.label'\n                                />\n\n                            </TableCell>\n                            <TableCell>\n                                <Box maxWidth={600}>\n                                    <TextField\n                                        margin='dense'\n                                        id='callbackURL'\n                                        label={(\n                                            <FormattedMessage\n                                                defaultMessage='Callback URL'\n                                                id='Shared.AppsAndKeys.KeyConfiguration.callback.url.label'\n                                            />\n                                        )}\n                                        value={callbackUrl}\n                                        name='callbackURL'\n                                        onChange={(e) => handleChange('callbackUrl', e)}\n                                        helperText={callbackHelper || (\n                                            <FormattedMessage\n                                                defaultMessage={`Callback URL is a redirection URI in the client\n                            application which is used by the authorization server to send the\n                            client's user-agent (usually web browser) back after granting access.`}\n                                                id='Shared.AppsAndKeys.KeyConfCiguration.callback.url.helper.text'\n                                            />\n                                        )}\n                                        variant='outlined'\n                                        disabled={!isUserOwner\n                                            || (selectedGrantTypes && !selectedGrantTypes.includes('authorization_code')\n                                                && !selectedGrantTypes.includes('implicit'))}\n                                        error={callbackError}\n                                        placeholder={intl.formatMessage({\n                                            defaultMessage: 'http://url-to-webapp',\n                                            id: 'Shared.AppsAndKeys.KeyConfiguration.url.to.webapp',\n                                        })}\n                                        fullWidth\n                                    />\n                                </Box>\n                            </TableCell>\n                        </TableRow>\n                        {applicationConfiguration.length > 0 && applicationConfiguration.map((config) => (\n                            <AppConfiguration\n                                config={config}\n                                previousValue={getPreviousValue(config)}\n                                isUserOwner={isUserOwner}\n                                handleChange={handleChange}\n                            />\n                        ))}\n                    </TableBody>\n                </Table>\n            </Box>\n        </>\n    );\n};\nKeyConfiguration.defaultProps = {\n    notFound: false,\n    validating: false,\n};\nKeyConfiguration.propTypes = {\n    classes: PropTypes.instanceOf(Object).isRequired,\n    keyRequest: PropTypes.shape({\n        callbackUrl: PropTypes.string,\n        selectedGrantTypes: PropTypes.array,\n    }).isRequired,\n    isUserOwner: PropTypes.bool.isRequired,\n    isKeysAvailable: PropTypes.bool.isRequired,\n    keyManagerConfig: PropTypes.any.isRequired,\n    notFound: PropTypes.bool,\n    setGenerateEnabled: PropTypes.func.isRequired,\n    updateKeyRequest: PropTypes.func.isRequired,\n    validating: PropTypes.bool,\n};\n\n\nexport default withStyles(styles)(KeyConfiguration);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Typography } from '@material-ui/core';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport FileCopy from '@material-ui/icons/FileCopy';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { FormattedMessage, injectIntl } from 'react-intl';\n\nconst useStyles = makeStyles(theme => ({\n    code: {\n        padding: theme.spacing(1),\n        marginBottom: theme.spacing(2),\n        background: theme.palette.grey[200],\n        color: '#da2316',\n        flex: 1,\n    },\n    command: {\n        color: '#2b62b0',\n    },\n    encodeVisible: {\n        cursor: 'pointer',\n        textDecoration: 'underline',\n    },\n    contentWrapper: {\n        display: 'flex',\n    },\n}));\n\n/**\n *\n * @param {*} props\n */\nfunction ViewCurl(props) {\n    const classes = useStyles();\n\n    const {\n        keys: { consumerKey, consumerSecret },\n        intl,\n        keyType,\n        keyManagerConfig,\n    } = props;\n    const bas64Encoded = window.btoa(consumerKey + ':' + consumerSecret);\n    const [showReal, setShowReal] = useState(false);\n    const [tokenCopied, setTokenCopied] = useState(false);\n    const onCopy = () => {\n        setTokenCopied(true);\n        const caller = function () {\n            setTokenCopied(false);\n        };\n        setTimeout(caller, 4000);\n    };\n\n    const applyReal = () => {\n        setShowReal(!showReal);\n    };\n    // Check for additional properties for token endpoint and revoke endpoints.\n    let { tokenEndpoint } = keyManagerConfig;\n    return (\n        <React.Fragment>\n            <Typography>\n                <FormattedMessage\n                    id='Shared.AppsAndKeys.ViewCurl.help'\n                    defaultMessage='The following cURL command shows how to generate an access token using\n                            the Password Grant type.'\n                />\n            </Typography>\n\n            <div className={classes.contentWrapper}>\n                <div className={classes.code}>\n                    <div>\n                        <span className={classes.command}>curl -k -X POST </span> {tokenEndpoint}\n                        <span className={classes.command}> -d </span>{' '}\n                        {'\"grant_type=password&username=Username&password=Password\"'}\n                    </div>\n                    <div>\n                        <span className={classes.command}> -H </span>\n                        {'\"Authorization: Basic'}\n                        <a onClick={applyReal} className={classes.encodeVisible}>\n                            {showReal ? ' ' + bas64Encoded : ' Base64(consumer-key:consumer-secret)'}\n                        </a>\n                        {'\"'}\n                    </div>\n                </div>\n                <div>\n                    <Tooltip\n                        title={\n                            tokenCopied\n                                ? intl.formatMessage({\n                                    defaultMessage: 'Copied',\n                                    id: 'Shared.AppsAndKeys.ViewCurl.copied',\n                                })\n                                : intl.formatMessage({\n                                    defaultMessage: 'Copy to clipboard',\n                                    id: 'Shared.AppsAndKeys.ViewCurl.copy.to.clipboard',\n                                })\n                        }\n                        placement='right'\n                    >\n                        <CopyToClipboard\n                            text={`curl -k -X POST ${tokenEndpoint} -d ` +\n                                '\"grant_type=password&username=Username&password=Password\" -H ' +\n                                `\"Authorization: Basic ${bas64Encoded}\"`}\n                            onCopy={onCopy}\n                        >\n                            <FileCopy color='secondary' />\n                        </CopyToClipboard>\n                    </Tooltip>\n                </div>\n            </div>\n            <Typography>\n                <FormattedMessage\n                    id='Shared.AppsAndKeys.ViewCurl.help.in.a.similar'\n                    defaultMessage={`In a similar manner, you can generate an access token using the\n                    Client Credentials grant type with the following cURL command.`}\n                />\n            </Typography>\n            <div className={classes.contentWrapper}>\n                <div className={classes.code}>\n                    <div>\n                        <span className={classes.command}>curl -k -X POST </span> {tokenEndpoint}\n                        <span className={classes.command}> -d </span>{' '}\n                        {'\"grant_type=client_credentials\"'}\n                    </div>\n                    <div>\n                        <span className={classes.command}> -H </span>\n                        {'\"Authorization: Basic'}\n                        <a onClick={applyReal} className={classes.encodeVisible}>\n                            {showReal ? ' ' + bas64Encoded : ' Base64(consumer-key:consumer-secret)'}\n                        </a>\n                        {'\"'}\n                    </div>\n                </div>\n                <div>\n                    <Tooltip title={tokenCopied ? 'Copied' : 'Copy to clipboard'} placement='right'>\n                        <CopyToClipboard\n                            text={`curl -k -X POST ${tokenEndpoint} -d ` +\n                                '\"grant_type=client_credentials\" -H' +\n                                `\"Authorization: Basic ${bas64Encoded}\"`}\n                            onCopy={onCopy}\n                        >\n                            <FileCopy color='secondary' />\n                        </CopyToClipboard>\n                    </Tooltip>\n                </div>\n            </div>\n        </React.Fragment>\n    );\n}\n\nViewCurl.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    keys: PropTypes.shape({}).isRequired,\n    apis: PropTypes.shape({}).isRequired,\n};\n\nexport default injectIntl(ViewCurl);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport Alert1 from 'AppComponents/Shared/Alert';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Icon from '@material-ui/core/Icon';\nimport Grid from '@material-ui/core/Grid';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Alert from 'AppComponents/Shared/Alert';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport ResourceNotFound from '../../Base/Errors/ResourceNotFound';\nimport Loading from '../../Base/Loading/Loading';\nimport Application from '../../../data/Application';\nimport Tokens from './Tokens';\nimport ViewToken from './ViewToken';\nimport ViewSecret from './ViewSecret';\nimport ViewCurl from './ViewCurl';\n\nconst styles = (theme) => ({\n    button: {\n        margin: theme.spacing(3),\n        color: theme.palette.getContrastText(theme.palette.background.default),\n        display: 'flex',\n        alignItems: 'center',\n        fontSize: '11px',\n        cursor: 'pointer',\n        '& span': {\n            paddingLeft: 6,\n            display: 'inline-block',\n        },\n    },\n    inputWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        '& span, & h5, & label, & td, & li, & div, & input': {\n            color: theme.palette.getContrastText(theme.palette.background.paper),\n        },\n    },\n    copyWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n    },\n    tokenSection: {\n        marginTop: 0,\n        marginBottom: theme.spacing(0.5),\n    },\n    margin: {\n        marginRight: theme.spacing(2),\n    },\n    dialogWrapper: {\n        '& label,& h5, & label, & td, & li, & input, & h2, & p.MuiTypography-root,& p.MuiFormHelperText-root': {\n            color: theme.palette.getContrastText(theme.palette.background.paper),\n        },\n    },\n    iconButton: {\n        padding: '0 0 0 10px',\n        '& .material-icons': {\n            fontSize: 16,\n        },\n    },\n});\n\n/**\n * Class used to displays in key generation UI\n */\nclass ViewKeys extends React.Component {\n    /**\n     * @param {*} props properties\n     */\n    constructor(props) {\n        super(props);\n        const { selectedApp } = this.props;\n        let appId;\n        if (selectedApp) {\n            appId = selectedApp.appId || selectedApp.value;\n        }\n        this.applicationPromise = Application.get(appId);\n        this.state = {\n            showCS: false,\n            open: false,\n            showToken: false,\n            showCurl: false,\n            showSecretGen: false,\n            accessTokenRequest: {\n                timeout: 3600,\n                scopesSelected: [],\n                keyType: '',\n            },\n            subscriptionScopes: [],\n            isUpdating: false,\n        };\n    }\n\n    /**\n     * Fetch Application object by ID coming from URL path params and fetch related keys to display\n     */\n    componentDidMount() {\n        const { accessTokenRequest } = this.state;\n        const { keyType } = this.props;\n        this.applicationPromise\n            .then((application) => {\n                application.getKeys().then(() => {\n                    const newRequest = { ...accessTokenRequest, keyType };\n                    const subscriptionScopes = application.subscriptionScopes\n                        .map((scope) => { return scope.key; });\n                    this.setState({ accessTokenRequest: newRequest, subscriptionScopes });\n                });\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ notFound: true });\n                }\n            });\n    }\n\n    /**\n     * Adding this here becasue it is not possible to add in the render method becasue isKeyJWT in state is used\n     * to close the dialog box and render method will casue this to be always true and cannot close the box.\n     * Rule is ignored becasue according to react docs its ok to setstate as long as we are checking a condition\n     * This is an ani pattern to be fixed later.\n     *  wso2/product-apim#5293\n     * https://reactjs.org/docs/react-component.html#componentdidupdate\n     * @param {*} prevProps previous props\n     * @memberof ViewKeys\n     */\n    componentDidUpdate(prevProps) {\n        const { isKeyJWT } = this.props;\n        if (isKeyJWT && !prevProps.isKeyJWT) {\n            // eslint-disable-next-line react/no-did-update-set-state\n            this.setState({ isKeyJWT: true });\n        }\n    }\n\n    /**\n     * Set accesstoken request in state\n     * @param {*} accessTokenRequest access token request object\n     * @memberof ViewKeys\n     */\n    updateAccessTokenRequest = (accessTokenRequest) => {\n        this.setState({ accessTokenRequest });\n    }\n\n    /**\n     * Handle onClick of the copy icon\n     * @param {*} name name of what is copied\n     * */\n    onCopy = (name) => {\n        this.setState({\n            [name]: true,\n        });\n        const that = this;\n        const elementName = name;\n        const caller = () => {\n            that.setState({\n                [elementName]: false,\n            });\n        };\n        setTimeout(caller, 4000);\n    };\n\n    /**\n     * Handle onClick of the show consumer secret icon\n     * @param data\n     * */\n    handleShowHidden = (data) => {\n        this.setState({ [data]: !this.state[data] });\n    };\n\n    /**\n     * Avoid conflict with `onClick`\n     * @param event\n     */\n    handleMouseDownGeneric = (event) => {\n        event.preventDefault();\n    };\n\n    /**\n     * Handle onCLick of generate access token\n     * */\n    handleClickOpen = () => {\n        this.setState({ open: true, showToken: false });\n    };\n\n    /**\n     * Handle onCLick of regenerate consumer secret\n     * */\n    handleSecretRegenerate = (consumerKey, keyType, keyMappingId, selectedTab) => {\n        this.applicationPromise\n            .then((application) => application.regenerateSecret(consumerKey, keyType, keyMappingId, selectedTab))\n            .then((response) => {\n                console.log('consumer secret regenerated successfully ' + response);\n                this.setState({\n                    open: true,\n                    showSecretGen: true,\n                    secretGenResponse: response,\n                });\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ notFound: true });\n                }\n            });\n    };\n\n    /**\n     * Handle onClick of get curl\n     * */\n    handleClickOpenCurl = () => {\n        this.setState({ open: true, showCurl: true });\n    };\n\n    /**\n     * Handle on close of dialog for generating access token and get curl\n     * */\n    handleClose = () => {\n        this.setState({\n            open: false, showCurl: false, isKeyJWT: false, showSecretGen: false,\n        });\n    };\n\n    /**\n     * Generate access token\n     * */\n    generateAccessToken = () => {\n        const { accessTokenRequest, isUpdating } = this.state;\n        const { selectedTab, intl } = this.props;\n        this.setState({ isUpdating: true });\n        this.applicationPromise\n            .then((application) => application.generateToken(\n                selectedTab,\n                accessTokenRequest.keyType,\n                accessTokenRequest.timeout,\n                accessTokenRequest.scopesSelected,\n            ))\n            .then((response) => {\n                console.log('token generated successfully ' + response);\n                this.setState({\n                    showToken: true,\n                    tokenResponse: response,\n                    token: response.accessToken,\n                    tokenScopes: response.tokenScopes,\n                    tokenValidityTime: response.validityTime,\n                });\n                this.setState({ isUpdating: false });\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ notFound: true });\n                } else if (status === 400) {\n                    Alert1.error(error.description\n                         || intl.formatMessage({\n                             id: 'Shared.AppsAndKeys.TokenManager.key.generate.bad.request.error',\n                             defaultMessage: 'Error occurred when generating Access Token',\n                         }));\n                }\n                this.setState({ isUpdating: false });\n                const { response } = error;\n                if (response && response.body) {\n                    Alert.error(response.body.message);\n                }\n            });\n    };\n\n    viewKeyAndSecret = (consumerKey, consumerSecret, keyMappingId, selectedTab, isUserOwner) => {\n        const {\n            classes, intl, selectedApp: { hashEnabled }, keyType,\n        } = this.props;\n        const { keyCopied, secretCopied, showCS } = this.state;\n        return (\n            <>\n                <Grid item xs={6}>\n                    <div className={classes.copyWrapper}>\n                        <TextField\n                            id='consumer-key'\n                            value={consumerKey}\n                            margin='dense'\n                            label={(\n                                <FormattedMessage\n                                    id='Shared.AppsAndKeys.ViewKeys.consumer.key'\n                                    defaultMessage='Consumer Key'\n                                />\n                            )}\n                            fullWidth\n                            variant='outlined'\n                            InputProps={{\n                                readOnly: true,\n                                endAdornment: (\n                                    <InputAdornment position='end'>\n                                        <Tooltip\n                                            title={\n                                                keyCopied\n                                                    ? intl.formatMessage({\n                                                        defaultMessage: 'Copied',\n                                                        id: 'Shared.AppsAndKeys.ViewKeys.copied',\n                                                    })\n                                                    : intl.formatMessage({\n                                                        defaultMessage: 'Copy to clipboard',\n                                                        id: 'Shared.AppsAndKeys.ViewKeys.copy.to',\n                                                    })\n                                            }\n                                            placement='right'\n                                        >\n                                            <CopyToClipboard\n                                                text={consumerKey}\n                                                onCopy={() => this.onCopy('keyCopied')}\n                                                classes={{ root: classes.iconButton }}\n                                            >\n                                                <IconButton aria-label='Copy to clipboard' classes={{ root: classes.iconButton }}>\n                                                    <Icon color='secondary'>\n                                                        file_copy\n                                                    </Icon>\n                                                </IconButton>\n                                            </CopyToClipboard>\n                                        </Tooltip>\n                                    </InputAdornment>\n                                ),\n                            }}\n                        />\n                    </div>\n                    <FormControl>\n                        <FormHelperText id='consumer-key-helper-text'>\n                            <FormattedMessage\n                                id='Shared.AppsAndKeys.ViewKeys.consumer.key.title'\n                                defaultMessage='Consumer Key of the application'\n                            />\n                        </FormHelperText>\n                    </FormControl>\n                </Grid>\n                <Grid item xs={6}>\n                    <div className={classes.copyWrapper}>\n                        {!hashEnabled ? (\n                            <TextField\n                                id='consumer-secret'\n                                label={(\n                                    <FormattedMessage\n                                        id='Shared.AppsAndKeys.ViewKeys.consumer.secret'\n                                        defaultMessage='Consumer Secret'\n                                    />\n                                )}\n                                type={showCS || !consumerSecret ? 'text' : 'password'}\n                                value={consumerSecret}\n                                margin='dense'\n                                fullWidth\n                                variant='outlined'\n                                InputProps={{\n                                    readOnly: true,\n                                    endAdornment: (\n                                        <InputAdornment position='end'>\n                                            <IconButton\n                                                classes={{ root: classes.iconButton }}\n                                                onClick={() => this.handleShowHidden('showCS')}\n                                                onMouseDown={this.handleMouseDownGeneric}\n                                            >\n                                                {showCS ? <Icon>visibility_off</Icon> : <Icon>visibility</Icon>}\n                                            </IconButton>\n                                            <Tooltip\n                                                title={secretCopied ? 'Copied' : 'Copy to clipboard'}\n                                                placement='right'\n                                            >\n                                                <CopyToClipboard\n                                                    text={consumerSecret}\n                                                    onCopy={() => this.onCopy('secretCopied')}\n                                                    classes={{ root: classes.iconButton }}\n                                                >\n                                                    <IconButton aria-label='Copy to clipboard' classes={{ root: classes.iconButton }}>\n                                                        <Icon color='secondary'>file_copy</Icon>\n                                                    </IconButton>\n                                                </CopyToClipboard>\n                                            </Tooltip>\n                                        </InputAdornment>\n                                    ),\n                                }}\n                            />\n                        ) : (\n                            <Button\n                                variant='contained'\n                                color='primary'\n                                className={classes.button}\n                                onClick={() => this.handleSecretRegenerate(consumerKey, keyType, keyMappingId, selectedTab)}\n                                disabled={!isUserOwner}\n                            >\n                                <FormattedMessage\n                                    defaultMessage='Regenerate Consumer Secret'\n                                    id='Shared.AppsAndKeys.ViewKeys.consumer.secret.button.regenerate'\n                                />\n                            </Button>\n                        )}\n                    </div>\n                    {!hashEnabled && (\n                        <FormControl>\n                            <FormHelperText id='consumer-secret-helper-text'>\n                                <FormattedMessage\n                                    id='Shared.AppsAndKeys.ViewKeys.consumer.secret.of.application'\n                                    defaultMessage='Consumer Secret of the application'\n                                />\n                            </FormHelperText>\n                        </FormControl>\n                    )}\n                </Grid>\n            </>\n        );\n    }\n\n    /**\n     * @inheritdoc\n     */\n    render() {\n        const {\n            notFound, showToken, showCurl, showSecretGen, tokenCopied, open,\n            token, tokenScopes, tokenValidityTime, accessTokenRequest, subscriptionScopes,\n            isKeyJWT, tokenResponse, secretGenResponse, isUpdating,\n        } = this.state;\n        const {\n            intl, keyType, classes, fullScreen, keys, selectedApp: { tokenType }, selectedGrantTypes, isUserOwner, summary,\n            selectedTab, hashEnabled, keyManagerConfig, initialToken, initialValidityTime, initialScopes,\n        } = this.props;\n\n        if (notFound) {\n            return <ResourceNotFound />;\n        }\n        if (!keys) {\n            return <Loading />;\n        }\n\n        const csCkKeys = keys.size > 0 && keys.get(selectedTab) && (keys.get(selectedTab).keyType === keyType) && keys.get(selectedTab);\n        const consumerKey = csCkKeys && csCkKeys.consumerKey;\n        const consumerSecret = csCkKeys && csCkKeys.consumerSecret;\n        const keyMappingId = csCkKeys && csCkKeys.keyMappingId;\n\n        let accessToken;\n        let accessTokenScopes;\n        let validityPeriod;\n        let tokenDetails;\n\n        if (token) {\n            accessToken = token;\n            accessTokenScopes = tokenScopes;\n            validityPeriod = tokenValidityTime;\n        } else if (keys.get(selectedTab) && keys.get(selectedTab).keyType === keyType && keys.get(selectedTab).token) {\n            ({ accessToken } = keys.get(selectedTab).token);\n            accessTokenScopes = keys.get(selectedTab).token.tokenScopes;\n            validityPeriod = keys.get(selectedTab).token.validityTime;\n            tokenDetails = keys.get(selectedTab).token;\n            if (tokenDetails && !tokenDetails.accessToken) {\n                tokenDetails.accessToken = initialToken;\n                tokenDetails.validityTime = initialValidityTime;\n                tokenDetails.tokenScopes = initialScopes;\n            }\n        }\n\n        let dialogHead = 'Undefined';\n        if (showCurl) {\n            dialogHead = 'Get CURL to Generate Access Token';\n        } else if (showSecretGen) {\n            dialogHead = 'Generate Consumer Secret';\n        } else {\n            dialogHead = 'Generate Access Token';\n        }\n        if (!consumerKey) {\n            return (\n                <Typography variant='caption' gutterBottom>\n                    {keyType === 'PRODUCTION' ? 'Production ' : 'Sandbox '}\n                    <FormattedMessage\n                        id='Shared.AppsAndKeys.ViewKeys.key.secret.title'\n                        defaultMessage='Key and Secret is not generated for this application'\n                    />\n                </Typography>\n            );\n        }\n        if (summary) {\n            return (\n                <Grid container spacing={3}>\n                    {this.viewKeyAndSecret(consumerKey, consumerSecret, keyMappingId, selectedTab, isUserOwner)}\n                </Grid>\n            );\n        }\n        return consumerKey && (\n            <div className={classes.inputWrapper}>\n                <Grid container spacing={3}>\n                    {this.viewKeyAndSecret(consumerKey, consumerSecret, keyMappingId, selectedTab, isUserOwner)}\n                    <Grid item xs={12}>\n                        <Dialog\n                            fullScreen={fullScreen}\n                            open={(open || isKeyJWT) && selectedGrantTypes.includes('client_credentials')}\n                            onClose={this.handleClose}\n                            aria-labelledby='responsive-dialog-title'\n                            className={classes.dialogWrapper}\n                        >\n                            <DialogTitle id='responsive-dialog-title'>\n                                {dialogHead}\n                            </DialogTitle>\n                            <DialogContent>\n                                {!showCurl && !isKeyJWT && !showSecretGen && (\n                                    <DialogContentText>\n                                        {!showToken && (\n                                            <Tokens\n                                                updateAccessTokenRequest={this.updateAccessTokenRequest}\n                                                accessTokenRequest={accessTokenRequest}\n                                                subscriptionScopes={subscriptionScopes}\n                                            />\n                                        )}\n                                        {showToken && <ViewToken token={{ ...tokenResponse, isOauth: true }} />}\n                                    </DialogContentText>\n                                )}\n                                {showCurl && (\n                                    <DialogContentText>\n                                        <ViewCurl\n                                            keys={{ consumerKey, consumerSecret }}\n                                            keyType={keyType}\n                                            keyManagerConfig={keyManagerConfig}\n                                        />\n                                    </DialogContentText>\n                                )}\n                                {showSecretGen && (\n                                    <DialogContentText>\n                                        <ViewSecret secret={{ ...secretGenResponse }} />\n                                    </DialogContentText>\n                                )}\n                                {(isKeyJWT && tokenDetails && hashEnabled) && (\n                                    <DialogContentText>\n                                        <ViewToken token={{ ...tokenDetails, isOauth: true }} consumerSecret={consumerSecret} />\n                                    </DialogContentText>\n                                )}\n                                {(isKeyJWT && tokenDetails && !hashEnabled) && (\n                                    <DialogContentText>\n                                        <ViewToken token={{ ...tokenDetails, isOauth: true }} />\n                                    </DialogContentText>\n                                )}\n                            </DialogContent>\n                            <DialogActions>\n                                {isUpdating && <CircularProgress size={24} />}\n                                {!showToken && !showCurl && !isKeyJWT && !showSecretGen && (\n                                    <Button onClick={this.generateAccessToken} color='primary' disabled={isUpdating}>\n                                        <FormattedMessage\n                                            id='Shared.AppsAndKeys.ViewKeys.consumer.generate.btn'\n                                            defaultMessage='Generate'\n                                        />\n                                    </Button>\n                                )}\n                                <Button onClick={this.handleClose} color='primary' autoFocus>\n                                    <FormattedMessage\n                                        id='Shared.AppsAndKeys.ViewKeys.consumer.close.btn'\n                                        defaultMessage='Close'\n                                    />\n                                </Button>\n                            </DialogActions>\n                        </Dialog>\n                        {!hashEnabled && (\n                            <div className={classes.tokenSection}>\n                                {keyManagerConfig.enableTokenGeneration\n                                    && selectedGrantTypes.find((a) => a.includes('client_credentials'))\n                                    && (\n                                        <Button\n                                            variant='outlined'\n                                            size='small'\n                                            color='primary'\n                                            className={classes.margin}\n                                            onClick={this.handleClickOpen}\n                                            disabled={!selectedGrantTypes.includes('client_credentials')}\n                                        >\n                                            <FormattedMessage\n                                                id='Shared.AppsAndKeys.ViewKeys.generate.access.token'\n                                                defaultMessage='Generate Access Token'\n                                            />\n                                        </Button>\n                                    )}\n                                <Button\n                                    variant='outlined'\n                                    size='small'\n                                    color='primary'\n                                    className={classes.margin}\n                                    onClick={this.handleClickOpenCurl}\n                                >\n                                    <FormattedMessage\n                                        id='Shared.AppsAndKeys.ViewKeys.curl.to.generate'\n                                        defaultMessage='CURL to Generate Access Token'\n                                    />\n                                </Button>\n                            </div>\n                        )}\n                        {!selectedGrantTypes.includes('client_credentials') && !hashEnabled && (\n                            <Typography variant='caption' gutterBottom>\n                                <FormattedMessage\n                                    id='Shared.AppsAndKeys.ViewKeys.client.enable.client.credentials'\n                                    defaultMessage={'Enable Client Credentials grant '\n                                        + 'type to generate test access tokens'}\n                                />\n                            </Typography>\n                        )}\n                    </Grid>\n                </Grid>\n            </div>\n        );\n    }\n}\nViewKeys.defaultProps = {\n    fullScreen: false,\n    summary: false,\n};\nViewKeys.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    fullScreen: PropTypes.bool,\n    isKeyJWT: PropTypes.bool.isRequired,\n    isUserOwner: PropTypes.bool.isRequired,\n    summary: PropTypes.bool,\n};\n\nexport default injectIntl(withStyles(styles)(ViewKeys));\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport { injectIntl } from 'react-intl';\n\nconst styles = theme => ({\n    root: {\n        padding: theme.spacing(3),\n    },\n});\n\nconst waitingForApproval = (props) => {\n    const {\n        classes, keyState, states, intl,\n    } = props;\n    let message = intl.formatMessage({\n        defaultMessage: 'A request to register this application has been sent and is pending approval.',\n        id: 'Shared.AppsAndKeys.WaitingForApproval.msg.ok',\n    });\n    if (keyState === states.REJECTED) {\n        message = intl.formatMessage({\n            defaultMessage: 'This application has been rejected from generating keys',\n            id: 'Shared.AppsAndKeys.WaitingForApproval.msg.reject',\n        });\n    }\n    return <div className={classes.root}>{message}</div>;\n};\n\nexport default injectIntl(withStyles(styles)(waitingForApproval));\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { app } from 'Settings';\nimport WaitingForApproval from './WaitingForApproval';\nimport ViewKeys from './ViewKeys';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        padding: theme.spacing(3, 2),\n    },\n    noKeysRoot: {\n        backgroundImage: `url(${app.context + theme.custom.overviewPage.keysBackground})`,\n        height: '100%',\n        backgroundPosition: 'center',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n        minHeight: 192,\n        display: 'flex',\n        alignItems: 'center',\n    },\n}));\n\n/**\n * Render a compressed view of the key gneration view.\n * @param {JSON} props Input params.\n * @returns {JSX} Rendered output.\n */\nexport default function TokenManagerSummary(props) {\n    const classes = useStyles();\n    const { keys, keyStates, key, selectedApp, keyType, isKeyJWT, isUserOwner, selectedTab } = props;\n    if (keys.size > 0 && key && key.keyState === 'APPROVED' && !key.consumerKey) {\n        return (\n            <div className={classes.emptyBox}>\n                <Typography variant=\"h5\" component=\"h3\">\n                    Error\n                </Typography>\n                <Typography variant='body2'>\n                    <FormattedMessage\n                        id='Shared.AppsAndKeys.TokenManagerSummary'\n                        defaultMessage='Error! You have partially-created keys. Use `Clean Up` option.'\n                    />\n                </Typography>\n            </div>\n        );\n    }\n    if (key && (key.keyState === keyStates.CREATED || key.keyState === keyStates.REJECTED)) {\n        return (\n            <div className={classes.emptyBox}>\n                <Typography variant='body2'>\n                    <WaitingForApproval keyState={key.keyState} states={keyStates} />\n                </Typography>\n            </div>\n        );\n    }\n    const keyGrantTypes = key ? key.supportedGrantTypes : [];\n\n    return (\n        <ViewKeys\n            selectedApp={selectedApp}\n            selectedTab={selectedTab}\n            keyType={keyType}\n            keys={keys}\n            isKeyJWT={isKeyJWT}\n            selectedGrantTypes={keyGrantTypes}\n            isUserOwner={isUserOwner}\n            summary\n        />\n    );\n}\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport Loading from 'AppComponents/Base/Loading/Loading';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Alert from 'AppComponents/Shared/Alert';\nimport ImportExternalApp from 'AppComponents/Shared/AppsAndKeys/ImportExternalApp';\nimport Application from 'AppData/Application';\nimport AuthManager from 'AppData/AuthManager';\nimport InlineMessage from 'AppComponents/Shared/InlineMessage';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport API from 'AppData/api';\nimport Validation from 'AppData/Validation';\nimport KeyConfiguration from './KeyConfiguration';\nimport ViewKeys from './ViewKeys';\nimport WaitingForApproval from './WaitingForApproval';\nimport { ScopeValidation, resourceMethods, resourcePaths } from '../ScopeValidation';\nimport TokenMangerSummary from './TokenManagerSummary';\nimport Progress from '../Progress';\n\nconst styles = (theme) => ({\n    root: {\n        padding: theme.spacing(3),\n        '& span, & h6, & label, & input': {\n            color: theme.palette.getContrastText(theme.palette.background.paper),\n        },\n        '& .Mui-disabled span': {\n            color: theme.palette.grey[500],\n        },\n        '& input:disabled': {\n            backgroundColor: theme.palette.grey[100],\n            color: theme.palette.grey[500],\n        },\n        position: 'relative',\n    },\n    button: {\n        marginLeft: 0,\n        '& span': {\n            color: theme.palette.getContrastText(theme.palette.primary.main),\n        },\n    },\n    cleanUpButton: {\n        marginLeft: 15,\n    },\n    cleanUpInfoText: {\n        padding: '10px 0px 10px 15px',\n    },\n    tokenSection: {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n    },\n    margin: {\n        marginRight: theme.spacing(2),\n    },\n    keyConfigWrapper: {\n        flexDirection: 'column',\n        marginBottom: 0,\n    },\n    generateWrapper: {\n        padding: '10px 0px',\n        marginLeft: theme.spacing(1.25),\n    },\n    paper: {\n        background: 'none',\n        marginBottom: theme.spacing(2),\n        marginTop: theme.spacing(2),\n    },\n    muiFormGroupRoot: {\n        flexDirection: 'row',\n    },\n    formControl: {\n    },\n    subTitle: {\n        fontWeight: 400,\n    },\n    tabPanel: {\n        paddingLeft: theme.spacing(2),\n        '& .MuiBox-root': {\n            padding: 0,\n        },\n    },\n    warningIcon: {\n        color: '#ff9a00',\n        fontSize: 20,\n        marginRight: 10,\n    },\n});\n\nfunction TabPanel(props) {\n    const {\n        children, value, index, ...other\n    } = props;\n\n    return (\n        <div\n            role='tabpanel'\n            hidden={value !== index}\n            id={`nav-tabpanel-${index}`}\n            aria-labelledby={`nav-tab-${index}`}\n            {...other}\n        >\n            {value === index && (\n                <Box p={3}>\n                    {children}\n                </Box>\n            )}\n        </div>\n    );\n}\n\nTabPanel.propTypes = {\n    children: PropTypes.node,\n    index: PropTypes.any.isRequired,\n    value: PropTypes.any.isRequired,\n};\n\nconst StyledTabs = withStyles({\n    indicator: {\n        display: 'flex',\n        justifyContent: 'center',\n        backgroundColor: 'transparent',\n        '& > span': {\n            width: '98%',\n            backgroundColor: '#ffffff',\n        },\n        transition: 'none',\n    },\n    flexContainer: {\n        borderBottom: 'solid 1px #666',\n        backgroundColor: '#efefef',\n        '& button:first-child': {\n            borderLeft: 'none',\n        },\n    },\n})((props) => <Tabs {...props} TabIndicatorProps={{ children: <span /> }} />);\n\n\nconst StyledTab = withStyles((theme) => ({\n    root: {\n        textTransform: 'none',\n        color: '#666',\n        fontWeight: theme.typography.fontWeightRegular,\n        fontSize: theme.typography.pxToRem(15),\n        marginRight: theme.spacing(1),\n        '&:focus': {\n            opacity: 1,\n        },\n    },\n    selected: {\n        backgroundColor: '#fff',\n        borderLeft: 'solid 1px #666',\n        borderRight: 'solid 1px #666',\n    },\n}))((props) => <Tab disableRipple {...props} />);\n\n/**\n *  @param {event} event event\n *  @param {String} value description\n */\nclass TokenManager extends React.Component {\n    static contextType = Settings;\n\n    /**\n     *\n     * @param {*} props props\n     */\n    constructor(props) {\n        super(props);\n        const { selectedApp, keyType } = this.props;\n        this.state = {\n            isLoading: false,\n            keys: null,\n            isKeyJWT: false,\n            hasError: false,\n            initialToken: '',\n            initialValidityTime: 0,\n            initialScopes: [],\n            keyRequest: {\n                keyType,\n                selectedGrantTypes: null,\n                callbackUrl: '',\n                additionalProperties: {},\n                keyManager: '',\n                validityTime: 3600,\n                scopes: ['default'],\n            },\n            keyManagers: null,\n            selectedTab: null,\n            providedConsumerKey: '',\n            providedConsumerSecret: '',\n            validating: false,\n            importDisabled: false,\n        };\n        this.keyStates = {\n            COMPLETED: 'COMPLETED',\n            APPROVED: 'APPROVED',\n            CREATED: 'CREATED',\n            REJECTED: 'REJECTED',\n        };\n        if (selectedApp) {\n            this.appId = selectedApp.appId || selectedApp.value;\n            this.application = Application.get(this.appId);\n        }\n        this.updateKeyRequest = this.updateKeyRequest.bind(this);\n        this.generateKeys = this.generateKeys.bind(this);\n        this.updateKeys = this.updateKeys.bind(this);\n        this.cleanUpKeys = this.cleanUpKeys.bind(this);\n        this.handleOnChangeProvidedOAuth = this.handleOnChangeProvidedOAuth.bind(this);\n        this.provideOAuthKeySecret = this.provideOAuthKeySecret.bind(this);\n    }\n\n    /**\n     *\n     *\n     * @memberof TokenManager\n     */\n    componentDidMount() {\n        this.loadApplication();\n    }\n\n    componentDidUpdate(nextProps) {\n        const { keyType: nextKeyType } = nextProps;\n        const { keyType: prevKeyType } = this.props;\n        if (nextKeyType !== prevKeyType) {\n            this.loadApplication();\n        }\n    }\n\n    getDefaultAdditionalProperties(selectedKM) {\n        const { availableGrantTypes, applicationConfiguration } = selectedKM;\n        // Fill the keyRequest.additionalProperties from the selectedKM.applicationConfiguration defaultValues.\n        const additionalProperties = {};\n\n        applicationConfiguration.forEach((confItem) => {\n            additionalProperties[confItem.name] = confItem.default || '';\n        });\n        return additionalProperties;\n    }\n\n    handleTabChange = (event, newSelectedTab) => {\n        const { keys, keyManagers, keyRequest } = this.state;\n        const { keyType } = this.props;\n        const selectedKM = keyManagers.find((x) => x.name === newSelectedTab);\n        const { availableGrantTypes } = selectedKM;\n\n        if (keys.size > 0 && keys.get(newSelectedTab) && keys.get(newSelectedTab).keyType === keyType) {\n            const { callbackUrl, supportedGrantTypes, additionalProperties } = keys.get(newSelectedTab);\n            const newRequest = {\n                ...keyRequest,\n                callbackUrl,\n                selectedGrantTypes: supportedGrantTypes\n                || availableGrantTypes.filter((type) => (type !== 'authorization_code' && type !== 'implicit')),\n                additionalProperties: additionalProperties || this.getDefaultAdditionalProperties(selectedKM),\n            };\n            this.setState({ keyRequest: newRequest, selectedTab: newSelectedTab });\n        } else {\n            // Fill the keyRequest.additionalProperties from the selectedKM.applicationConfiguration defaultValues.\n            this.setState({\n                keyRequest: {\n                    ...keyRequest,\n                    selectedGrantTypes: availableGrantTypes.filter((type) => (type !== 'authorization_code' && type !== 'implicit')),\n                    additionalProperties: this.getDefaultAdditionalProperties(selectedKM),\n                },\n                selectedTab: newSelectedTab,\n            });\n        }\n    };\n\n    /**\n     * load application key generation ui\n     */\n    loadApplication = () => {\n        const { keyType } = this.props;\n        if (this.appId) {\n            const api = new API();\n            const promisedKeyManagers = api.getKeyManagers();\n            const promisedGetKeys = this.application\n                .then((application) => application.getKeys(keyType));\n            Promise.all([promisedKeyManagers, promisedGetKeys])\n                .then((response) => {\n                    // processing promisedKeyManagers response\n                    const responseKeyManagerList = [];\n                    response[0].body.list.map((item) => {\n                        if (item.enabled) responseKeyManagerList.push(item);\n                    });\n\n                    if (responseKeyManagerList.length === 0) {\n                        this.setState({ keyManagers: [] });\n                        return;\n                    }\n                    // Selecting a key manager from the list of key managers.\n                    let { selectedTab } = this.state;\n                    if (!selectedTab && responseKeyManagerList.length > 0) {\n                        selectedTab = responseKeyManagerList.find((x) => x.name === 'Resident Key Manager') ? 'Resident Key Manager'\n                            : responseKeyManagerList[0].name;\n                    }\n                    const selectdKM = responseKeyManagerList.find((x) => x.name === selectedTab);\n                    // processing promisedGetKeys response\n                    const keys = response[1];\n                    const { keyRequest } = this.state;\n\n                    if (keys.size > 0 && keys.get(selectedTab) && keys.get(selectedTab).keyType === keyType) {\n                        const { callbackUrl, supportedGrantTypes, additionalProperties, mode } = keys.get(selectedTab);\n                        const newRequest = {\n                            ...keyRequest,\n                            callbackUrl: callbackUrl || '',\n                            selectedGrantTypes: supportedGrantTypes || [],\n                            additionalProperties: additionalProperties || this.getDefaultAdditionalProperties(selectdKM),\n                        };\n                        this.setState({\n                            keys, keyRequest: newRequest, keyManagers: responseKeyManagerList, selectedTab,\n                            importDisabled: mode === 'MAPPED',\n                        });\n                    } else {\n                        const selectdKMGrants = selectdKM.availableGrantTypes || [];\n\n                        this.setState({\n                            keys,\n                            keyRequest: {\n                                ...keyRequest,\n                                selectedGrantTypes: selectdKMGrants.filter((type) => (type !== 'authorization_code' && type !== 'implicit')),\n                                additionalProperties: this.getDefaultAdditionalProperties(selectdKM),\n                            },\n                            keyManagers: responseKeyManagerList,\n                            selectedTab,\n                        });\n                    }\n                })\n                .catch((error) => {\n                    if (process.env.NODE_ENV !== 'production') {\n                        console.error(error);\n                    }\n                    if (error.status === 404) {\n                        this.setState({ notFound: true });\n                    }\n                });\n        }\n    }\n\n    /**\n     * Update keyRequest state\n     * @param {Object} keyRequest parameters requried for key generation request\n     */\n    updateKeyRequest(keyRequest) {\n        this.setState({ keyRequest });\n    }\n\n    /**\n     * Generate keys for application,\n     *\n     * @memberof KeyConfiguration\n     */\n    generateKeys() {\n        const { keyRequest, keys, selectedTab } = this.state;\n        const {\n            keyType, updateSubscriptionData, selectedApp: { tokenType, hashEnabled }, intl,\n        } = this.props;\n\n        if ((keyRequest.selectedGrantTypes.includes('implicit')\n            || keyRequest.selectedGrantTypes.includes('authorization_code'))) {\n            if (keyRequest.callbackUrl === '') {\n                Alert.error(intl.formatMessage({\n                    id: 'Shared.AppsAndKeys.TokenManager.key.generate.error.callbackempty',\n                    defaultMessage: 'Callback URL can not be empty when the Implicit or Application Code grant types selected',\n                }));\n                return;\n            } else if (Validation.url.validate(keyRequest.callbackUrl).error) {\n                Alert.error(intl.formatMessage({\n                    id: 'Shared.AppsAndKeys.TokenManager.key.generate.error.text',\n                    defaultMessage: 'Invalid URL. Please enter a valid URL.',\n                }));\n                return;\n            }\n        }\n        this.setState({ isLoading: true });\n\n        this.application\n            .then((application) => {\n                return application.generateKeys(\n                    keyType, keyRequest.selectedGrantTypes,\n                    keyRequest.callbackUrl,\n                    keyRequest.additionalProperties, this.getKeyManagerIdentifier(),\n                );\n            })\n            .then((response) => {\n                if (updateSubscriptionData) {\n                    updateSubscriptionData();\n                }\n                const newKeys = new Map([...keys]);\n                // in case token hashing is enabled, isKeyJWT is set to true even if the token type is JWT.\n                // This is to mimic the behavior of JWT tokens (by showing the token in a dialog)\n                const isKeyJWT = (tokenType === 'JWT') || hashEnabled;\n                newKeys.set(selectedTab, response);\n                const initialToken = response.token ? response.token.accessToken : '';\n                const initialValidityTime = response.token ? response.token.validityTime : 0;\n                const initialScopes = response.token ? response.token.tokenScopes : [];\n                this.setState({ keys: newKeys, isKeyJWT, initialToken, initialValidityTime, initialScopes });\n                if (response.keyState === this.keyStates.CREATED || response.keyState === this.keyStates.REJECTED) {\n                    Alert.info(intl.formatMessage({\n                        id: 'Shared.AppsAndKeys.TokenManager.key.generate.success.blocked',\n                        defaultMessage: 'Application keys generate request is currently pending approval by the site administrator.',\n                    }));\n                } else {\n                    Alert.info(intl.formatMessage({\n                        id: 'Shared.AppsAndKeys.TokenManager.key.generate.success',\n                        defaultMessage: 'Application keys generated successfully',\n                    }));\n                    this.loadApplication();\n                }\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ notFound: true });\n                } else if (status === 500) {\n                    this.loadApplication();\n                }\n                Alert.error(intl.formatMessage({\n                    id: 'Shared.AppsAndKeys.TokenManager.key.generate.error',\n                    defaultMessage: 'Error occurred when generating application keys',\n                }));\n            }).finally(() => this.setState({ isLoading: false }));\n    }\n\n    /**\n     *\n     * @memberof KeyConfiguration\n     */\n    updateKeys() {\n        const { keys, keyRequest, selectedTab } = this.state;\n        const { keyType, intl } = this.props;\n        const applicationKey = (keys.get(selectedTab).keyType === keyType) && keys.get(selectedTab);\n        if ((keyRequest.selectedGrantTypes.includes('implicit')\n            || keyRequest.selectedGrantTypes.includes('authorization_code'))) {\n            if (keyRequest.callbackUrl === '') {\n                Alert.error(intl.formatMessage({\n                    id: 'Shared.AppsAndKeys.TokenManager.key.generate.error.callbackempty',\n                    defaultMessage: 'Callback URL can not be empty when the Implicit or Application Code grant types selected',\n                }));\n                return;\n            } else if (Validation.url.validate(keyRequest.callbackUrl).error) {\n                Alert.error(intl.formatMessage({\n                    id: 'Shared.AppsAndKeys.TokenManager.key.generate.error.text',\n                    defaultMessage: 'Invalid URL. Please enter a valid URL.',\n                }));\n                return;\n            }\n        }\n        this.setState({ isLoading: true });\n        this.application\n            .then((application) => {\n                return application.updateKeys(\n                    applicationKey.tokenType,\n                    keyType,\n                    keyRequest.selectedGrantTypes,\n                    keyRequest.callbackUrl,\n                    applicationKey.consumerKey,\n                    applicationKey.consumerSecret,\n                    keyRequest.additionalProperties,\n                    selectedTab,\n                    applicationKey.keyMappingId,\n                );\n            })\n            .then((response) => {\n                const newKeys = new Map([...keys]);\n                newKeys.set(selectedTab, response);\n                this.setState({ keys: newKeys });\n                Alert.info(intl.formatMessage({\n                    id: 'Shared.AppsAndKeys.TokenManager.key.update.success',\n                    defaultMessage: 'Application keys updated successfully',\n                }));\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ notFound: true });\n                } else if (status === 500) {\n                    this.loadApplication();\n                }\n                const { response } = error;\n                if (response && response.body) {\n                    Alert.error(response.body.message);\n                }\n            }).finally(() => this.setState({ isLoading: false }));\n    }\n\n    /**\n     * Cleanup application keys\n     */\n    cleanUpKeys(selectedTab, keyMappingId) {\n        const { keyType, intl } = this.props;\n        this.application\n            .then((application) => {\n                return application.cleanUpKeys(keyType, selectedTab, keyMappingId);\n            })\n            .then(() => {\n                this.loadApplication();\n                Alert.info(intl.formatMessage({\n                    id: 'Shared.AppsAndKeys.TokenManager.key.cleanup.success',\n                    defaultMessage: 'Application keys cleaned successfully',\n                }));\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ notFound: true });\n                }\n                Alert.error(intl.formatMessage({\n                    id: 'Shared.AppsAndKeys.TokenManager.key.cleanup.error',\n                    defaultMessage: 'Error occurred while cleaning up application keys',\n                }));\n            });\n    }\n\n    /**\n     * Handle on change of provided consumer key and consumer secret\n     *\n     * @param event onChange event\n     */\n    handleOnChangeProvidedOAuth(event) {\n        this.setState({ [event.target.name]: event.target.value });\n    }\n\n    /**\n     * Provide consumer key and secret of an existing OAuth app to an application\n     */\n    provideOAuthKeySecret() {\n        const { keyType, intl } = this.props;\n        const { providedConsumerKey, providedConsumerSecret, selectedTab } = this.state;\n\n        this.application\n            .then((application) => {\n                return application.provideKeys(keyType, providedConsumerKey, providedConsumerSecret, selectedTab);\n            })\n            .then(() => {\n                this.setState({ providedConsumerKey: '', providedConsumerSecret: '' });\n                Alert.info(intl.formatMessage({\n                    id: 'Shared.AppsAndKeys.TokenManager.key.provide.success',\n                    defaultMessage: 'Application keys provided successfully',\n                }));\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ notFound: true });\n                }\n                Alert.error(intl.formatMessage({\n                    id: 'Shared.AppsAndKeys.TokenManager.key.provide.error',\n                    defaultMessage: 'Error occurred when providing application keys',\n                }));\n            });\n    }\n\n    getKeyManagerDescription() {\n        const { keyManagers, selectedTab } = this.state;\n        const selectedKMObject = keyManagers.filter((item) => item.name === selectedTab);\n        if (selectedKMObject && selectedKMObject.length === 1) {\n            return selectedKMObject[0].description;\n        }\n        return '';\n    }\n\n    getKeyManagerIdentifier() {\n        const { keyManagers, selectedTab } = this.state;\n        const selectedKMObject = keyManagers.filter((item) => item.name === selectedTab);\n        if (selectedKMObject && selectedKMObject.length === 1) {\n            return selectedKMObject[0].id;\n        }\n        return selectedTab;\n    }\n\n    setValidating = (validatingState) => {\n        this.setState({ validating: validatingState });\n    }\n\n    updateHasError = (state) => {\n        this.setState({ hasError: state });\n    }\n\n    toTitleCase = (str) => {\n        return str.replace(\n            /\\w\\S*/g,\n            (txt) => {\n                return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n            },\n        );\n    };\n\n    /**\n     *  @returns {Component}\n     * @memberof Tokenemanager\n     */\n    render() {\n        const {\n            classes, selectedApp, keyType, summary, selectedApp: { hashEnabled },\n        } = this.props;\n        const {\n            keys, keyRequest, isLoading, isKeyJWT, providedConsumerKey,\n            providedConsumerSecret, selectedTab, keyManagers, validating, hasError, initialToken,\n            initialValidityTime, initialScopes, importDisabled,\n        } = this.state;\n        if (keyManagers && keyManagers.length === 0) {\n            return (\n                <div className={classes.root}>\n                    <Box mb={1}>\n                        <Typography variant='h5' className={classes.keyTitle}>\n                            {this.toTitleCase(keyType)}\n                            <FormattedMessage\n                                id='Shared.AppsAndKeys.TokenManager.oauth2.keys.main.title'\n                                defaultMessage=' OAuth2 Keys'\n                            />\n                        </Typography>\n                    </Box>\n                    <InlineMessage type='info' className={classes.dialogContainer}>\n                        <Typography variant='h5' component='h3'>\n                            <FormattedMessage id='Shared.AppsAndKeys.TokenManager.no.km' defaultMessage='No Key Managers' />\n                        </Typography>\n                        <Typography component='p'>\n                            <FormattedMessage\n                                id='Shared.AppsAndKeys.TokenManager.no.km.content'\n                                defaultMessage='No Key Managers active to generate keys.'\n                            />\n                        </Typography>\n                    </InlineMessage>\n                </div>\n            );\n        }\n        if (!keys || !selectedTab || !keyRequest.selectedGrantTypes) {\n            return <Loading />;\n        }\n        const username = AuthManager.getUser().name;\n        let isUserOwner = false;\n\n        if (selectedApp.owner && username.toLowerCase() === selectedApp.owner.toLowerCase()) {\n            isUserOwner = true;\n        }\n        const key = keys.size > 0 && keys.get(selectedTab) && (keys.get(selectedTab).keyType === keyType) ? keys.get(selectedTab) : null;\n\n        if (summary) {\n            if (keys) {\n                return (\n                    <TokenMangerSummary\n                        keys={keys}\n                        key={key}\n                        keyStates={this.keyStates}\n                        selectedApp={selectedApp}\n                        selectedTab={selectedTab}\n                        keyType={keyType}\n                        isKeyJWT={isKeyJWT}\n                        isUserOwner={isUserOwner}\n                    />\n                );\n            } else {\n                return (<Progress />);\n            }\n        }\n        if (key && key.keyState === 'APPROVED' && !key.consumerKey) {\n            return (\n                <>\n                    <Typography className={classes.cleanUpInfoText} variant='subtitle1'>\n                        <FormattedMessage\n                            id='Shared.AppsAndKeys.TokenManager.cleanup.text'\n                            defaultMessage='Error! You have partially-created keys.\n                            Please click `Clean Up` button and try again.'\n                        />\n                    </Typography>\n                    <Button\n                        variant='contained'\n                        color='primary'\n                        className={classes.cleanUpButton}\n                        onClick={() => this.cleanUpKeys(selectedTab, keys.get(selectedTab).keyMappingId)}\n                    >\n                        <FormattedMessage\n                            defaultMessage='Clean up'\n                            id='Shared.AppsAndKeys.TokenManager.cleanup'\n                        />\n                    </Button>\n                </>\n            );\n        }\n        if (key && (key.keyState === this.keyStates.CREATED || key.keyState === this.keyStates.REJECTED)) {\n            return <WaitingForApproval keyState={key.keyState} states={this.keyStates} />;\n        }\n        return (\n            <>\n                {(keyManagers && keyManagers.length > 1) && (\n                    <StyledTabs\n                        value={selectedTab}\n                        indicatorColor='primary'\n                        textColor='primary'\n                        onChange={this.handleTabChange}\n                        aria-label='key manager tabs'\n                    >\n                        {keyManagers.map((keymanager) => (\n                            <StyledTab\n                                label={keymanager.displayName || keymanager.name}\n                                value={keymanager.name}\n                                disabled={!keymanager.enabled}\n                            />\n                        ))}\n                    </StyledTabs>\n                )}\n                <div className={classes.root}>\n                    <Box mb={1}>\n                        <Typography variant='h5' className={classes.keyTitle}>\n                            {this.toTitleCase(keyType)}\n                            <FormattedMessage\n                                id='Shared.AppsAndKeys.TokenManager.oauth2.keys.main.title'\n                                defaultMessage=' OAuth2 Keys'\n                            />\n                        </Typography>\n                    </Box>\n                    {(keyManagers && keyManagers.length > 0) && keyManagers.map((keymanager) => (\n                        <TabPanel value={selectedTab} index={keymanager.name} className={classes.tabPanel}>\n                            <Box display='flex' flexDirection='row'>\n                                <Typography className={classes.heading} variant='h6' component='h6' className={classes.subTitle}>\n                                    <FormattedMessage\n                                        defaultMessage='Key and Secret'\n                                        id='Shared.AppsAndKeys.TokenManager.key.and.secret'\n                                    />\n                                </Typography>\n                                {\n                                    keymanager.enableMapOAuthConsumerApps && (\n                                        <Box ml={2}>\n                                            <ImportExternalApp\n                                                onChange={this.handleOnChangeProvidedOAuth}\n                                                consumerKey={providedConsumerKey}\n                                                consumerSecret={providedConsumerSecret}\n                                                isUserOwner={isUserOwner}\n                                                key={key}\n                                                provideOAuthKeySecret={this.provideOAuthKeySecret}\n                                                importDisabled={importDisabled}\n                                            />\n                                        </Box>\n                                    )\n                                }\n                            </Box>\n                            <Box m={2}>\n                                <ViewKeys\n                                    initialToken={initialToken}\n                                    initialValidityTime={initialValidityTime}\n                                    initialScopes={initialScopes}\n                                    selectedApp={selectedApp}\n                                    selectedTab={selectedTab}\n                                    keyType={keyType}\n                                    keys={keys}\n                                    isKeyJWT={isKeyJWT}\n                                    selectedGrantTypes={keyRequest.selectedGrantTypes}\n                                    isUserOwner={isUserOwner}\n                                    hashEnabled={keymanager.enableTokenHashing || hashEnabled}\n                                    keyManagerConfig={keymanager}\n                                />\n                            </Box>\n                            <Typography className={classes.heading} variant='h6' component='h6' className={classes.subTitle}>\n                                {\n                                    key\n                                        ? (\n                                            <FormattedMessage\n                                                defaultMessage='Key Configurations'\n                                                id='Shared.AppsAndKeys.TokenManager.update.configuration'\n                                            />\n                                        )\n                                        : (\n                                            <FormattedMessage\n                                                defaultMessage='Key Configuration'\n                                                id='Shared.AppsAndKeys.TokenManager.key.configuration'\n                                            />\n                                        )\n                                }\n                            </Typography>\n                            <Box m={2}>\n                                <KeyConfiguration\n                                    keys={keys}\n                                    key={key}\n                                    selectedApp={selectedApp}\n                                    selectedTab={selectedTab}\n                                    keyType={keyType}\n                                    updateKeyRequest={this.updateKeyRequest}\n                                    keyRequest={keyRequest}\n                                    isUserOwner={isUserOwner}\n                                    isKeysAvailable={key}\n                                    keyManagerConfig={keymanager}\n                                    validating={validating}\n                                    updateHasError={this.updateHasError}\n                                    callbackError={hasError}\n                                    setValidating={this.setValidating}\n                                />\n                                <div className={classes.generateWrapper}>\n                                    <ScopeValidation\n                                        resourcePath={resourcePaths.APPLICATION_GENERATE_KEYS}\n                                        resourceMethod={resourceMethods.POST}\n                                    >\n                                        {!isUserOwner ? (\n                                            <>\n                                                <Button\n                                                    variant='contained'\n                                                    color='primary'\n                                                    className={classes.button}\n                                                    onClick={\n                                                        key ? this.updateKeys : this.generateKeys\n                                                    }\n                                                    disabled={!isUserOwner || isLoading || !keymanager.enableOAuthAppCreation}\n                                                >\n                                                    {key ? 'Update keys' : 'Generate Keys'}\n                                                    {isLoading && <CircularProgress size={20} />}\n                                                </Button>\n                                                <Typography variant='caption'>\n                                                    <FormattedMessage\n                                                        defaultMessage='Only owner can generate or update keys'\n                                                        id='Shared.AppsAndKeys.TokenManager.key.and.user.owner'\n                                                    />\n                                                </Typography>\n                                            </>\n                                        ) : (\n                                            <Box display='flex'>\n                                                <Button\n                                                    variant='contained'\n                                                    color='primary'\n                                                    className={classes.button}\n                                                    onClick={key ? this.updateKeys : this.generateKeys}\n                                                    disabled={hasError || (isLoading || !keymanager.enableOAuthAppCreation) || importDisabled}\n                                                >\n                                                    {key ? 'Update' : 'Generate Keys'}\n                                                    {isLoading && <CircularProgress size={20} />}\n                                                </Button>\n                                                {!keymanager.enableOAuthAppCreation && (\n                                                    <Box m={2} display='flex'>\n                                                        <WarningIcon className={classes.warningIcon} />\n                                                        <Typography variant='body1'>\n                                                            <FormattedMessage\n                                                                defaultMessage='Oauth app creation disabled for {kmName} key manager'\n                                                                id='Shared.AppsAndKeys.TokenManager.app.creation.disable.warn'\n                                                                values={{ kmName: keymanager.displayName || keymanager.name }}\n                                                            />\n                                                        </Typography>\n                                                    </Box>\n                                                )}\n                                            </Box>\n                                        )}\n                                    </ScopeValidation>\n                                </div>\n\n                            </Box>\n                        </TabPanel>\n                    ))}\n                </div>\n            </>\n        );\n    }\n}\nTokenManager.defaultProps = {\n    updateSubscriptionData: () => { },\n    summary: false,\n};\nTokenManager.propTypes = {\n    classes: PropTypes.instanceOf(Object).isRequired,\n    selectedApp: PropTypes.shape({\n        tokenType: PropTypes.string.isRequired,\n        appId: PropTypes.string,\n        value: PropTypes.string,\n        owner: PropTypes.string,\n        hashEnabled: PropTypes.bool,\n    }).isRequired,\n    keyType: PropTypes.string.isRequired,\n    updateSubscriptionData: PropTypes.func,\n    intl: PropTypes.shape({ formatMessage: PropTypes.func }).isRequired,\n    summary: PropTypes.bool,\n};\n\nexport default injectIntl(withStyles(styles)(TokenManager));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState } from 'react';\nimport { injectIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Validation from 'AppData/Validation';\n\n// Styles for Grid and Paper elements\nconst styles = theme => ({\n    FormControl: {\n        'margin-bottom': '8px',\n        width: '100%',\n        padding: '0px 10px',\n    },\n});\n\n/**\n * Used to display generate api key in UI\n */\nconst tokens = (props) => {\n    const [infiniteValidity, setInfiniteValidity] = useState(true);\n    const [invalidTimeout, setInvaildTimeout] = useState(false);\n\n    /**\n    * This method is used to handle the updating of create api key\n    * request object.\n    * @param {*} field\n    * @param {*} event event fired\n    */\n    const handleChange = (field, event) => {\n        const { accessTokenRequest, updateAccessTokenRequest } = props;\n        const newRequest = { ...accessTokenRequest };\n\n        const { target: currentTarget } = event;\n\n        switch (field) {\n            case 'infiniteValidity':\n                setInfiniteValidity(currentTarget.checked);\n                if (currentTarget.checked) {\n                    newRequest.timeout = -1;\n                } else {\n                    newRequest.timeout = null;\n                }\n                break;\n            case 'timeout':\n                if (Validation.number.validate(currentTarget.value).error === undefined) {\n                    newRequest.timeout = currentTarget.value;\n                    setInvaildTimeout(false);\n                } else {\n                    newRequest.timeout = null;\n                    setInvaildTimeout(true);\n                }\n                break;\n            default:\n                break;\n        }\n        updateAccessTokenRequest(newRequest);\n    };\n    const { classes, intl, accessTokenRequest } = props;\n\n    return (\n        <React.Fragment>\n            <FormControl margin='normal' className={classes.FormControl}>\n                <FormControlLabel\n                    control={<Checkbox\n                        checked={infiniteValidity}\n                        onChange={e => handleChange('infiniteValidity', e)}\n                        value={accessTokenRequest.timeout}\n                        color='primary'\n                    />}\n                    label='API Key with infinite validity period'\n                />\n                {!infiniteValidity && <TextField\n                    required\n                    label={intl.formatMessage({\n                        defaultMessage: 'API Key validity period',\n                        id: 'Shared.AppsAndKeys.Tokens.apikey',\n                    })}\n                    InputLabelProps={{\n                        shrink: true,\n                    }}\n                    helperText={\n                        invalidTimeout ? (\n                            intl.formatMessage({\n                                defaultMessage: 'Please use a valid number for API Key expiry time',\n                                id: 'Shared.AppsAndKeys.Tokens.apikey.set.validity.error',\n                            })\n                        ) : (\n                            intl.formatMessage({\n                                defaultMessage: 'You can set an expiration period to determine the validity period of '\n                                + 'the token after generation. Set this as -1 to ensure that the '\n                                + 'apikey never expires.',\n                                id: 'Shared.AppsAndKeys.Tokens.apikey.set.validity.help',\n                            })\n                        )\n                    }\n                    fullWidth\n                    name='timeout'\n                    onChange={e => handleChange('timeout', e)}\n                    placeholder={intl.formatMessage({\n                        defaultMessage: 'Enter time in seconds',\n                        id: 'Shared.AppsAndKeys.Tokens.apikey.enter.time',\n                    })}\n                    value={accessTokenRequest.timeout}\n                    autoFocus\n                    className={classes.inputText}\n                    error={invalidTimeout}\n                />\n                }\n            </FormControl>\n        </React.Fragment>\n    );\n};\ntokens.contextTypes = {\n    intl: PropTypes.shape({}).isRequired,\n};\nexport default injectIntl(withStyles(styles)(tokens));\n","/*\n * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState } from \"react\";\nimport { injectIntl, FormattedMessage } from \"react-intl\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Fab from \"@material-ui/core/Fab\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Box from \"@material-ui/core/Box\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Validation from 'AppData/Validation';\n\nconst styles = (theme) => ({\n  FormControl: {\n    \"margin-bottom\": theme.spacing(1),\n    width: \"100%\",\n    padding: theme.spacing(0, 1),\n  },\n  outterBox: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n    borderColor: theme.palette.text.secondary,\n    marginLeft: 20,\n    borderColor: '#cccccc',\n  },\n  Fab: {\n    marginLeft: theme.spacing(2),\n    marginRight: theme.spacing(2),\n  },\n});\n\n/**\n * Used to display IP address and Http Referer restrictions in generate api key UI\n */\nconst apiKeyRestrictions = (props) => {\n  const [invalidIP, setInvalidIP] = useState(false);\n  const [invalidReferer, setInvalidReferer] = useState(false);\n\n  const {\n    intl,\n    classes,\n    newIP,\n    updateNewIp,\n    ipList,\n    updateIpList,\n    restrictSchema,\n    updateRestrictSchema,\n    newReferer,\n    updateNewReferer,\n    refererList,\n    updateRefererList,\n  } = props;\n\n  const onRefererTextUpdate = (e) => {\n    updateNewReferer(e.target.value.trim());\n    if (e.target.value.trim() === \"\") {\n      setInvalidReferer(false);\n    }\n  };\n\n  const addRefererItem = () => {\n    if (newReferer !== null && newReferer !== \"\") {\n      setInvalidReferer(false);\n      refererList.push(newReferer.trim());\n      updateRefererList(refererList);\n      updateNewReferer(\"\");\n    } else {\n      setInvalidReferer(true);\n    }\n  };\n\n  const deleteRefererItem = (refererItem) => {\n    refererList.splice(refererList.indexOf(refererItem), 1);\n    updateRefererList(refererList);\n  };\n\n  const onIpTextUpdate = (e) => {\n    updateNewIp(e.target.value.trim());\n    if (e.target.value.trim() === \"\") {\n      setInvalidIP(false);\n    }\n  };\n\n  const addIpItem = () => {\n    if (newIP !== null && newIP !== \"\") {\n      if (Validation.ipAddress.validate(newIP).error) {\n        setInvalidIP(true);\n      } else {\n        setInvalidIP(false);\n        ipList.push(newIP);\n        updateIpList(ipList);\n        updateNewIp(\"\");\n      }\n    }\n  };\n\n  const deleteIpItem = (ipItem) => {\n    ipList.splice(ipList.indexOf(ipItem), 1);\n    updateIpList(ipList);\n  };\n\n  const onRestrictSchemaChange = (e) => {\n    updateRestrictSchema(e.target.value);\n    updateIpList([]);\n    updateRefererList([]);\n    updateNewIp(\"\");\n    updateNewReferer(\"\");\n    setInvalidIP(false);\n    setInvalidReferer(false);\n  };\n\n  return (\n    <React.Fragment>\n      <Box border={1} borderRadius={5} className={classes.outterBox}>\n        <Typography variant=\"body1\">\n          <FormattedMessage\n              defaultMessage='Key Restrictions'\n              id='Shared.ApiKeyRestriction.key.restrictions'\n          />\n        </Typography>\n        <FormControl component=\"fieldset\">\n          <RadioGroup\n            aria-label=\"API Key Restrictions\"\n            value={restrictSchema}\n            row\n            onChange={onRestrictSchemaChange}\n          >\n            <FormControlLabel\n              value=\"none\"\n              control={<Radio color=\"primary\" />}\n              label=\"None\"\n              labelPlacement=\"end\"\n            />\n            <FormControlLabel\n              value=\"ip\"\n              control={<Radio color=\"primary\" />}\n              label=\"IP Addresses\"\n              labelPlacement=\"end\"\n            />\n            <FormControlLabel\n              value=\"referer\"\n              control={<Radio color=\"primary\" />}\n              label=\"HTTP Referrers (Web Sites)\"\n              labelPlacement=\"end\"\n            />\n          </RadioGroup>\n        </FormControl>\n\n        {restrictSchema === \"ip\" && (\n          <Box component=\"div\" id=\"ipPanel\">\n            <Grid\n              container\n              direction=\"row\"\n              spacing={0}\n              justify=\"left\"\n              alignItems=\"left\"\n            >\n              <Grid item md={10} xs={10}>\n                <TextField\n                  label=\"IP Address\"\n                  value={newIP}\n                  onChange={onIpTextUpdate}\n                  className={classes.inputText}\n                  helperText={\n                    invalidIP\n                      ? intl.formatMessage({\n                          defaultMessage: \"Invalid IP Address\",\n                          id:\n                            \"Shared.AppsAndKeys.Tokens.apiKeyRestriction.ip.validity.error\",\n                        })\n                      : \"\"\n                  }\n                  error={invalidIP}\n                  margin=\"dense\"\n                  variant=\"outlined\"\n                  placeholder={intl.formatMessage({\n                    defaultMessage: \"Enter IP Address\",\n                    id: \"Shared.AppsAndKeys.Tokens.apiKeyRestriction.enter.ip\",\n                  })}\n                  fullWidth\n                />\n              </Grid>\n              <Grid item md={2} xs={2}>\n                <span>\n                  <Fab\n                    className={classes.Fab}\n                    size=\"small\"\n                    color=\"primary\"\n                    aria-label=\"add\"\n                    onClick={addIpItem}\n                  >\n                    <AddIcon />\n                  </Fab>\n                </span>\n              </Grid>\n            </Grid>\n            <Grid\n              container\n              direction=\"row\"\n              spacing={0}\n              justify=\"left\"\n              alignItems=\"left\"\n              md={10}\n              xs={10}\n            >\n              {ipList.length > 0 && (\n                <List>\n                  {ipList.map((ip, index) => (\n                    <ListItem>\n                      <ListItemText primary={ip} />\n                      <ListItemSecondaryAction>\n                        <Tooltip title=\"Delete task\" placement=\"top\">\n                          <IconButton\n                            edge=\"end\"\n                            aria-label=\"delete\"\n                            onClick={() => deleteIpItem(ip)}\n                          >\n                            <DeleteIcon />\n                          </IconButton>\n                        </Tooltip>\n                      </ListItemSecondaryAction>\n                    </ListItem>\n                  ))}\n                </List>\n              )}\n            </Grid>\n          </Box>\n        )}\n\n        {restrictSchema === \"referer\" && (\n          <Box component=\"div\" id=\"refererPanel\">\n            <Grid\n              container\n              direction=\"row\"\n              spacing={0}\n              justify=\"left\"\n              alignItems=\"left\"\n            >\n              <Grid item md={10} xs={10}>\n                <TextField\n                  label=\"Referer\"\n                  value={newReferer}\n                  onChange={onRefererTextUpdate}\n                  className={classes.inputText}\n                  helperText={\n                    invalidReferer\n                      ? intl.formatMessage({\n                          defaultMessage: \"Invalid Http Referer\",\n                          id: \"Shared.AppsAndKeys.Tokens.apiKeyRestriction.referer.validity.error\",\n                        })\n                      : \"\"\n                  }\n                  error={invalidReferer}\n                  margin=\"dense\"\n                  variant=\"outlined\"\n                  placeholder={intl.formatMessage({\n                    defaultMessage: \"Enter Http Referer\",\n                    id: \"Shared.AppsAndKeys.Tokens.apiKeyRestriction.enter.referer\",\n                  })}\n                  fullWidth\n                />\n              </Grid>\n              <Grid item md={2} xs={2}>\n                <span>\n                  <Fab\n                  size=\"small\"\n                    className={classes.Fab}\n                    color=\"primary\"\n                    aria-label=\"add\"\n                    onClick={addRefererItem}\n                  >\n                    <AddIcon />\n                  </Fab>\n                </span>\n              </Grid>\n            </Grid>\n            <Grid\n              container\n              direction=\"row\"\n              spacing={0}\n              justify=\"left\"\n              alignItems=\"left\"\n              md={10}\n              xs={10}\n            >\n              {refererList.length > 0 && (\n                <List>\n                  {refererList.map((referer, index) => (\n                    <ListItem>\n                      <ListItemText primary={referer} />\n                      <ListItemSecondaryAction>\n                        <Tooltip title=\"Delete task\" placement=\"top\">\n                          <IconButton\n                            edge=\"end\"\n                            aria-label=\"delete\"\n                            onClick={() => deleteRefererItem(referer)}\n                          >\n                            <DeleteIcon />\n                          </IconButton>\n                        </Tooltip>\n                      </ListItemSecondaryAction>\n                    </ListItem>\n                  ))}\n                </List>\n              )}\n            </Grid>\n          </Box>\n        )}\n      </Box>\n    </React.Fragment>\n  );\n};\napiKeyRestrictions.contextTypes = {\n  intl: PropTypes.shape({}).isRequired,\n};\nexport default injectIntl(withStyles(styles)(apiKeyRestrictions));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport API from 'AppData/api';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Grid from '@material-ui/core/Grid';\nimport ViewToken from './ViewToken';\nimport ApiKey from '../ApiKey';\nimport ApiKeyRestriction from '../ApiKeyRestriction';\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst styles = (theme) => ({\n  root: {\n    padding: theme.spacing(3),\n    '& span, & h5, & label, & input': {\n      color: theme.palette.getContrastText(theme.palette.background.paper),\n    },\n  },\n  dialog: {\n    '& span, & h2, & label': {\n      color: theme.palette.getContrastText(theme.palette.background.paper),\n    },\n  },\n  button: {\n    '& span': {\n      color: theme.palette.getContrastText(theme.palette.primary.main),\n    }\n  },\n  tokenSection: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  margin: {\n    marginRight: theme.spacing(2),\n  },\n  keyConfigWrapper: {\n    flexDirection: 'column',\n    marginBottom: 0,\n  },\n  generateWrapper: {\n    padding: '10px',\n    'margin-inline-end': 'auto',\n  },\n  paper: {\n    display: 'flex',\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    marginLeft: theme.spacing(10),\n  },\n  dialogTitle: {\n    padding: '24px 24px 0px',\n  },\n  dialogContent: {\n    padding: '0 24px 0px',\n  },\n  formGroup: {\n    padding: '20px',\n  },\n  gridWrapper: {\n    'align-self': 'center',\n  },\n  keyTitle: {\n    textTransform: 'capitalize',\n  },\n  cardBody: {\n    padding: theme.spacing(1),\n    lineHeight: 2,\n  },\n  generateKey: {\n    '& span': {\n      color: theme.palette.getContrastText(theme.palette.primary.main),\n    }\n  },\n});\n\nclass ApiKeyManager extends React.Component {\n  constructor(props) {\n    super(props);\n    const { classes, selectedApp, keyType } = this.props;\n    this.state = {\n      apikey: null,\n      open: false,\n      showToken: false,\n      accessTokenRequest: {\n        timeout: -1,\n      },\n      ipList: [],\n      newIP: null,\n      restrictSchema: 'none',\n      refererList: [],\n      newReferer: null,\n      isGenerating: false,\n    };\n  }\n\n  updateIpList = (ipList) => {\n    this.setState(() => ({ ipList }));\n  };\n\n  updateNewIp = (newIP) => {\n    this.setState(() => ({ newIP }));\n  };\n\n  updateRefererList = (refererList) => {\n    this.setState(() => ({ refererList }));\n  };\n\n  updateNewReferer = (newReferer) => {\n    this.setState(() => ({ newReferer }));\n  };\n\n  updateRestrictSchema = (restrictSchema) => {\n    this.setState(() => ({ restrictSchema }));\n  }\n\n  handleClose = () => {\n    this.setState(() => ({ open: false, accessTokenRequest: { timeout: -1 } }));\n  }\n\n  handleClickOpen = () => {\n    this.setState(() => ({ open: true, showToken: false }));\n  }\n\n  updateAccessTokenRequest = (accessTokenRequest) => {\n    this.setState(() => ({ accessTokenRequest }));\n  }\n\n  generateKeys = () => {\n    const { selectedApp, keyType } = this.props;\n    this.setState({isGenerating: true});\n    const client = new API();\n    const restrictions = {\n      permittedIP: this.state.ipList.join(\",\"),\n      permittedReferer: this.state.refererList.join(\",\"),\n    };\n    const promisedKey = client.generateApiKey(selectedApp.appId, keyType,\n      this.state.accessTokenRequest.timeout, restrictions);\n\n    promisedKey\n      .then((response) => {\n        console.log('Non empty response received');\n        const apikey = { accessToken: response.body.apikey, validityTime: response.body.validityTime, isOauth: false };\n        this.setState(() => ({\n          apikey, open: true, showToken: true,\n          ipList: [], refererList: []\n        }));\n        this.setState({isGenerating: false});\n      })\n      .catch((error) => {\n        if (process.env.NODE_ENV !== 'production') {\n          console.log(error);\n        }\n        const { status } = error;\n        if (status === 404) {\n          this.setState({\n            notFound: true, ipList: [],\n            refererList: []\n          });\n        }\n        this.setState({isGenerating: false});\n      });\n  }\n\n  render() {\n    const { classes, keyType } = this.props;\n    const {\n      showToken, accessTokenRequest, open, apikey, newIP, ipList,\n      newReferer, refererList, restrictSchema, isGenerating,\n    } = this.state;\n    return (\n      <Grid container direction=\"row\" spacing={0} justify=\"left\" alignItems=\"left\">\n        <Grid item md={5} xs={12}>\n          <ApiKeyRestriction\n            updateNewIp={this.updateNewIp}\n            newIP={newIP}\n            updateIpList={this.updateIpList}\n            ipList={ipList}\n            restrictSchema={restrictSchema}\n            updateRestrictSchema={this.updateRestrictSchema}\n            refererList={refererList}\n            newReferer={newReferer}\n            updateNewReferer={this.updateNewReferer}\n            updateRefererList={this.updateRefererList}\n          />\n          <FormGroup row className={classes.formGroup}>\n\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={this.handleClickOpen}\n              className={classes.generateKey}\n            >\n              {\"Generate Key\"}\n            </Button>\n            <Typography\n              component=\"div\"\n              variant=\"body2\"\n              className={classes.formLabel}\n            >\n              <FormattedMessage\n                id=\"Shared.AppsAndKeys.ApiKeyManager.generate.key.help\"\n                defaultMessage=\"Use the Generate Key button to generate a self-contained JWT token.\"\n              />\n            </Typography>\n          </FormGroup>\n          <Dialog\n            open={open}\n            onClose={this.handleClose}\n            aria-labelledby=\"form-dialog-title\"\n            className={classes.dialog}\n          >\n            <DialogTitle id=\"responsive-dialog-title\" className={classes.dialogTitle}>\n              {\"Generate API Key\"}\n            </DialogTitle>\n            <DialogContent className={classes.dialogContent}>\n              <DialogContentText>\n                {!showToken && (\n                  <ApiKey\n                    updateAccessTokenRequest={this.updateAccessTokenRequest}\n                    accessTokenRequest={accessTokenRequest}\n                  />\n                )}\n                {showToken && <ViewToken token={apikey} />}\n              </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n              {!showToken && (\n                <Button\n                  onClick={this.generateKeys}\n                  disabled={!accessTokenRequest.timeout || isGenerating}\n                  color=\"primary\"\n                  variant='contained'\n                  className={classes.button}\n                >\n                  <FormattedMessage\n                    id=\"Shared.AppsAndKeys.ViewKeys.consumer.generate.btn\"\n                    defaultMessage=\"Generate\"\n                  />\n                   {isGenerating && <CircularProgress size={24} />}\n                </Button>\n              )}\n              <Button onClick={this.handleClose} color=\"primary\" autoFocus>\n                <FormattedMessage\n                  id=\"Shared.AppsAndKeys.ViewKeys.consumer.close.btn\"\n                  defaultMessage=\"Close\"\n                />\n              </Button>\n            </DialogActions>\n          </Dialog>\n        </Grid>\n        {restrictSchema === \"ip\" && (\n          <Grid item md={5} xs={12}>\n            <Card>\n              <CardContent>\n                <Typography variant=\"h5\" component=\"h2\">\n                  <FormattedMessage\n                    id=\"Shared.AppsAndKeys.ViewKeys.apiKeyRestriction.ip.example.heading\"\n                    defaultMessage=\"Examples of IP Addresses allowed\"\n                  />\n                </Typography>\n                <Typography variant=\"body1\" component=\"p\" className={classes.cardBody}>\n                  <FormattedMessage\n                    id=\"Shared.AppsAndKeys.ViewKeys.apiKeyRestriction.ip.example.content\"\n                    defaultMessage={\n                      \"Specify one IPv4 or IPv6 or a subnet using CIDR notation{linebreak}Examples: {ip1}, {ip2}, {ip3} or {ip4}\"\n                    }\n                    values={{\n                      linebreak: <br />,\n                      ip1: <b>192.168.1.2</b>,\n                      ip2: <b>152.12.0.0/13</b>,\n                      ip3: <b>2002:eb8::2</b>,\n                      ip4: <b>1001:ab8::/44</b>,\n                    }}\n                  />\n                </Typography>\n\n              </CardContent>\n            </Card>\n          </Grid>\n        )}\n        {restrictSchema === \"referer\" && (\n          <Grid item md={5} xs={12}>\n            <Card>\n              <CardContent>\n                <Typography variant=\"h5\" component=\"h2\">\n                  <FormattedMessage\n                    id=\"Shared.AppsAndKeys.ViewKeys.apiKeyRestriction.referer.example.heading\"\n                    defaultMessage=\"Examples of URLs allowed to restrict websites\"\n                  />\n                </Typography>\n                <Typography variant=\"body1\" component=\"p\" className={classes.cardBody}>\n                  <FormattedMessage\n                    id=\"Shared.AppsAndKeys.ViewKeys.apiKeyRestriction.ip.example.content.message\"\n                    defaultMessage={\n                      \"A specific URL with an exact path: {url1}{linebreak}Any URL in a single subdomain, using a wildcard asterisk (*): {url2}{linebreak}Any subdomain or path URLs in a single domain, using wildcard asterisks (*): {url3}\"\n                    }\n                    values={{\n                      linebreak: <br />,\n                      url1: <b>www.example.com/path</b>,\n                      url2: <b>sub.example.com/*</b>,\n                      url3: <b>*.example.com/*</b>,\n                    }}\n                  />\n                </Typography>\n              </CardContent>\n            </Card>\n          </Grid>\n        )}\n      </Grid>\n    );\n  }\n}\n\nApiKeyManager.propTypes = {\n  classes: PropTypes.shape({}).isRequired,\n  selectedApp: PropTypes.shape({\n    tokenType: PropTypes.string.isRequired,\n  }).isRequired,\n  keyType: PropTypes.string.isRequired,\n  intl: PropTypes.shape({ formatMessage: PropTypes.func }).isRequired,\n};\n\nexport default injectIntl(withStyles(styles)(ApiKeyManager));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from '@material-ui/core/Button';\nimport { FormattedMessage } from 'react-intl';\nimport { ScopeValidation, resourceMethods, resourcePaths } from '../../Shared/ScopeValidation';\n\nconst styles = (theme) => ({\n    root: {\n        display: 'flex',\n    },\n    buttonGap: {\n        marginLeft: 20,\n        '& span span': {\n            color: theme.palette.getContrastText(theme.palette.primary.main),\n        },\n    },\n    select: {\n        width: 100,\n    },\n});\n\n/**\n * @class SubscriptionPolicySelect\n * @extends {React.Component}\n */\nclass SubscriptionPolicySelect extends React.Component {\n    /**\n     * Create instance of SubscriptionPolicySelect\n     * @param {JSON} props Props pass from the parent.\n     * @returns {void}\n     */\n    constructor(props) {\n        super(props);\n        this.state = {\n            selectedPolicy: null,\n        };\n    }\n\n    /**\n     * Calls when component did mount.\n     * @returns {void}\n     */\n    componentDidMount() {\n        const { policies } = this.props;\n\n        this.setState({ selectedPolicy: policies[0] });\n    }\n\n    /**\n     * renders method.\n     * @returns {JSX} Policy selection component.\n     */\n    render() {\n        const {\n            classes, policies, apiId, handleSubscribe, applicationId,\n        } = this.props;\n        const { selectedPolicy } = this.state;\n\n        return (\n            policies\n            && (\n                <div className={classes.root}>\n                    <Select\n                        className={classes.select}\n                        value={selectedPolicy}\n                        onChange={(e) => {\n                            this.setState({ selectedPolicy: e.target.value });\n                        }}\n                    >\n                        {policies.map((policy) => (\n                            <MenuItem value={policy} key={policy}>\n                                {policy}\n                            </MenuItem>\n                        ))}\n\n                    </Select>\n                    <ScopeValidation\n                        resourcePath={resourcePaths.SUBSCRIPTIONS}\n                        resourceMethod={resourceMethods.POST}\n                    >\n                        <Button\n                            variant='contained'\n                            size='small'\n                            className={classes.buttonGap}\n                            onClick={() => {\n                                handleSubscribe(applicationId, apiId, selectedPolicy);\n                            }}\n                        >\n                            <FormattedMessage defaultMessage='Subscribe' id='Apis.Listing.SubscriptionPolicySelect.subscribe' />\n                        </Button>\n                    </ScopeValidation>\n                </div>\n            )\n        );\n    }\n}\n\nSubscriptionPolicySelect.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    policies: PropTypes.shape({}).isRequired,\n    apiId: PropTypes.string.isRequired,\n    handleSubscribe: PropTypes.func.isRequired,\n    applicationId: PropTypes.string.isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(SubscriptionPolicySelect);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport MUIDataTable from 'mui-datatables';\nimport { injectIntl } from 'react-intl';\nimport API from 'AppData/api';\nimport NoApi from 'AppComponents/Apis/Listing/NoApi';\nimport Loading from 'AppComponents/Base/Loading/Loading';\nimport Alert from 'AppComponents/Shared/Alert';\nimport ResourceNotFound from '../../Base/Errors/ResourceNotFound';\nimport SubscriptionPolicySelect from './SubscriptionPolicySelect';\n\n\nconst styles = () => ({\n    root: {\n        display: 'flex',\n    },\n    buttonGap: {\n        marginRight: 10,\n    },\n});\n\n/**\n * @class APICardView\n * @param {number} page page number\n * @extends {React.Component}\n */\nclass APICardView extends React.Component {\n    /**\n     * @param {JSON} props properties passed from parent\n     */\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: null,\n            loading: true,\n        };\n        this.page = 0;\n        this.count = 100;\n        this.rowsPerPage = 10;\n        this.pageType = null;\n    }\n\n    /**\n     * component mount callback\n     */\n    componentDidMount() {\n        this.getData();\n    }\n\n    /**\n     * @param {JSON} prevProps props from previous component instance\n     */\n    componentDidUpdate(prevProps) {\n        const { subscriptions, searchText } = this.props;\n        if (subscriptions.length !== prevProps.subscriptions.length) {\n            this.getData();\n        } else if (searchText !== prevProps.searchText) {\n            this.page = 0;\n            this.getData();\n        }\n    }\n\n    // get data\n    getData = () => {\n        const { intl } = this.props;\n        this.xhrRequest()\n            .then((data) => {\n                const { body } = data;\n                const { list, pagination } = body;\n                const { total } = pagination;\n                this.count = total;\n                this.setState({ data: this.updateUnsubscribedAPIsList(list) });\n            })\n            .catch((error) => {\n                const { response } = error;\n                const { setTenantDomain } = this.props;\n                if (response && response.body.code === 901300) {\n                    setTenantDomain('INVALID');\n                    Alert.error(intl.formatMessage({\n                        defaultMessage: 'Invalid tenant domain',\n                        id: 'Apis.Listing.ApiTableView.invalid.tenant.domain',\n                    }));\n                } else {\n                    Alert.error(intl.formatMessage({\n                        defaultMessage: 'Error While Loading APIs',\n                        id: 'Apis.Listing.ApiTableView.error.loading',\n                    }));\n                }\n            })\n            .finally(() => {\n                this.setState({ loading: false });\n            });\n    };\n\n    /**\n    *\n    * Get List of the Ids of all APIs that have been already subscribed\n    *\n    * @returns {*} Ids of respective APIs\n    * @memberof APICardView\n    */\n    getIdsOfSubscribedEntities() {\n        const { subscriptions } = this.props;\n\n        // Get arrays of the API Ids and remove all null/empty references by executing 'fliter(Boolean)'\n        const subscribedAPIIds = subscriptions.map((sub) => sub.apiId).filter(Boolean);\n\n        return subscribedAPIIds;\n    }\n\n    changePage = (page) => {\n        const { intl } = this.props;\n        this.page = page;\n        this.setState({ loading: true });\n        this.xhrRequest()\n            .then((data) => {\n                const { body } = data;\n                const { list } = body;\n                this.setState({\n                    data: this.updateUnsubscribedAPIsList(list),\n                });\n            })\n            .catch(() => {\n                Alert.error(intl.formatMessage({\n                    defaultMessage: 'Error While Loading APIs',\n                    id: 'Apis.Listing.ApiTableView.error.loading',\n                }));\n            })\n            .finally(() => {\n                this.setState({ loading: false });\n            });\n    };\n\n    xhrRequest = () => {\n        const { searchText } = this.props;\n        const { page, rowsPerPage } = this;\n        const api = new API();\n\n        if (searchText && searchText !== '') {\n            return api.getAllAPIs({ query: `${searchText} status:published`, limit: this.rowsPerPage, offset: page * rowsPerPage });\n        } else {\n            return api.getAllAPIs({ query: 'status:published', limit: this.rowsPerPage, offset: page * rowsPerPage });\n        }\n    };\n\n    /**\n    * Update list of unsubscribed APIs\n    * @param {Array} list array of apis\n    * @returns {Array} filtered list of apis\n    * @memberof APICardView\n    */\n    updateUnsubscribedAPIsList(list) {\n        const listLocal = list;\n        const subscribedIds = this.getIdsOfSubscribedEntities();\n        for (let i = 0; i < listLocal.length; i++) {\n            if (!((!subscribedIds.includes(listLocal[i].id) && !listLocal[i].advertiseInfo.advertised)\n                && listLocal[i].isSubscriptionAvailable)) {\n                listLocal[i].throttlingPolicies = null;\n            }\n        }\n        return listLocal;\n        // return unsubscribedAPIList;\n    }\n\n    /**\n     * @returns {JSX} render api card view\n     * @memberof APICardView\n     */\n    render() {\n        const { apisNotFound } = this.props;\n        const { loading, data } = this.state;\n        const { page, count, rowsPerPage } = this;\n\n        if (apisNotFound) {\n            return <ResourceNotFound />;\n        }\n\n        const {\n            handleSubscribe, applicationId, intl,\n        } = this.props;\n        const columns = [\n            {\n                name: 'id',\n                label: intl.formatMessage({\n                    id: 'Apis.Listing.APIList.id',\n                    defaultMessage: 'Id',\n                }),\n                options: {\n                    display: 'excluded',\n                },\n            },\n            {\n                name: 'isSubscriptionAvailable',\n                label: intl.formatMessage({\n                    id: 'Apis.Listing.APIList.isSubscriptionAvailable',\n                    defaultMessage: 'Is Subscription Available',\n                }),\n                options: {\n                    display: 'excluded',\n                },\n            },\n            {\n                name: 'name',\n                label: intl.formatMessage({\n                    id: 'Apis.Listing.APIList.name',\n                    defaultMessage: 'Name',\n                }),\n            },\n            {\n                name: 'version',\n                label: intl.formatMessage({\n                    id: 'Apis.Listing.APIList.version',\n                    defaultMessage: 'Version',\n                }),\n            },\n            {\n                name: 'throttlingPolicies',\n                label: intl.formatMessage({\n                    id: 'Apis.Listing.APIList.subscription.status',\n                    defaultMessage: 'Subscription Status',\n                }),\n                options: {\n                    customBodyRender: (value, tableMeta) => {\n                        if (tableMeta.rowData) {\n                            const apiId = tableMeta.rowData[0];\n                            const isSubscriptionAvailable = tableMeta.rowData[1];\n                            const policies = value;\n                            if (!isSubscriptionAvailable) {\n                                return (intl.formatMessage({\n                                    id: 'Apis.Listing.APICardView.not.allowed',\n                                    defaultMessage: 'Not Allowed',\n                                }));\n                            }\n                            if (!policies) {\n                                return (intl.formatMessage({\n                                    id: 'Apis.Listing.APICardView.already.subscribed',\n                                    defaultMessage: 'Subscribed',\n                                }));\n                            }\n                            return (\n                                <SubscriptionPolicySelect\n                                    key={apiId}\n                                    policies={policies}\n                                    apiId={apiId}\n                                    handleSubscribe={(app, api, policy) => handleSubscribe(app, api, policy)}\n                                    applicationId={applicationId}\n                                />\n                            );\n                        }\n                        return <span />;\n                    },\n                },\n            },\n        ];\n        const options = {\n            search: false,\n            title: false,\n            filter: false,\n            print: false,\n            download: false,\n            viewColumns: false,\n            customToolbar: false,\n            responsive: 'stacked',\n            serverSide: true,\n            count,\n            page,\n            onTableChange: (action, tableState) => {\n                switch (action) {\n                    case 'changePage':\n                        this.changePage(tableState.page);\n                        break;\n                    default:\n                        break;\n                }\n            },\n            selectableRows: 'none',\n            rowsPerPage,\n            onChangeRowsPerPage: (numberOfRows) => {\n                const { page: pageInner, count: countInner } = this;\n                if (pageInner * numberOfRows > countInner) {\n                    this.page = 0;\n                }\n                this.rowsPerPage = numberOfRows;\n                this.getData();\n            },\n        };\n        if (loading) {\n            return <Loading />;\n        }\n        if ((data && data.length === 0) || !data) {\n            return <NoApi />;\n        }\n        return (\n            <MUIDataTable\n                title=''\n                data={data}\n                columns={columns}\n                options={options}\n            />\n        );\n    }\n}\n\nAPICardView.propTypes = {\n    intl: PropTypes.shape({\n        formatMessage: PropTypes.func,\n    }).isRequired,\n};\nexport default injectIntl(withStyles(styles, { withTheme: true })(APICardView));\n","/*\n * Copyright (c), WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog from '@material-ui/core/Dialog';\nimport Button from '@material-ui/core/Button';\nimport MUIDataTable from 'mui-datatables';\nimport Icon from '@material-ui/core/Icon';\nimport { FormattedMessage } from 'react-intl';\nimport Subscription from 'AppData/Subscription';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = (theme) => ({\n    dialogWrapper: {\n        '& span,& p , & h5, & label, & td, & li': {\n            color: theme.palette.getContrastText(theme.palette.background.paper),\n        },\n        '& div, & input, & p.MuiFormHelperText-root': {\n            color: theme.palette.getContrastText(theme.palette.background.paper),\n        },\n    },\n});\n\nconst columns = ['Name', 'Value'];\n\nconst options = {\n    filterType: 'checkbox',\n    sort: false,\n    search: false,\n    viewColumns: false,\n    filter: false,\n    selectableRowsHeader: false,\n    selectableRows: 'none',\n    pagination: false,\n    download: false,\n};\n\n/**\n *\n * @param {JSON} props props passed from parent\n * @returns {JSX} jsx output\n */\nfunction Invoice(props) {\n    const {\n        subscriptionId, classes, tiers,\n    } = props;\n    const [showPopup, setShowPopup] = useState(false);\n    const [showErrorPopup, setShowErrorPopup] = useState(false);\n    const [invoice, setInvoice] = useState(null);\n\n    /**\n     * Handle the popup for invoice\n     */\n    const handlePopup = () => {\n        setShowPopup(true);\n        setInvoice(null);\n        const client = new Subscription();\n        const promiseInvoice = client.getMonetizationInvoice(subscriptionId);\n        promiseInvoice.then((response) => {\n            if (response && response.obj) {\n                const invoiceData = [];\n                const { obj: { properties } } = response;\n                Object.keys(properties).forEach((invoiveItem) => {\n                    const insideArray = [];\n                    insideArray.push(invoiveItem);\n                    insideArray.push(properties[invoiveItem]);\n                    invoiceData.push(insideArray);\n                });\n                setInvoice(invoiceData);\n            }\n        }).catch((error) => {\n            console.error(error);\n            setShowErrorPopup(true);\n        });\n    };\n\n    /**\n     * Handle closing the popup for invoice\n     */\n    const handleClose = () => {\n        setShowPopup(false);\n    };\n\n    const handleAlertClose = () => {\n        setShowErrorPopup(false);\n    };\n\n    return (\n        <>\n            <Button\n                color='default'\n                onClick={handlePopup}\n                startIcon={<Icon>receipt</Icon>}\n                disabled={tiers.length === 0}\n            >\n                <FormattedMessage\n                    id='Applications.Details.Invoice.view.btn'\n                    defaultMessage='View Invoice'\n                />\n            </Button>\n            {invoice ? (\n                <Dialog\n                    open={showPopup}\n                    onClose={handleClose}\n                    fullWidth='true'\n                    className={classes.dialogWrapper}\n                >\n                    {invoice && (\n                        <MUIDataTable\n                            title='Upcoming Invoice'\n                            data={invoice}\n                            columns={columns}\n                            options={options}\n                        />\n                    )}\n                </Dialog>\n            ) : (\n                <Dialog\n                    open={showErrorPopup}\n                    onClose={handleAlertClose}\n                    fullWidth='true'\n                    className={classes.dialogWrapper}\n                >\n                    <DialogTitle>\n                        <FormattedMessage\n                            id='Applications.Details.Invoice.no.data.available'\n                            defaultMessage='No Data Available'\n                        />\n                    </DialogTitle>\n                    <DialogContent>\n                        <DialogContentText id='invoice-dialog-description'>\n                            <FormattedMessage\n                                id='Applications.Details.Invoice.pending.invoice.data'\n                                defaultMessage='Pending invoice data not found for this subscription.'\n                            />\n\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={handleAlertClose} color='primary'>\n                            <FormattedMessage\n                                id='Applications.Details.Invoice.close'\n                                defaultMessage='Close'\n                            />\n\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            )}\n        </>\n    );\n}\nInvoice.defaultProps = {\n    tiers: [],\n};\nInvoice.propTypes = {\n    subscriptionId: PropTypes.string.isRequired,\n    tiers: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport default withStyles(styles)(Invoice);\n","/* eslint-disable no-nested-ternary */\n/*\n * Copyright (c), WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport Icon from '@material-ui/core/Icon';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\nimport Slide from '@material-ui/core/Slide';\nimport Button from '@material-ui/core/Button';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TextField from '@material-ui/core/TextField';\nimport { FormattedMessage } from 'react-intl';\nimport { ScopeValidation, resourceMethods, resourcePaths } from 'AppComponents/Shared/ScopeValidation';\nimport PropTypes from 'prop-types';\nimport Api from 'AppData/api';\nimport Subscription from 'AppData/Subscription';\nimport { mdiOpenInNew } from '@mdi/js';\nimport { Icon as MDIcon } from '@mdi/react';\nimport Invoice from './Invoice';\n\n/**\n *\n *\n * @class SubscriptionTableData\n * @extends {React.Component}\n */\nclass SubscriptionTableData extends React.Component {\n    /**\n     *Creates an instance of SubscriptionTableData.\n     * @param {*} props properties\n     * @memberof SubscriptionTableData\n     */\n    constructor(props) {\n        super(props);\n        this.state = {\n            openMenu: false,\n            openMenuEdit: false,\n            isMonetizedAPI: false,\n            isDynamicUsagePolicy: false,\n            tiers: [],\n            selectedTier: '',\n        };\n        this.handleRequestClose = this.handleRequestClose.bind(this);\n        this.handleRequestOpen = this.handleRequestOpen.bind(this);\n        this.handleRequestDelete = this.handleRequestDelete.bind(this);\n        this.checkIfDynamicUsagePolicy = this.checkIfDynamicUsagePolicy.bind(this);\n        this.checkIfMonetizedAPI = this.checkIfMonetizedAPI.bind(this);\n        this.populateSubscriptionTiers = this.populateSubscriptionTiers.bind(this);\n        this.handleSubscriptionTierUpdate = this.handleSubscriptionTierUpdate.bind(this);\n        this.handleRequestCloseEditMenu = this.handleRequestCloseEditMenu.bind(this);\n        this.handleRequestOpenEditMenu = this.handleRequestOpenEditMenu.bind(this);\n        this.setSelectedTier = this.setSelectedTier.bind(this);\n    }\n\n    componentDidMount() {\n        this.checkIfMonetizedAPI(this.props.subscription.apiId);\n        this.checkIfDynamicUsagePolicy(this.props.subscription.subscriptionId);\n        this.populateSubscriptionTiers(this.props.subscription.apiId);\n    }\n\n    /**\n    *\n    *\n    * @memberof SubscriptionTableData\n    */\n    setSelectedTier(e) {\n        this.setState({ selectedTier: e });\n    }\n\n    /**\n     *\n     * Handle onclick for subscription delete\n     * @param {*} subscriptionId subscription id\n     * @memberof SubscriptionTableData\n     */\n    handleRequestDelete(subscriptionId) {\n        const { handleSubscriptionDelete } = this.props;\n        this.setState({ openMenu: false });\n        if (handleSubscriptionDelete) {\n            handleSubscriptionDelete(subscriptionId);\n        }\n    }\n\n    /**\n     *\n     *\n     * @memberof SubscriptionTableData\n     */\n    handleRequestCloseEditMenu() {\n        this.setState({ openMenuEdit: false });\n    }\n\n    /**\n    *\n    *\n    * @memberof SubscriptionTableData\n    */\n    handleRequestOpenEditMenu() {\n        this.setState({ openMenuEdit: true });\n    }\n\n    /**\n    * @memberof SubscriptionTableData\n    */\n    handleRequestOpen() {\n        this.setState({ openMenu: true });\n    }\n\n    /**\n     * @memberof SubscriptionTableData\n     */\n    handleRequestClose() {\n        this.setState({ openMenu: false });\n    }\n\n    /**\n     *\n     * Handle onclick for subscription update\n     * @param {*} apiId subscription id\n     * @param {*} subscriptionId subscription id\n     * @param {*} throttlingPolicy throttling tier\n     * @param {*} status subscription status\n     * @memberof SubscriptionTableData\n     */\n    handleSubscriptionTierUpdate(apiId, subscriptionId, requestedThrottlingPolicy, status, currentThrottlingPolicy) {\n        const { handleSubscriptionUpdate } = this.props;\n        this.setState({ openMenuEdit: false });\n        if (handleSubscriptionUpdate) {\n            handleSubscriptionUpdate(apiId, subscriptionId, currentThrottlingPolicy, status, requestedThrottlingPolicy);\n        }\n    }\n\n    /**\n     * Getting the policies from api details\n     *\n     */\n    populateSubscriptionTiers(apiUUID) {\n        const apiClient = new Api();\n        const promisedApi = apiClient.getAPIById(apiUUID);\n        promisedApi.then((response) => {\n            if (response && response.data) {\n                const api = JSON.parse(response.data);\n                const apiTiers = api.tiers;\n                const tiers = [];\n                for (let i = 0; i < apiTiers.length; i++) {\n                    const { tierName } = apiTiers[i];\n                    tiers.push({ value: tierName, label: tierName });\n                }\n                this.setState({ tiers });\n            }\n        });\n    }\n\n    /**\n     * Check if the API is monetized\n     * @param apiUUID API UUID\n     */\n    checkIfMonetizedAPI(apiUUID) {\n        const apiClient = new Api();\n        const promisedApi = apiClient.getAPIById(apiUUID);\n        promisedApi.then((response) => {\n            if (response && response.data) {\n                const apiData = JSON.parse(response.data);\n                this.setState({ isMonetizedAPI: apiData.monetization.enabled });\n            }\n        });\n    }\n\n    /**\n     * Check if the policy is dynamic usage type\n     * @param subscriptionUUID subscription UUID\n     */\n    checkIfDynamicUsagePolicy(subscriptionUUID) {\n        const client = new Subscription();\n        const promisedSubscription = client.getSubscription(subscriptionUUID);\n        promisedSubscription.then((response) => {\n            if (response && response.body) {\n                const subscriptionData = JSON.parse(response.data);\n                if (subscriptionData.throttlingPolicy) {\n                    const apiClient = new Api();\n                    const promisedPolicy = apiClient.getTierByName(subscriptionData.throttlingPolicy, 'subscription');\n                    promisedPolicy.then((policyResponse) => {\n                        const policyData = JSON.parse(policyResponse.data);\n                        if (policyData.monetizationAttributes.billingType\n                             && (policyData.monetizationAttributes.billingType\n                                === 'DYNAMICRATE')) {\n                            this.setState({ isDynamicUsagePolicy: true });\n                        }\n                    });\n                }\n            }\n        });\n    }\n\n    /**\n    * @inheritdoc\n    * @memberof SubscriptionTableData\n    */\n    render() {\n        const {\n            subscription: {\n                apiInfo, status, throttlingPolicy, subscriptionId, apiId, requestedThrottlingPolicy, applicationId,\n            },\n        } = this.props;\n        const {\n            openMenu, isMonetizedAPI, isDynamicUsagePolicy, openMenuEdit, selectedTier, tiers,\n        } = this.state;\n        let link = (\n            <Link\n                to={tiers.length === 0 ? '' : '/apis/' + apiId}\n                style={{ cursor: tiers.length === 0 ? 'default' : '' }}\n                external\n            >\n                {apiInfo.name + ' - ' + apiInfo.version + ' '}\n                <MDIcon path={mdiOpenInNew} size='12px' />\n            </Link>\n        );\n        if (apiInfo.type === 'WEBSUB') {\n            link = (\n                <Link\n                    to={tiers.length === 0 ? '' : '/applications/' + applicationId + '/webhooks/' + apiId}\n                    style={{ cursor: tiers.length === 0 ? 'default' : '' }}\n                >\n                    {apiInfo.name + ' - ' + apiInfo.version}\n                </Link>\n            );\n        }\n        return (\n            <TableRow hover>\n                <TableCell>\n                    { link }\n                </TableCell>\n                <TableCell>{apiInfo.lifeCycleStatus}</TableCell>\n                <TableCell>{throttlingPolicy}</TableCell>\n                <TableCell>{status}</TableCell>\n                <TableCell>\n                    <Button\n                        color='default'\n                        onClick={this.handleRequestOpenEditMenu}\n                        startIcon={<Icon>edit</Icon>}\n                        disabled={tiers.length === 0}\n                    >\n                        <FormattedMessage\n                            id='Applications.Details.SubscriptionTableData.edit.text'\n                            defaultMessage='Edit'\n                        />\n                    </Button>\n                    <Dialog open={openMenuEdit} transition={Slide}>\n                        <DialogTitle>\n                            <FormattedMessage\n                                id='Applications.Details.SubscriptionTableData.update.subscription'\n                                defaultMessage='Update Subscription'\n                            />\n                        </DialogTitle>\n                        <DialogContent>\n                            <DialogContentText>\n                                <FormattedMessage\n                                    id='Applications.Details.SubscriptionTableData.update.business.plan'\n                                    defaultMessage='Current Business Plan : '\n                                />\n                                {throttlingPolicy}\n                                <div>\n                                    { (status === 'BLOCKED')\n                                        ? (\n                                            <FormattedMessage\n                                                id={'Applications.Details.SubscriptionTableData.update.'\n                                                + 'throttling.policy.blocked'}\n                                                defaultMessage={'Subscription is in BLOCKED state. '\n                                                + 'You need to unblock the subscription inorder to edit the tier'}\n                                            />\n                                        )\n                                        : (status === 'ON_HOLD')\n                                            ? (\n                                                <FormattedMessage\n                                                    id={'Applications.Details.SubscriptionTableData.update.'\n                                                    + 'throttling.policy.onHold'}\n                                                    defaultMessage={'Subscription is currently ON_HOLD state.'\n                                                    + ' You need to get approval to the subscription before editing the tier'}\n                                                />\n                                            )\n                                            : (status === 'REJECTED')\n                                                ? (\n                                                    <FormattedMessage\n                                                        id={'Applications.Details.SubscriptionTableData.update.'\n                                                        + 'throttling.policy.rejected'}\n                                                        defaultMessage={'Subscription is currently REJECTED state.'\n                                                        + ' You need to get approval to the subscription before editing the tier'}\n                                                    />\n                                                )\n                                                : (\n                                                    <div>\n                                                        <TextField\n                                                            required\n                                                            fullWidth\n                                                            id='outlined-select-currency'\n                                                            select\n                                                            label={(\n                                                                <FormattedMessage\n                                                                    defaultMessage='Business Plan'\n                                                                    id={'Applications.Details.SubscriptionTableData.'\n                                                                    + 'update.business.plan.name'}\n                                                                />\n                                                            )}\n                                                            value={selectedTier}\n                                                            name='throttlingPolicy'\n                                                            onChange={(e) => this.setSelectedTier(e.target.value)}\n                                                            helperText={(\n                                                                <FormattedMessage\n                                                                    defaultMessage={'Assign a new Business plan to the '\n                                                                    + 'existing subscription'}\n                                                                    id={'Applications.Details.SubscriptionTableData.'\n                                                                    + 'update.throttling.policy.helper'}\n                                                                />\n                                                            )}\n                                                            margin='normal'\n                                                            variant='outlined'\n                                                        >\n                                                            {this.state.tiers.map((tier) => (\n                                                                <MenuItem key={tier.value} value={tier.value}>\n                                                                    {tier.label}\n                                                                </MenuItem>\n                                                            ))}\n                                                        </TextField>\n                                                        { (status === 'TIER_UPDATE_PENDING')\n                                                    && (\n                                                        <div>\n                                                            <FormattedMessage\n                                                                id={'Applications.Details.SubscriptionTableData.update.'\n                                                                + 'throttling.policy.tier.update'}\n                                                                defaultMessage='Pending Tier Update : '\n                                                            />\n                                                            {requestedThrottlingPolicy}\n                                                        </div>\n                                                    )}\n                                                    </div>\n                                                )}\n                                </div>\n                            </DialogContentText>\n                        </DialogContent>\n                        <DialogActions>\n                            <Button dense onClick={this.handleRequestCloseEditMenu}>\n                                <FormattedMessage\n                                    id='Applications.Details.SubscriptionTableData.cancel'\n                                    defaultMessage='Cancel'\n                                />\n                            </Button>\n                            <Button\n                                variant='contained'\n                                disabled={(status === 'BLOCKED' || status === 'ON_HOLD' || status === 'REJECTED')}\n                                dense\n                                color='primary'\n                                onClick={() => this.handleSubscriptionTierUpdate(apiId,\n                                    subscriptionId, selectedTier, status, throttlingPolicy)}\n                            >\n                                <FormattedMessage\n                                    id='Applications.Details.SubscriptionTableData.update'\n                                    defaultMessage='Update'\n                                />\n                            </Button>\n                        </DialogActions>\n                    </Dialog>\n                    <ScopeValidation\n                        resourcePath={resourcePaths.SINGLE_SUBSCRIPTION}\n                        resourceMethod={resourceMethods.DELETE}\n                    >\n                        <Button\n                            color='default'\n                            onClick={this.handleRequestOpen}\n                            startIcon={<Icon>delete</Icon>}\n                            disabled={tiers.length === 0}\n                        >\n                            <FormattedMessage\n                                id='Applications.Details.SubscriptionTableData.delete.text'\n                                defaultMessage='Delete'\n                            />\n                        </Button>\n                    </ScopeValidation>\n\n                    <Dialog open={openMenu} transition={Slide}>\n                        <DialogTitle>Confirm</DialogTitle>\n                        <DialogContent>\n                            <DialogContentText>\n                                <FormattedMessage\n                                    id='Applications.Details.SubscriptionTableData.delete.subscription.confirmation'\n                                    defaultMessage='Are you sure you want to delete the Subscription?'\n                                />\n                            </DialogContentText>\n                        </DialogContent>\n                        <DialogActions>\n                            <Button dense onClick={this.handleRequestClose}>\n                                <FormattedMessage\n                                    id='Applications.Details.SubscriptionTableData.cancel'\n                                    defaultMessage='Cancel'\n                                />\n                            </Button>\n                            <Button dense variant='contained' color='primary' onClick={() => this.handleRequestDelete(subscriptionId)}>\n                                <FormattedMessage\n                                    id='Applications.Details.SubscriptionTableData.delete'\n                                    defaultMessage='Delete'\n                                />\n                            </Button>\n                        </DialogActions>\n                    </Dialog>\n                    { isMonetizedAPI && (\n                        <Invoice\n                            tiers={tiers}\n                            subscriptionId={subscriptionId}\n                            isDynamicUsagePolicy={isDynamicUsagePolicy}\n                        />\n                    ) }\n                </TableCell>\n            </TableRow>\n        );\n    }\n}\nSubscriptionTableData.propTypes = {\n    subscription: PropTypes.shape({\n        apiInfo: PropTypes.shape({\n            name: PropTypes.string.isRequired,\n            version: PropTypes.string.isRequired,\n            lifeCycleStatus: PropTypes.string.isRequired,\n        }).isRequired,\n        throttlingPolicy: PropTypes.string.isRequired,\n        subscriptionId: PropTypes.string.isRequired,\n        apiId: PropTypes.string.isRequired,\n        status: PropTypes.string.isRequired,\n        requestedThrottlingPolicy: PropTypes.string.isRequired,\n    }).isRequired,\n    handleSubscriptionDelete: PropTypes.func.isRequired,\n    handleSubscriptionUpdate: PropTypes.func.isRequired,\n};\nexport default SubscriptionTableData;\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Icon from '@material-ui/core/Icon';\nimport IconButton from '@material-ui/core/IconButton';\nimport Dialog from '@material-ui/core/Dialog';\nimport Button from '@material-ui/core/Button';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport Progress from 'AppComponents/Shared/Progress';\nimport Alert from 'AppComponents/Shared/Alert';\nimport APIList from 'AppComponents/Apis/Listing/APICardView';\nimport ResourceNotFound from 'AppComponents/Base/Errors/ResourceNotFound';\nimport Subscription from 'AppData/Subscription';\nimport Api from 'AppData/api';\nimport { app } from 'Settings';\nimport InlineMessage from 'AppComponents/Shared/InlineMessage';\nimport SubscriptionTableData from './SubscriptionTableData';\n\n/**\n *\n * @inheritdoc\n * @param {*} theme theme\n */\nconst styles = (theme) => ({\n    searchRoot: {\n        padding: '2px 4px',\n        display: 'flex',\n        alignItems: 'center',\n        width: 400,\n        flex: 1,\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n    },\n    input: {\n        marginLeft: theme.spacing(1),\n        flex: 1,\n    },\n    iconButton: {\n        padding: 10,\n    },\n    divider: {\n        height: 28,\n        margin: 4,\n    },\n    root: {\n        padding: theme.spacing(3),\n        '& h5': {\n            color: theme.palette.getContrastText(theme.palette.background.default),\n        },\n    },\n    subscribePop: {\n        '& span, & h5, & label, & input, & td, & li': {\n            color: theme.palette.getContrastText(theme.palette.background.paper),\n        },\n    },\n    firstCell: {\n        paddingLeft: 0,\n    },\n    cardTitle: {\n        paddingLeft: theme.spacing(2),\n    },\n    cardContent: {\n        '& table tr td': {\n            paddingLeft: theme.spacing(1),\n        },\n        '& table tr:nth-child(even)': {\n            backgroundColor: theme.custom.listView.tableBodyEvenBackgrund,\n            '& td, & a': {\n                color: theme.palette.getContrastText(theme.custom.listView.tableBodyEvenBackgrund),\n            },\n        },\n        '& table tr:nth-child(odd)': {\n            backgroundColor: theme.custom.listView.tableBodyOddBackgrund,\n            '& td, & a': {\n                color: theme.palette.getContrastText(theme.custom.listView.tableBodyOddBackgrund),\n            },\n        },\n        '& table th': {\n            backgroundColor: theme.custom.listView.tableHeadBackground,\n            color: theme.palette.getContrastText(theme.custom.listView.tableHeadBackground),\n            paddingLeft: theme.spacing(1),\n        },\n\n    },\n    titleWrapper: {\n        display: 'flex',\n        alignItems: 'center',\n        paddingBottom: theme.spacing(2),\n        '& h5': {\n            marginRight: theme.spacing(1),\n        },\n    },\n    dialogTitle: {\n        display: 'flex',\n        alignItems: 'flex-start',\n        padding: theme.spacing(1),\n    },\n    genericMessageWrapper: {\n        margin: theme.spacing(2),\n    },\n    searchWrapper: {\n        flex: 1,\n    },\n    searchResults: {\n        height: 30,\n        display: 'flex',\n        paddingTop: theme.spacing(1),\n        paddingRight: 0,\n        paddingBottom: 0,\n        paddingLeft: theme.spacing(2),\n    },\n    clearSearchIcon: {\n        cursor: 'pointer',\n    },\n    subsTable: {\n        '& td': {\n            padding: '4px 8px',\n        },\n    },\n});\n/**\n *\n *\n * @class Subscriptions\n * @extends {React.Component}\n */\nclass Subscriptions extends React.Component {\n    /**\n     *Creates an instance of Subscriptions.\n     * @param {*} props properties\n     * @memberof Subscriptions\n     */\n    constructor(props) {\n        super(props);\n        this.state = {\n            subscriptions: null,\n            apisNotFound: false,\n            subscriptionsNotFound: false,\n            isAuthorize: true,\n            openDialog: false,\n            searchText: '',\n        };\n        this.handleSubscriptionDelete = this.handleSubscriptionDelete.bind(this);\n        this.handleSubscriptionUpdate = this.handleSubscriptionUpdate.bind(this);\n        this.updateSubscriptions = this.updateSubscriptions.bind(this);\n        this.handleSubscribe = this.handleSubscribe.bind(this);\n        this.handleOpenDialog = this.handleOpenDialog.bind(this);\n        this.handleSearchTextChange = this.handleSearchTextChange.bind(this);\n        this.handleSearchTextTmpChange = this.handleSearchTextTmpChange.bind(this);\n        this.handleClearSearch = this.handleClearSearch.bind(this);\n        this.handleEnterPress = this.handleEnterPress.bind(this);\n        this.searchTextTmp = '';\n    }\n\n    /**\n     *\n     *\n     * @memberof Subscriptions\n     */\n    componentDidMount() {\n        const {\n            match: {\n                params: { applicationId },\n            },\n        } = this.props;\n        this.updateSubscriptions(applicationId);\n    }\n\n    handleOpenDialog() {\n        this.setState((prevState) => ({ openDialog: !prevState.openDialog, searchText: '' }));\n    }\n\n    /**\n     *\n     * Update subscriptions list of Application\n     * @param {*} applicationId application id\n     * @memberof Subscriptions\n     */\n    updateSubscriptions(applicationId) {\n        const client = new Subscription();\n        const subscriptionLimit = app.subscriptionLimit || 1000;\n        const promisedSubscriptions = client.getSubscriptions(null, applicationId, subscriptionLimit);\n        promisedSubscriptions\n            .then((response) => {\n                this.setState({ subscriptions: response.body.list });\n            })\n            .catch((error) => {\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ subscriptionsNotFound: true });\n                } else if (status === 401) {\n                    this.setState({ isAuthorize: false });\n                }\n            });\n    }\n\n    /**\n     *\n     * Handle subscription deletion of application\n     * @param {*} subscriptionId subscription id\n     * @memberof Subscriptions\n     */\n    handleSubscriptionDelete(subscriptionId) {\n        const client = new Subscription();\n        const promisedDelete = client.deleteSubscription(subscriptionId);\n\n        promisedDelete\n            .then((response) => {\n                if (response.status !== 200) {\n                    console.log(response);\n                    Alert.info('Something went wrong while deleting the Subscription!');\n                    return;\n                }\n                Alert.info('Subscription deleted successfully!');\n                const { subscriptions } = this.state;\n                for (const endpointIndex in subscriptions) {\n                    if (\n                        Object.prototype.hasOwnProperty.call(subscriptions, endpointIndex)\n                        && subscriptions[endpointIndex].subscriptionId === subscriptionId\n                    ) {\n                        subscriptions.splice(endpointIndex, 1);\n                        break;\n                    }\n                }\n                this.setState({ subscriptions });\n            })\n            .catch((error) => {\n                const { status } = error;\n                if (status === 401) {\n                    this.setState({ isAuthorize: false });\n                }\n                Alert.error('Error occurred when deleting subscription');\n            });\n    }\n\n    /**\n     *\n     * Handle subscription update of application\n     *\n     * @param {*} apiId API id\n     * @param {*} subscriptionId subscription id\n     * @param {*} throttlingPolicy throttling tier\n     * @param {*} status subscription status\n     * @memberof Subscriptions\n     */\n    handleSubscriptionUpdate(apiId, subscriptionId, currentThrottlingPolicy, status, requestedThrottlingPolicy) {\n        const {\n            match: {\n                params: { applicationId },\n            },\n        } = this.props;\n        const client = new Subscription();\n        const promisedUpdate = client.updateSubscription(\n            applicationId,\n            apiId,\n            subscriptionId,\n            currentThrottlingPolicy,\n            status,\n            requestedThrottlingPolicy,\n        );\n\n        promisedUpdate\n            .then((response) => {\n                if (response.status !== 200 && response.status !== 201) {\n                    console.log(response);\n                    Alert.info('Something went wrong while updating the Subscription!');\n                    return;\n                }\n                Alert.info('Business Plan updated successfully!');\n                this.updateSubscriptions(applicationId);\n            })\n            .catch((error) => {\n                const { status: statusInner } = error;\n                if (statusInner === 401) {\n                    this.setState({ isAuthorize: false });\n                }\n                Alert.error('Error occurred when updating subscription');\n            });\n    }\n\n    /**\n     * Handle onClick of subscribing to an API\n     * @param {*} applicationId application id\n     * @param {*} apiId api id\n     * @param {*} policy policy\n     * @memberof Subscriptions\n     */\n    handleSubscribe(applicationId, apiId, policy) {\n        const api = new Api();\n        const { intl } = this.props;\n        if (!policy) {\n            Alert.error(intl.formatMessage({\n                id: 'Applications.Details.Subscriptions.select.a.subscription.policy',\n                defaultMessage: 'Select a subscription policy',\n            }));\n            return;\n        }\n\n        const promisedSubscribe = api.subscribe(apiId, applicationId, policy);\n        promisedSubscribe\n            .then((response) => {\n                if (response.status !== 201) {\n                    Alert.error(intl.formatMessage({\n                        id: 'Applications.Details.Subscriptions.error.occurred.during.subscription.not.201',\n                        defaultMessage: 'Error occurred during subscription',\n                    }));\n                } else {\n                    if (response.body.status === 'ON_HOLD') {\n                        Alert.info(intl.formatMessage({\n                            defaultMessage: 'Your subscription request has been submitted and is now awaiting '\n                                + 'approval.',\n                            id: 'subscription.pending',\n                        }));\n                    } else {\n                        Alert.info(intl.formatMessage({\n                            id: 'Applications.Details.Subscriptions.subscription.successful',\n                            defaultMessage: 'Subscription successful',\n                        }));\n                    }\n                    this.updateSubscriptions(applicationId);\n                }\n            })\n            .catch((error) => {\n                const { status } = error;\n                if (status === 401) {\n                    this.setState({ isAuthorize: false });\n                }\n                Alert.error(intl.formatMessage({\n                    id: 'Applications.Details.Subscriptions.error.occurred.during.subscription',\n                    defaultMessage: 'Error occurred during subscription',\n                }));\n            });\n    }\n\n    handleSearchTextChange() {\n        this.setState({ searchText: this.searchTextTmp });\n    }\n\n    handleSearchTextTmpChange(event) {\n        this.searchTextTmp = event.target.value;\n    }\n\n    handleClearSearch() {\n        this.setState({ searchText: '' });\n        this.searchInputElem.value = '';\n    }\n\n    handleEnterPress(e) {\n        if (e.keyCode === 13) {\n            e.preventDefault();\n            this.handleSearchTextChange();\n        }\n    }\n\n    /**\n     * @inheritdoc\n     * @memberof Subscriptions\n     */\n    render() {\n        const { isAuthorize, openDialog, searchText } = this.state;\n\n        if (!isAuthorize) {\n            window.location = app.context + '/services/configs';\n        }\n\n        const {\n            subscriptions, apisNotFound, subscriptionsNotFound,\n        } = this.state;\n        const {\n            match: {\n                params: { applicationId },\n            },\n        } = this.props;\n        const { classes, intl } = this.props;\n\n        if (subscriptions) {\n            return (\n                <div className={classes.root}>\n                    <div className={classes.titleWrapper}>\n                        <Typography variant='h5' className={classes.keyTitle}>\n                            <FormattedMessage\n                                id='Applications.Details.Subscriptions.subscription.management'\n                                defaultMessage='Subscription Management'\n                            />\n                        </Typography>\n                        <Button\n                            color='secondary'\n                            className={classes.buttonElm}\n                            size='small'\n                            onClick={this.handleOpenDialog}\n                        >\n                            <Icon>add_circle_outline</Icon>\n                            <FormattedMessage\n                                id='Applications.Details.Subscriptions.subscription.management.add'\n                                defaultMessage='Subscribe APIs'\n                            />\n                        </Button>\n                    </div>\n                    <Grid container className='tab-grid' spacing={2}>\n                        <Grid item xs={12} xl={11}>\n                            {(subscriptions && subscriptions.length === 0)\n                                ? (\n                                    <div className={classes.genericMessageWrapper}>\n                                        <InlineMessage type='info' className={classes.dialogContainer}>\n                                            <Typography variant='h5' component='h3'>\n                                                <FormattedMessage\n                                                    id='Applications.Details.Subscriptions.no.subscriptions'\n                                                    defaultMessage='No Subscriptions Available'\n                                                />\n                                            </Typography>\n                                            <Typography component='p'>\n                                                <FormattedMessage\n                                                    id='Applications.Details.Subscriptions.no.subscriptions.content'\n                                                    defaultMessage='No subscriptions are available for this Application'\n                                                />\n                                            </Typography>\n                                        </InlineMessage>\n                                    </div>\n                                )\n                                : (\n                                    <div className={classes.cardContent}>\n                                        {subscriptionsNotFound ? (\n                                            <ResourceNotFound />\n                                        ) : (\n                                            <Table className={classes.subsTable}>\n                                                <TableHead>\n                                                    <TableRow>\n                                                        <TableCell className={classes.firstCell}>\n                                                            <FormattedMessage\n                                                                id='Applications.Details.Subscriptions.api.name'\n                                                                defaultMessage='API'\n                                                            />\n                                                        </TableCell>\n                                                        <TableCell>\n                                                            <FormattedMessage\n                                                                id={`Applications.Details.Subscriptions\n                                                                        .subscription.state`}\n                                                                defaultMessage='Lifecycle State'\n                                                            />\n                                                        </TableCell>\n                                                        <TableCell>\n                                                            <FormattedMessage\n                                                                id={`Applications.Details.Subscriptions\n                                                                        .business.plan`}\n                                                                defaultMessage='Business Plan'\n                                                            />\n                                                        </TableCell>\n                                                        <TableCell>\n                                                            <FormattedMessage\n                                                                id='Applications.Details.Subscriptions.Status'\n                                                                defaultMessage='Subscription Status'\n                                                            />\n                                                        </TableCell>\n                                                        <TableCell>\n                                                            <FormattedMessage\n                                                                id='Applications.Details.Subscriptions.action'\n                                                                defaultMessage='Action'\n                                                            />\n                                                        </TableCell>\n                                                    </TableRow>\n                                                </TableHead>\n                                                <TableBody>\n                                                    {subscriptions\n                                                                && subscriptions.map((subscription) => {\n                                                                    return (\n                                                                        <SubscriptionTableData\n                                                                            key={subscription.subscriptionId}\n                                                                            subscription={subscription}\n                                                                            handleSubscriptionDelete={\n                                                                                this.handleSubscriptionDelete\n                                                                            }\n                                                                            handleSubscriptionUpdate={\n                                                                                this.handleSubscriptionUpdate\n                                                                            }\n                                                                        />\n                                                                    );\n                                                                })}\n                                                </TableBody>\n                                            </Table>\n                                        )}\n                                    </div>\n                                )}\n                        </Grid>\n                    </Grid>\n                    <Dialog\n                        onClose={this.handleOpenDialog}\n                        aria-labelledby='simple-dialog-title'\n                        open={openDialog}\n                        maxWidth='lg'\n                        className={classes.subscribePop}\n                    >\n                        <MuiDialogTitle disableTypography className={classes.dialogTitle}>\n                            <Typography variant='h6'>\n                                <FormattedMessage\n                                    id='Applications.Details.Subscriptions.subscription.management.add'\n                                    defaultMessage='Subscribe APIs'\n                                />\n                            </Typography>\n                            <Box className={classes.searchWrapper}>\n                                <Paper component='form' className={classes.searchRoot}>\n                                    {searchText && (\n                                        <HighlightOffIcon\n                                            className={classes.clearSearchIcon}\n                                            onClick={this.handleClearSearch}\n                                        />\n                                    )}\n                                    <InputBase\n                                        className={classes.input}\n                                        placeholder={intl.formatMessage({\n                                            defaultMessage: 'Search APIs',\n                                            id: 'Applications.Details.Subscriptions.search',\n                                        })}\n                                        inputProps={{\n                                            'aria-label': intl.formatMessage({\n                                                defaultMessage: 'Search APIs',\n                                                id: 'Applications.Details.Subscriptions.search',\n                                            }),\n                                        }}\n                                        inputRef={(el) => { this.searchInputElem = el; }}\n                                        onChange={this.handleSearchTextTmpChange}\n                                        onKeyDown={this.handleEnterPress}\n                                    />\n                                    <IconButton\n                                        className={classes.iconButton}\n                                        aria-label='search'\n                                        onClick={this.handleSearchTextChange}\n                                    >\n                                        <SearchIcon />\n                                    </IconButton>\n                                </Paper>\n                                <Box className={classes.searchResults}>\n                                    {(searchText && searchText !== '') ? (\n                                        <>\n                                            <Typography variant='caption'>\n                                                <FormattedMessage\n                                                    id='Applications.Details.Subscriptions.filter.msg'\n                                                    defaultMessage='Filtered APIs for '\n                                                />\n                                                {searchText}\n                                            </Typography>\n                                        </>\n                                    ) : (\n                                        <Typography variant='caption'>\n                                            <FormattedMessage\n                                                id='Applications.Details.Subscriptions.filter.msg.all.apis'\n                                                defaultMessage='Displaying all APIs'\n                                            />\n                                        </Typography>\n                                    )}\n                                </Box>\n\n                            </Box>\n\n                            <IconButton aria-label='close' className={classes.closeButton} onClick={this.handleOpenDialog}>\n                                <Icon>cancel</Icon>\n                            </IconButton>\n                        </MuiDialogTitle>\n                        <Box padding={2}>\n                            <APIList\n                                apisNotFound={apisNotFound}\n                                subscriptions={subscriptions}\n                                applicationId={applicationId}\n                                handleSubscribe={(appInner, api, policy) => this.handleSubscribe(appInner, api, policy)}\n                                searchText={searchText}\n                            />\n                        </Box>\n                    </Dialog>\n                </div>\n            );\n        } else {\n            return (\n                <Progress />\n            );\n        }\n    }\n}\nSubscriptions.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    match: PropTypes.shape({\n        params: PropTypes.shape({\n            applicationId: PropTypes.string,\n        }).isRequired,\n    }).isRequired,\n    intl: PropTypes.shape({}).isRequired,\n};\n\nexport default injectIntl(withStyles(styles)(Subscriptions));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Icon from '@material-ui/core/Icon';\nimport Button from '@material-ui/core/Button';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport Loading from 'AppComponents/Base/Loading/Loading';\nimport ResourceNotFound from 'AppComponents/Base/Errors/ResourceNotFound';\nimport VerticalDivider from 'AppComponents/Shared/VerticalDivider';\nimport Grid from '@material-ui/core/Grid';\nimport API from 'AppData/api';\nimport Application from 'AppData/Application';\nimport Alert from 'AppComponents/Shared/Alert';\nimport AuthManager from 'AppData/AuthManager';\nimport DeleteConfirmation from '../Listing/DeleteConfirmation';\n\n/**\n * @param {*} theme theme details\n * @returns {Object}\n */\nconst styles = (theme) => {\n    const mainBack = theme.custom.infoBar.background || '#ffffff';\n    const infoBarHeight = theme.custom.infoBar.height || 70;\n    const starColor = theme.custom.infoBar.starColor || theme.palette.getContrastText(mainBack);\n\n    return {\n        root: {\n            height: infoBarHeight,\n            background: mainBack,\n            color: theme.palette.getContrastText(mainBack),\n            borderBottom: 'solid 1px ' + theme.palette.grey.A200,\n            display: 'flex',\n            alignItems: 'center',\n            paddingLeft: theme.spacing(2),\n        },\n        backIcon: {\n            color: theme.palette.primary.main,\n            fontSize: 56,\n            cursor: 'pointer',\n        },\n        backText: {\n            color: theme.palette.primary.main,\n            cursor: 'pointer',\n            fontFamily: theme.typography.fontFamily,\n        },\n        starRate: {\n            fontSize: 40,\n            color: starColor,\n        },\n        starRateMy: {\n            fontSize: 70,\n            color: theme.palette.primary.main,\n        },\n        rateLink: {\n            cursor: 'pointer',\n            lineHeight: '70px',\n        },\n        topBar: {\n            display: 'flex',\n            paddingBottom: theme.spacing(2),\n        },\n        infoContent: {\n            color: theme.palette.getContrastText(mainBack),\n            background: mainBack,\n            padding: theme.spacing(3),\n            '& td, & th': {\n                color: theme.palette.getContrastText(mainBack),\n            },\n        },\n        infoContentBottom: {\n            background: theme.custom.infoBar.sliderBackground,\n            color: theme.palette.getContrastText(theme.custom.infoBar.sliderBackground),\n            borderBottom: 'solid 1px ' + theme.palette.grey.A200,\n        },\n        bootstrapRoot: {\n            padding: 0,\n            'label + &': {\n                marginTop: theme.spacing(3),\n            },\n        },\n        bootstrapInput: {\n            borderRadius: 4,\n            backgroundColor: theme.palette.common.white,\n            border: '1px solid #ced4da',\n            padding: '5px 12px',\n            width: 350,\n            transition: theme.transitions.create(['border-color', 'box-shadow']),\n            fontFamily: [\n                '-apple-system',\n                'BlinkMacSystemFont',\n                '\"Segoe UI\"',\n                'Roboto',\n                '\"Helvetica Neue\"',\n                'Arial',\n                'sans-serif',\n                '\"Apple Color Emoji\"',\n                '\"Segoe UI Emoji\"',\n                '\"Segoe UI Symbol\"',\n            ].join(','),\n            '&:focus': {\n                borderColor: '#80bdff',\n                boxShadow: '0 0 0 0.2rem rgba(0,123,255,.25)',\n            },\n        },\n        epWrapper: {\n            display: 'flex',\n        },\n        prodLabel: {\n            lineHeight: '30px',\n            marginRight: 10,\n            width: 100,\n        },\n        contentWrapper: {\n            maxWidth: theme.custom.contentAreaWidth - theme.custom.leftMenu.width,\n            alignItems: 'center',\n        },\n        ratingBoxWrapper: {\n            position: 'relative',\n            display: 'flex',\n            alignItems: 'center',\n        },\n        ratingBox: {\n            backgroundColor: theme.custom.leftMenu.background,\n            border: '1px solid rgb(71, 211, 244)',\n            borderRadius: '5px',\n            display: 'flex',\n            position: 'absolute',\n            top: 14,\n            height: '40px',\n            color: theme.palette.getContrastText(theme.custom.leftMenu.background),\n            alignItems: 'center',\n            left: '0',\n            paddingLeft: '5px',\n            paddingRight: '5px',\n        },\n        userRating: {\n            display: 'flex',\n            alignItems: 'flex-end',\n        },\n        verticalDividerStar: {\n            borderLeft: 'solid 1px ' + theme.palette.grey.A200,\n            height: 40,\n            marginRight: theme.spacing(1),\n            marginLeft: theme.spacing(1),\n        },\n        backLink: {\n            alignItems: 'center',\n            textDecoration: 'none',\n            display: 'flex',\n        },\n        ratingSummery: {\n            alignItems: 'center',\n            flexDirection: 'column',\n            display: 'flex',\n        },\n        infoBarMain: {\n            width: '100%',\n        },\n        buttonView: {\n            textAlign: 'left',\n            justifyContent: 'left',\n            display: 'flex',\n            paddingLeft: theme.spacing(2),\n            cursor: 'pointer',\n        },\n        buttonOverviewText: {\n            display: 'inline-block',\n            paddingTop: 3,\n        },\n        button: {\n            display: 'inline-grid',\n            cursor: 'pointer',\n            '& .material-icons, & span': {\n                color: theme.palette.getContrastText(theme.custom.infoBar.background),\n            },\n        },\n        editButton: {\n            display: 'inline-grid',\n            cursor: 'pointer',\n            '& .material-icons, & span': {\n                color: theme.palette.getContrastText(theme.custom.infoBar.background),\n            },\n        },\n        iconButton: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            flexDirection: 'column',\n        },\n        appNameXSmall: {\n            whiteSpace: 'nowrap',\n            overflowX: 'auto',\n            overflowY: 'hidden',\n            maxWidth: 200,\n            lineHeight: 1.3,\n        },\n        appNameSmall: {\n            whiteSpace: 'nowrap',\n            overflowX: 'auto',\n            overflowY: 'hidden',\n            maxWidth: 310,\n            lineHeight: 1.3,\n        },\n        appNameMid: {\n            whiteSpace: 'nowrap',\n            overflowX: 'auto',\n            overflowY: 'hidden',\n            maxWidth: 640,\n            lineHeight: 1.3,\n        },\n        appNameBig: {\n            whiteSpace: 'nowrap',\n            overflowX: 'auto',\n            overflowY: 'hidden',\n            maxWidth: 980,\n            lineHeight: 1.3,\n        },\n        linkTitle: {\n            color: theme.palette.getContrastText(theme.custom.infoBar.background),\n        },\n    };\n};\n/**\n *\n *\n * @class InfoBar\n * @extends {React.Component}\n */\nclass InfoBar extends React.Component {\n    /**\n     * @param {Object} props props passed from above\n     */\n    constructor(props) {\n        super(props);\n        this.state = {\n            notFound: false,\n            showOverview: true,\n            isDeleteOpen: false,\n            applicationOwner: '',\n        };\n        this.toggleOverview = this.toggleOverview.bind(this);\n        this.handleAppDelete = this.handleAppDelete.bind(this);\n        this.handleDeleteConfimation = this.handleDeleteConfimation.bind(this);\n        this.toggleDeleteConfirmation = this.toggleDeleteConfirmation.bind(this);\n    }\n\n    /**\n     * @memberof InfoBar\n     */\n    componentDidMount() {\n        const client = new API();\n        const { applicationId } = this.props;\n        // Get application\n        const promisedApplication = client.getApplication(applicationId);\n\n        promisedApplication\n            .then((response) => {\n                this.setState({ applicationOwner: response.obj.owner });\n                const promisedPolicy = client.getTierByName(response.obj.throttlingPolicy, 'application');\n                return Promise.all([response, promisedPolicy]);\n            })\n            .then((response) => {\n                const [application] = response.map((data) => data.obj);\n                this.setState({ application });\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ notFound: true });\n                }\n            });\n    }\n\n\n    toggleDeleteConfirmation = () => {\n        this.setState(({ isDeleteOpen }) => ({ isDeleteOpen: !isDeleteOpen }));\n    }\n\n    /**\n     * Handles application deletion\n     * @memberof InfoBar\n     */\n    handleAppDelete() {\n        const { applicationId, intl } = this.props;\n        const { application } = this.state;\n        const promisedDelete = Application.deleteApp(applicationId);\n        let message = intl.formatMessage({\n            defaultMessage: 'Application {name} deleted successfully!',\n            id: 'Applications.Details.InfoBar.application.deleted.successfully',\n        }, { name: application.name });\n        promisedDelete.then((ok) => {\n            if (ok) {\n                Alert.info(message);\n                this.toggleDeleteConfirmation();\n            }\n            this.props.history.push('/applications');\n        }).catch((error) => {\n            console.log(error);\n            message = intl.formatMessage({\n                defaultMessage: 'Error while deleting application {name}',\n                id: 'Applications.Details.InfoBar.application.deleting.error',\n            }, { name: application.name });\n            Alert.error(message);\n        });\n    }\n\n    /**\n     * Handles delete confimation\n     * @memberof InfoBar\n     */\n    handleDeleteConfimation() {\n        const { isDeleteOpen } = this.state;\n        this.setState({ isDeleteOpen: !isDeleteOpen });\n    }\n\n    /**\n     * Toggles the showOverview state\n     * @param {boolean} todo toggle state\n     * @memberof InfoBar\n     */\n    toggleOverview(todo) {\n        if (typeof todo === 'boolean') {\n            this.setState({ showOverview: todo });\n        } else {\n            this.setState((prevState) => ({ showOverview: !prevState.showOverview }));\n        }\n    }\n\n    /**\n     * @returns {div}\n     * @memberof InfoBar\n     */\n    render() {\n        const {\n            classes, theme, applicationId,\n        } = this.props;\n        const {\n            application, notFound, isDeleteOpen, applicationOwner,\n        } = this.state;\n\n        if (notFound) {\n            return (\n                <ResourceNotFound\n                    message={(\n                        <FormattedMessage\n                            id='Applications.Details.InfoBar.listing.resource.not.found'\n                            defaultMessage='Resource Not Fount'\n                        />\n                    )}\n                />\n            );\n        }\n\n        if (!application) {\n            return <Loading />;\n        }\n        const isUserOwner = AuthManager.getUser().name === applicationOwner;\n\n        return (\n            <div className={classes.infoBarMain}>\n                <div className={classes.root}>\n                    <Grid item xs={10}>\n                        <div style={{ marginLeft: theme.spacing(1) }}>\n                            <Link to={'/applications/' + applicationId + '/overview'} className={classes.linkTitle}>\n                                <Typography id='itest-info-bar-application-name' variant='h4'>{application.name}</Typography>\n                            </Link>\n                        </div>\n                        <div style={{ marginLeft: theme.spacing(1) }}>\n                            <Typography variant='caption' gutterBottom align='left'>\n                                {application.subscriptionCount}\n                                {' '}\n                                <FormattedMessage\n                                    id='Applications.Details.InfoBar.subscriptions'\n                                    defaultMessage='Subscriptions'\n                                />\n                            </Typography>\n                        </div>\n                    </Grid>\n                    {isUserOwner && (\n                        <>\n                            <VerticalDivider height={70} />\n                            <Grid item xs={1} m={1} className={classes.editButton}>\n                                <Link to={`/applications/${applicationId}/edit/fromView`} className={classes.editButton}>\n                                    <Button\n                                        style={{ padding: '4px' }}\n                                        color='default'\n                                        classes={{ label: classes.iconButton }}\n                                        aria-label={(\n                                            <FormattedMessage\n                                                id='Applications.Details.InfoBar.edit'\n                                                defaultMessage='Edit'\n                                            />\n                                        )}\n                                    >\n                                        <Icon>edit</Icon>\n                                        <Typography variant='caption' style={{ marginTop: '2px' }}>\n                                            <FormattedMessage\n                                                id='Applications.Details.InfoBar.edit.text'\n                                                defaultMessage='Edit'\n                                            />\n                                        </Typography>\n                                    </Button>\n                                </Link>\n                            </Grid>\n                            <VerticalDivider height={70} />\n                            <Grid item xs={1} m={1} className={classes.button}>\n                                <Button\n                                    onClick={this.handleDeleteConfimation}\n                                    disabled={AuthManager.getUser().name !== applicationOwner}\n                                    color='default'\n                                    classes={{ label: classes.iconButton }}\n                                    aria-label={(\n                                        <FormattedMessage\n                                            id='Applications.Details.InfoBar.delete'\n                                            defaultMessage='Delete'\n                                        />\n                                    )}\n                                >\n                                    <Icon>delete</Icon>\n                                    <Typography variant='caption' style={{ marginTop: '2px' }}>\n                                        <FormattedMessage\n                                            id='Applications.Details.InfoBar.text'\n                                            defaultMessage='Delete'\n                                        />\n                                    </Typography>\n                                </Button>\n                                <DeleteConfirmation\n                                    handleAppDelete={this.handleAppDelete}\n                                    isDeleteOpen={isDeleteOpen}\n                                    toggleDeleteConfirmation={this.toggleDeleteConfirmation}\n                                />\n                            </Grid>\n                        </>\n                    )}\n                </div>\n            </div>\n        );\n    }\n}\nInfoBar.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    theme: PropTypes.shape({}).isRequired,\n    applicationId: PropTypes.string.isRequired,\n};\n\nexport default injectIntl(withRouter(withStyles(styles, { withTheme: true })(InfoBar)));\n","import React, { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport Icon from '@material-ui/core/Icon';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { app } from 'Settings';\nimport Loading from 'AppComponents/Base/Loading/Loading';\nimport API from 'AppData/api';\nimport ResourceNotFound from 'AppComponents/Base/Errors/ResourceNotFound';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        padding: theme.spacing(3, 2),\n        '& td, & th': {\n            color: theme.palette.getContrastText(theme.custom.infoBar.background),\n        },\n        background: theme.custom.infoBar.background,\n    },\n    table: {\n        minWidth: '100%',\n    },\n    leftCol: {\n        width: 200,\n    },\n    iconAligner: {\n        display: 'flex',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n    },\n    iconTextWrapper: {\n        display: 'inline-block',\n        paddingLeft: 20,\n    },\n    iconEven: {\n        color: theme.custom.infoBar.iconOddColor,\n        width: theme.spacing(3),\n    },\n    iconOdd: {\n        color: theme.custom.infoBar.iconOddColor,\n        width: theme.spacing(3),\n    },\n    noKeysRoot: {\n        backgroundImage: `url(${app.context + theme.custom.overviewPage.keysBackground})`,\n        height: '100%',\n        backgroundPosition: 'center',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n        minHeight: 192,\n        display: 'flex',\n        alignItems: 'center',\n    },\n    heading: {\n        color: theme.palette.getContrastText(theme.palette.background.paper),\n        paddingLeft: theme.spacing(1),\n    },\n    emptyBox: {\n        background: '#ffffff55',\n        color: theme.palette.getContrastText(theme.palette.background.paper),\n        border: 'solid 1px #fff',\n        padding: theme.spacing(2),\n        width: '100%',\n    },\n    summaryRoot: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    actionPanel: {\n        justifyContent: 'flex-start',\n    },\n}));\n\n/**\n * Render application overview page.\n * @param {JSON} props Props passed down from parent.\n * @returns {JSX} jsx output from render.\n */\nfunction Overview(props) {\n    const classes = useStyles();\n    const [application, setApplication] = useState(null);\n    const [tierDescription, setTierDescription] = useState(null);\n    const [notFound, setNotFound] = useState(false);\n    const { match: { params: { applicationId } } } = props;\n    useEffect(() => {\n        const client = new API();\n        // Get application\n        const promisedApplication = client.getApplication(applicationId);\n        promisedApplication\n            .then((response) => {\n                const promisedTier = client.getTierByName(response.obj.throttlingPolicy, 'application');\n                const appInner = response.obj;\n                promisedTier.then((tierResponse) => {\n                    setTierDescription(tierResponse.obj.description);\n                    setApplication(appInner);\n                });\n            }).catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.log(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    setNotFound(true);\n                } else {\n                    setNotFound(false);\n                }\n            });\n    }, []);\n    if (notFound) {\n        return <ResourceNotFound />;\n    }\n    if (!application) {\n        return <Loading />;\n    }\n    return (\n        <>\n            <div className={classes.root}>\n                <Table className={classes.table}>\n                    <TableBody>\n                        <TableRow>\n                            <TableCell component='th' scope='row' className={classes.leftCol}>\n                                <div className={classes.iconAligner}>\n                                    <Icon className={classes.iconEven}>description</Icon>\n                                    <span className={classes.iconTextWrapper}>\n                                        <Typography variant='caption' gutterBottom align='left'>\n                                            <FormattedMessage\n                                                id='Applications.Details.Overview.description'\n                                                defaultMessage='Description'\n                                            />\n                                        </Typography>\n                                    </span>\n                                </div>\n                            </TableCell>\n                            <TableCell>\n                                {application.description}\n                            </TableCell>\n                        </TableRow>\n                        {tierDescription\n                            && (\n                                <TableRow>\n                                    <TableCell component='th' scope='row' className={classes.leftCol}>\n                                        <div className={classes.iconAligner}>\n                                            <Icon className={classes.iconOdd}>settings_input_component</Icon>\n                                            <span className={classes.iconTextWrapper}>\n                                                <Typography variant='caption' gutterBottom align='left'>\n                                                    <FormattedMessage\n                                                        id='Applications.Details.InfoBar.business.plan'\n                                                        defaultMessage='Business Plan'\n                                                    />\n                                                </Typography>\n                                            </span>\n                                        </div>\n                                    </TableCell>\n                                    {application\n                                        && (\n                                            <TableCell>\n                                                {application.throttlingPolicy}\n                                                {' '}\n                                                {`(${tierDescription})`}\n                                            </TableCell>\n                                        )}\n                                </TableRow>\n                            )}\n                        <TableRow>\n                            <TableCell component='th' scope='row' className={classes.leftCol}>\n                                <div className={classes.iconAligner}>\n                                    <Icon className={classes.iconOdd}>assignment_turned_in</Icon>\n                                    <span className={classes.iconTextWrapper}>\n                                        <Typography variant='caption' gutterBottom align='left'>\n                                            <FormattedMessage\n                                                id='Applications.Details.Overview.workflow.status'\n                                                defaultMessage='Workflow Status'\n                                            />\n                                        </Typography>\n                                    </span>\n                                </div>\n                            </TableCell>\n                            <TableCell>\n                                {application.status}\n                            </TableCell>\n                        </TableRow>\n                        <TableRow>\n                            <TableCell component='th' scope='row' className={classes.leftCol}>\n                                <div className={classes.iconAligner}>\n                                    <Icon className={classes.iconEven}>account_box</Icon>\n                                    <span className={classes.iconTextWrapper}>\n                                        <Typography variant='caption' gutterBottom align='left'>\n                                            <FormattedMessage\n                                                id='Applications.Details.Overview.application.owner'\n                                                defaultMessage='Application Owner'\n                                            />\n                                        </Typography>\n                                    </span>\n                                </div>\n                            </TableCell>\n                            <TableCell>\n                                {application.owner}\n                            </TableCell>\n                        </TableRow>\n                        {application.attributes\n                            && (\n                                Object.keys(application.attributes).map((attr, index) => {\n                                    const attrValue = application.attributes[attr];\n                                    return (\n                                        <TableRow key={attr}>\n                                            <TableCell component='th' scope='row' className={classes.leftCol}>\n                                                <div className={classes.iconAligner}>\n                                                    <Icon className={classNames(\n                                                        { [classes.iconEven]: index % 2 !== 0 },\n                                                        { [classes.iconOdd]: index % 2 === 0 },\n                                                    )}\n                                                    >\n                                                        web_asset\n                                                    </Icon>\n                                                    <span className={classes.iconTextWrapper}>\n                                                        <Typography variant='caption' gutterBottom align='left'>\n                                                            {attr}\n                                                        </Typography>\n                                                    </span>\n                                                </div>\n                                            </TableCell>\n                                            <TableCell>\n                                                {attrValue}\n                                            </TableCell>\n                                        </TableRow>\n                                    );\n                                }))}\n\n                    </TableBody>\n                </Table>\n            </div>\n        </>\n    );\n}\nexport default injectIntl(Overview);\n","/*\n * Copyright (c) 2021, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles/index';\nimport { matchPath } from 'react-router';\nimport Typography from '@material-ui/core/Typography';\nimport { FormattedMessage } from 'react-intl';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport Grid from '@material-ui/core/Grid';\nimport Alert from 'AppComponents/Shared/Alert';\nimport Api from 'AppData/api';\nimport _ from 'lodash';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport RemoveCircleIcon from '@material-ui/icons/RemoveCircle';\n\ndayjs.extend(relativeTime);\n\nconst useStyles = makeStyles((theme) => (\n    {\n        buttonIcon: {\n            marginRight: 10,\n        },\n        paper: {\n            margin: theme.spacing(1),\n            padding: theme.spacing(1),\n        },\n        grid: {\n            marginTop: theme.spacing(4),\n            marginBottom: theme.spacing(4),\n            paddingRight: theme.spacing(2),\n            justifyContent: 'center',\n        },\n        userNotificationPaper: {\n            padding: theme.spacing(2),\n        },\n        titleSub: {\n            marginLeft: theme.spacing(2),\n            paddingTop: theme.spacing(2),\n            paddingBottom: theme.spacing(2),\n        },\n        root: {\n            padding: theme.spacing(3),\n            '& h5': {\n                color: theme.palette.getContrastText(theme.palette.background.default),\n            },\n        },\n        titleWrapper: {\n            display: 'flex',\n            alignItems: 'center',\n            paddingBottom: theme.spacing(2),\n            '& h5': {\n                marginRight: theme.spacing(1),\n            },\n        },\n        listWrapper: {\n            width: '50%',\n        },\n        subscriptionRow: {\n            paddingLeft: '16px',\n        },\n        callbackurl: {\n            fontSize: '12px',\n        },\n        subscriptionTimestamp: {\n            float: 'right',\n        },\n        SubscriptionHeader: {\n            paddingBottom: '0px',\n            paddingLeft: '0px',\n            paddingTop: '0px',\n        },\n    }\n));\n\n/**\n * @param {JSON} props props passed from parent\n * @returns {JSX} jsx output\n */\nexport default function WebHookDetails(props) {\n    const classes = useStyles();\n    const { location: { pathname } } = props;\n    const match = matchPath(pathname, {\n        path: '/applications/:applicationId/webhooks/:apiId',\n        exact: true,\n        strict: false,\n    });\n    const { applicationId } = props.match.params;\n    const { apiId } = match.params;\n\n    const [subscribedTopics, setSubscribedTopics] = useState('');\n\n    const getLogoForDeliveryStatus = (subscription) => {\n        switch (subscription.deliveryStatus) {\n            case 1:\n                return <CheckCircleIcon style={{ color: 'green', fontSize: '14px', paddingTop: '3px' }} />;\n            case 2:\n                return <CancelIcon style={{ color: 'red', fontSize: '14px', paddingTop: '3px' }} />;\n            default:\n                return <RemoveCircleIcon style={{ color: 'black', fontSize: '14px', paddingTop: '3px' }} />;\n        }\n    };\n\n    useEffect(() => {\n        const apiClient = new Api();\n        const promisedSubscriptions = apiClient.getWebhookubScriptions(apiId, applicationId);\n        promisedSubscriptions.then((response) => {\n            const sortedSubscriptions = _.groupBy(response.obj.list, 'topic');\n            setSubscribedTopics(sortedSubscriptions);\n        }).catch((error) => {\n            console.log(error);\n            Alert.error('Error while retrieving webhook subscriptions');\n        });\n    }, []);\n\n    return (\n        <div className={classes.root}>\n            <div className={classes.titleWrapper}>\n                <Typography variant='h5' className={classes.keyTitle}>\n                    <FormattedMessage\n                        id='Applications.Details.Subscriptions.api.webhooks'\n                        defaultMessage='Web Hooks'\n                    />\n                </Typography>\n            </div>\n            <List className={classes.listWrapper}>\n                {Object.keys(subscribedTopics).length < 1\n                && (\n                    <Typography color='textPrimary' display='block'>\n                        <FormattedMessage\n                            id='Applications.Details.Subscriptions.api.webhooks.subscriptions.unavailable'\n                            defaultMessage='No Webhook subscriptions available at this time.'\n                        />\n                    </Typography>\n                )}\n                {Object.keys(subscribedTopics).map((key) => (\n                    <>\n                        <ListItem className={classes.SubscriptionHeader}>\n                            <ListItemText primary={key} />\n                        </ListItem>\n                        {subscribedTopics[key].map((subscription) => (\n                            <Grid container direction='row'>\n                                <Grid item xs={1}>\n                                    {getLogoForDeliveryStatus(subscription)}\n                                </Grid>\n                                <Grid item xs={8}>\n                                    <Typography\n                                        color='textPrimary'\n                                        display='block'\n                                        className={classes.callbackurl}\n                                    >\n                                        {subscription.callBackUrl}\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={3}>\n                                    {subscription.deliveryTime ? (\n                                        <Typography\n                                            color='textSecondary'\n                                            display='block'\n                                            variant='caption'\n                                            className={classes.subscriptionTimestamp}\n                                        >\n                                            {subscription.deliveryTime}\n                                        </Typography>\n                                    ) : (\n                                        <Typography\n                                            color='textSecondary'\n                                            display='block'\n                                            variant='caption'\n                                            className={classes.subscriptionTimestamp}\n                                        >\n                                            <FormattedMessage\n                                                id='Applications.Details.Subscriptions.api.webhooks.delivery.time.unavailable'\n                                                defaultMessage='Delivery data unavailable'\n                                            />\n                                        </Typography>\n                                    )}\n                                </Grid>\n                                <Divider component='li' />\n                            </Grid>\n                        ))}\n                        <Divider component='li' />\n                    </>\n                ))}\n            </List>\n        </div>\n    );\n}\n","/* eslint-disable react/prop-types */\n/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n    Route, Switch, Redirect, Link,\n} from 'react-router-dom';\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\nimport ScreenLockLandscapeIcon from '@material-ui/icons/ScreenLockLandscape';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport API from 'AppData/api';\nimport { app } from 'Settings';\nimport Loading from 'AppComponents/Base/Loading/Loading';\nimport ResourceNotFound from 'AppComponents/Base/Errors/ResourceNotFound';\nimport CustomIcon from 'AppComponents/Shared/CustomIcon';\nimport LeftMenuItem from 'AppComponents/Shared/LeftMenuItem';\nimport TokenManager from 'AppComponents/Shared/AppsAndKeys/TokenManager';\nimport ApiKeyManager from 'AppComponents/Shared/AppsAndKeys/ApiKeyManager';\nimport classNames from 'classnames';\nimport Paper from '@material-ui/core/Paper';\nimport { Helmet } from 'react-helmet';\nimport Subscriptions from './Subscriptions';\nimport InfoBar from './InfoBar';\nimport Overview from './Overview';\nimport WebHookDetails from './WebHookDetails';\n\n/**\n *\n *\n * @param {*} theme theme details\n * @returns {Object}\n */\nconst styles = (theme) => {\n    const {\n        custom: {\n            leftMenu: { width, position },\n        },\n    } = theme;\n    const shiftToLeft = position === 'vertical-left' ? (width - 4) : 0;\n    const shiftToRight = position === 'vertical-right' ? width : 0;\n    const leftMenuPaddingLeft = position === 'horizontal' ? theme.spacing(3) : 0;\n\n    return {\n        LeftMenu: {\n            backgroundColor: theme.custom.leftMenu.background,\n            backgroundImage: `url(${app.context}${theme.custom.leftMenu.backgroundImage})`,\n            textAlign: 'left',\n            fontFamily: theme.typography.fontFamily,\n            position: 'absolute',\n            bottom: 0,\n            paddingLeft: leftMenuPaddingLeft,\n        },\n        leftMenuHorizontal: {\n            top: theme.custom.infoBar.height,\n            width: '100%',\n            overflowX: 'auto',\n            height: 60,\n            display: 'flex',\n            left: 0,\n        },\n        leftMenuVerticalLeft: {\n            width: theme.custom.leftMenu.width,\n            top: 0,\n            left: 0,\n            overflowY: 'auto',\n            [theme.breakpoints.down('sm')]: {\n                width: 50,\n            },\n        },\n        leftMenuVerticalRight: {\n            width: theme.custom.leftMenu.width,\n            top: 0,\n            right: 0,\n            overflowY: 'auto',\n        },\n        leftLInkMain: {\n            borderRight: 'solid 1px ' + theme.custom.leftMenu.background,\n            cursor: 'pointer',\n            background: theme.custom.leftMenu.rootBackground,\n            color: theme.palette.getContrastText(theme.custom.leftMenu.rootBackground),\n            textDecoration: 'none',\n            alignItems: 'center',\n            justifyContent: 'center',\n            display: 'flex',\n            height: theme.custom.infoBar.height,\n        },\n        leftLInkMainText: {\n            fontSize: 18,\n            color: theme.palette.grey[500],\n            textDecoration: 'none',\n            paddingLeft: theme.spacing(2),\n        },\n        detailsContent: {\n            display: 'flex',\n            flex: 1,\n        },\n        content: {\n            display: 'flex',\n            flex: 1,\n            flexDirection: 'column',\n            marginLeft: shiftToLeft,\n            marginRight: shiftToRight,\n            paddingBottom: theme.spacing(3),\n            overflowX: 'hidden',\n            [theme.breakpoints.down('sm')]: {\n                marginLeft: shiftToLeft !== 0 && 50,\n                marginRight: shiftToRight !== 0 && 50,\n            },\n        },\n        contentLoader: {\n            paddingTop: theme.spacing(3),\n        },\n        contentLoaderRightMenu: {\n            paddingRight: theme.custom.leftMenu.width,\n        },\n        titleWrapper: {\n            paddingLeft: 25,\n            paddingTop: 28,\n            textTransform: 'capitalize',\n        },\n        contentWrapper: {\n            paddingLeft: 25,\n        },\n        keyTitle: {\n            textTransform: 'capitalize',\n        },\n    };\n};\n/**\n *\n *\n * @class Details\n * @extends {Component}\n */\nclass Details extends Component {\n    /**\n     *\n     * @param {Object} props props passed from above\n     */\n    constructor(props) {\n        super(props);\n        this.state = {\n            application: null,\n        };\n    }\n\n    /**\n     *\n     *\n     * @memberof Details\n     */\n    componentDidMount() {\n        const { match } = this.props;\n        const client = new API();\n        const promisedApplication = client.getApplication(match.params.application_uuid);\n        promisedApplication\n            .then((response) => {\n                this.setState({ application: response.obj });\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.log(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ notFound: true });\n                }\n            });\n    }\n\n    /**\n     *\n     * @param {String} menuLink selected menu name\n     * @memberof Details\n     */\n    handleMenuSelect = (menuLink) => {\n        const { history, match } = this.props;\n        history.push({ pathname: '/applications/' + match.params.application_uuid + '/' + menuLink });\n    };\n\n    toTitleCase = (str) => {\n        return str.replace(\n            /\\w\\S*/g,\n            (txt) => {\n                return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n            },\n        );\n    };\n\n    renderManager = (application, keyType, secScheme) => {\n        const { classes } = this.props;\n        return (\n            <Paper>\n                {secScheme === 'oauth' && (\n                    <TokenManager\n                        keyType={keyType}\n                        selectedApp={{\n                            appId: application.applicationId,\n                            label: application.name,\n                            tokenType: application.tokenType,\n                            owner: application.owner,\n                            hashEnabled: application.hashEnabled,\n                        }}\n                    />\n\n                )}\n                {secScheme === 'apikey' && (\n                    <div className={classes.root}>\n                        <div className={classes.titleWrapper}>\n                            <Typography variant='h5' className={classes.keyTitle}>\n                                {this.toTitleCase(keyType)}\n                                <FormattedMessage\n                                    id='Applications.Details.api.keys.title'\n                                    defaultMessage=' API Key'\n                                />\n                            </Typography>\n                        </div>\n                        <div className={classes.contentWrapper}>\n                            <ApiKeyManager\n                                keyType={keyType}\n                                selectedApp={{\n                                    appId: application.applicationId,\n                                    label: application.name,\n                                    tokenType: application.tokenType,\n                                    owner: application.owner,\n                                }}\n                            />\n                        </div>\n                    </div>\n                )}\n            </Paper>\n        );\n    }\n\n    /**\n     *\n     *\n     * @returns {Component}\n     * @memberof Details\n     */\n    render() {\n        const {\n            classes, match, theme, intl,\n        } = this.props;\n        const { notFound, application } = this.state;\n        const pathPrefix = '/applications/' + match.params.application_uuid;\n        const redirectUrl = pathPrefix + '/overview';\n        const {\n            custom: {\n                leftMenu: {\n                    rootIconSize, rootIconTextVisible, rootIconVisible, position,\n                },\n                title: {\n                    prefix, sufix,\n                },\n            },\n        } = theme;\n        if (notFound) {\n            return <ResourceNotFound />;\n        } else if (!application) {\n            return <Loading />;\n        }\n        return (\n            <>\n                <Helmet>\n                    <title>{`${prefix} ${application.name}${sufix}`}</title>\n                </Helmet>\n                <nav\n                    role='navigation'\n                    aria-label={intl.formatMessage({\n                        id: 'Applications.Details.index.secondary.navigation',\n                        defaultMessage: 'Secondary Navigation',\n                    })}\n                    className={classNames(\n                        classes.LeftMenu,\n                        {\n                            [classes.leftMenuHorizontal]: position === 'horizontal',\n                        },\n                        {\n                            [classes.leftMenuVerticalLeft]: position === 'vertical-left',\n                        },\n                        {\n                            [classes.leftMenuVerticalRight]: position === 'vertical-right',\n                        },\n                        'left-menu',\n                    )}\n                >\n                    {rootIconVisible && (\n                        <Link to='/applications' className={classes.leftLInkMain} aria-label='All applications'>\n                            <CustomIcon width={rootIconSize} height={rootIconSize} icon='applications' />\n                            {rootIconTextVisible && (\n                                <Typography className={classes.leftLInkMainText}>\n                                    <FormattedMessage\n                                        id='Applications.Details.applications.all'\n                                        defaultMessage='ALL APPs'\n                                    />\n                                </Typography>\n                            )}\n                        </Link>\n                    )}\n                    <LeftMenuItem\n                        text={(\n                            <FormattedMessage\n                                id='Applications.Details.menu.overview'\n                                defaultMessage='Overview'\n                            />\n                        )}\n                        iconText='overview'\n                        route='overview'\n                        to={pathPrefix + '/overview'}\n                        open\n                    />\n                    <LeftMenuItem\n                        text={(\n                            <FormattedMessage\n                                id='Applications.Details.menu.prod.keys'\n                                defaultMessage='Production Keys'\n                            />\n                        )}\n                        iconText='productionkeys'\n                        route='productionkeys'\n                        to={pathPrefix + '/productionkeys/oauth'}\n                        open\n                    />\n                    <LeftMenuItem\n                        text={(\n                            <FormattedMessage\n                                id='Applications.Details.menu.oauth.tokens'\n                                defaultMessage='OAuth2 Tokens'\n                            />\n                        )}\n                        route='productionkeys/oauth'\n                        to={pathPrefix + '/productionkeys/oauth'}\n                        submenu\n                        Icon={<ScreenLockLandscapeIcon />}\n                        open\n                    />\n                    <LeftMenuItem\n                        text={(\n                            <FormattedMessage\n                                id='Applications.Details.menu.api.key'\n                                defaultMessage='API Key'\n                            />\n                        )}\n                        route='productionkeys/apikey'\n                        to={pathPrefix + '/productionkeys/apikey'}\n                        submenu\n                        Icon={<VpnKeyIcon />}\n                        open\n                    />\n                    <LeftMenuItem\n                        text={(\n                            <FormattedMessage\n                                id='Applications.Details.menu.sandbox.keys'\n                                defaultMessage='Sandbox Keys'\n                            />\n                        )}\n                        iconText='productionkeys'\n                        route='sandboxkeys'\n                        to={pathPrefix + '/sandboxkeys/oauth'}\n                        open\n                    />\n                    <LeftMenuItem\n                        text={(\n                            <FormattedMessage\n                                id='Applications.Details.menu.oauth.tokens'\n                                defaultMessage='OAuth2 Tokens'\n                            />\n                        )}\n                        route='sandboxkeys/oauth'\n                        to={pathPrefix + '/sandboxkeys/oauth'}\n                        submenu\n                        Icon={<ScreenLockLandscapeIcon />}\n                        open\n                    />\n                    <LeftMenuItem\n                        text={(\n                            <FormattedMessage\n                                id='Applications.Details.menu.api.key'\n                                defaultMessage='API Key'\n                            />\n                        )}\n                        route='sandboxkeys/apikey'\n                        to={pathPrefix + '/sandboxkeys/apikey'}\n                        submenu\n                        Icon={<VpnKeyIcon />}\n                        open\n                    />\n                    <LeftMenuItem\n                        text={(\n                            <FormattedMessage\n                                id='Applications.Details.menu.subscriptions'\n                                defaultMessage='Subscriptions'\n                            />\n                        )}\n                        iconText='subscriptions'\n                        route='subscriptions'\n                        to={pathPrefix + '/subscriptions'}\n                        open\n                    />\n                </nav>\n                <div className={classes.content}>\n                    <InfoBar\n                        applicationId={match.params.application_uuid}\n                        innerRef={(node) => { this.infoBar = node; }}\n                    />\n                    <div\n                        className={classNames(\n                            { [classes.contentLoader]: position === 'horizontal' },\n                            { [classes.contentLoaderRightMenu]: position === 'vertical-right' },\n                        )}\n                    >\n                        <Switch>\n                            <Redirect exact from='/applications/:applicationId' to={redirectUrl} />\n                            <Route\n                                path='/applications/:applicationId/overview'\n                                component={Overview}\n                            />\n                            <Route\n                                path='/applications/:applicationId/webhooks/:apiId'\n                                component={WebHookDetails}\n                            />\n                            <Route\n                                path='/applications/:applicationId/productionkeys/oauth'\n                                component={() => (this.renderManager(application, 'PRODUCTION', 'oauth'))}\n                            />\n                            <Route\n                                path='/applications/:applicationId/productionkeys/apikey'\n                                component={() => (this.renderManager(application, 'PRODUCTION', 'apikey'))}\n                            />\n                            <Route\n                                path='/applications/:applicationId/sandboxkeys/oauth'\n                                component={() => (this.renderManager(application, 'SANDBOX', 'oauth'))}\n                            />\n                            <Route\n                                path='/applications/:applicationId/sandboxkeys/apikey'\n                                component={() => (this.renderManager(application, 'SANDBOX', 'apikey'))}\n                            />\n                            <Route path='/applications/:applicationId/subscriptions' component={Subscriptions} />\n                            <Route component={ResourceNotFound} />\n                        </Switch>\n                    </div>\n                </div>\n            </>\n        );\n    }\n}\n\nDetails.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    theme: PropTypes.shape({}).isRequired,\n    match: PropTypes.shape({\n        params: PropTypes.shape({\n            application_uuid: PropTypes.string.isRequired,\n        }).isRequired,\n    }).isRequired,\n    history: PropTypes.shape({\n        push: PropTypes.func.isRequired,\n    }).isRequired,\n    intl: PropTypes.shape({\n        formatMessage: PropTypes.func,\n    }).isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(injectIntl(Details));\n"],"sourceRoot":""}